(()=>{var __webpack_modules__={19:(t,e,s)=>{"use strict";function r(t,e){t.prototype=Object.create(Error.prototype,{constructor:{value:t},name:{value:t.name,enumerable:!0,writable:e}})}var i=s(890).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),n=Object.keys(i);function o(t){return"number"==typeof t&&t>=1&&t<=25}function a(t,e){var s;o(t)?(this.name=n[t],this.message=e||""):(this.message=t,this.name="string"==typeof(s=e)&&s.substring(s.length-i.Error.length)===i.Error?e:i.Error),Error.captureStackTrace&&Error.captureStackTrace(this,a)}r(a,!0),Object.defineProperties(a.prototype,{code:{enumerable:!0,get:function(){var t=n.indexOf(this.name);return o(t)?t:0}}});for(var c={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},l=Object.entries(c),h=0;h<l.length;h++){a[l[h][0]]=l[h][1]}function d(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,d)}r(d),e.DOMException=a,e.DOMExceptionName=i,e.ExceptionCode=c,e.ParseError=d},180:(t,e,s)=>{"use strict";var r,i;s.d(e,{Al:()=>c,Gb:()=>a,Oe:()=>d});var n=s(590),o=s(432);const a=r||(r=s.t(n,2)),c=(new a.DOMImplementation).createDocument("",""),l=(null===(i||(i=s.t(o,2)))||void 0===(i||(i=s.t(o,2)))?void 0:o.install)||window.wgxpath.install,h=function(){const t={document:{},XPathResult:{}};return l(t),t.document.XPathResult=t.XPathResult,t.document}(),d={currentDocument:c,evaluate:h.evaluate,result:h.XPathResult,createNSResolver:h.createNSResolver}},302:(t,e,s)=>{"use strict";var r=s(890),i=r.find,n=r.hasDefaultHTMLNamespace,o=r.hasOwn,a=r.isHTMLMimeType,c=r.isHTMLRawTextElement,l=r.isHTMLVoidElement,h=r.MIME_TYPE,d=r.NAMESPACE,u=Symbol(),p=s(19),m=p.DOMException,f=p.DOMExceptionName,g=s(815);function b(t){if(t!==u)throw new TypeError("Illegal constructor")}function x(t){return""!==t}function E(t,e){return o(t,e)||(t[e]=!0),t}function y(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(x):[]}(t);return Object.keys(e.reduce(E,{}))}function N(t){if(!g.QName_exact.test(t))throw new m(m.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+t+'"')}function _(t,e){N(e),t=t||null;var s=null,i=e;if(e.indexOf(":")>=0){var n=e.split(":");s=n[0],i=n[1]}if(null!==s&&null===t)throw new m(m.NAMESPACE_ERR,"prefix is non-null and namespace is null");if("xml"===s&&t!==r.NAMESPACE.XML)throw new m(m.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(("xmlns"===s||"xmlns"===e)&&t!==r.NAMESPACE.XMLNS)throw new m(m.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(t===r.NAMESPACE.XMLNS&&"xmlns"!==s&&"xmlns"!==e)throw new m(m.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[t,s,i]}function v(t,e){for(var s in t)o(t,s)&&(e[s]=t[s])}function w(t,e){var s=t.prototype;if(!(s instanceof e)){function r(){}r.prototype=e.prototype,v(s,r=new r),t.prototype=s=r}s.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),s.constructor=t)}var C={},k=C.ELEMENT_NODE=1,A=C.ATTRIBUTE_NODE=2,T=C.TEXT_NODE=3,M=C.CDATA_SECTION_NODE=4,S=C.ENTITY_REFERENCE_NODE=5,L=C.ENTITY_NODE=6,I=C.PROCESSING_INSTRUCTION_NODE=7,R=C.COMMENT_NODE=8,O=C.DOCUMENT_NODE=9,P=C.DOCUMENT_TYPE_NODE=10,D=C.DOCUMENT_FRAGMENT_NODE=11,B=C.NOTATION_NODE=12,F=r.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function q(t,e){if(e.length<t.length)return q(e,t);var s=null;for(var r in t){if(t[r]!==e[r])return s;s=t[r]}return s}function j(t){return t.guid||(t.guid=Math.random()),t.guid}function U(){}function H(t,e){this._node=t,this._refresh=e,G(this)}function G(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var s=t._refresh(t._node);if(St(t,"length",s.length),!t.$$length||s.length<t.$$length)for(var r=s.length;r in t;r++)o(t,r)&&delete t[r];v(s,t),t._inc=e}}function z(){}function W(t,e){for(var s=0;s<t.length;){if(t[s]===e)return s;s++}}function V(t,e,s,r){if(r?e[W(e,r)]=s:(e[e.length]=s,e.length++),t){s.ownerElement=t;var i=t.ownerDocument;i&&(r&&Z(i,t,r),function(t,e,s){t&&t._inc++;var r=s.namespaceURI;r===d.XMLNS&&(e._nsMap[s.prefix?s.localName:""]=s.value)}(i,t,s))}}function X(t,e,s){var r=W(e,s);if(r>=0){for(var i=e.length-1;r<=i;)e[r]=e[++r];if(e.length=i,t){var n=t.ownerDocument;n&&Z(n,t,s),s.ownerElement=null}}}function $(){}function J(t){b(t)}function K(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function Y(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(Y(t,e))return!0}while(t=t.nextSibling)}function Q(t,e){b(t);var s=e||{};this.ownerDocument=this,this.contentType=s.contentType||h.XML_APPLICATION,this.type=a(this.contentType)?"html":"xml"}function Z(t,e,s,r){t&&t._inc++,s.namespaceURI===d.XMLNS&&delete e._nsMap[s.prefix?s.localName:""]}function tt(t,e,s){if(t&&t._inc){t._inc++;var r=e.childNodes;if(s&&!s.nextSibling)r[r.length++]=s;else{for(var i=e.firstChild,n=0;i;)r[n++]=i,i=i.nextSibling;r.length=n,delete r[r.length]}}}function et(t,e){if(t!==e.parentNode)throw new m(m.NOT_FOUND_ERR,"child's parent is not parent");var s=e.previousSibling,r=e.nextSibling;return s?s.nextSibling=r:t.firstChild=r,r?r.previousSibling=s:t.lastChild=s,tt(t.ownerDocument,t),e.parentNode=null,e.previousSibling=null,e.nextSibling=null,e}function st(t){return t&&t.nodeType===J.DOCUMENT_TYPE_NODE}function rt(t){return t&&t.nodeType===J.ELEMENT_NODE}function it(t){return t&&t.nodeType===J.TEXT_NODE}function nt(t,e){var s=t.childNodes||[];if(i(s,rt)||st(e))return!1;var r=i(s,st);return!(e&&r&&s.indexOf(r)>s.indexOf(e))}function ot(t,e){var s=t.childNodes||[];if(i(s,function(t){return rt(t)&&t!==e}))return!1;var r=i(s,st);return!(e&&r&&s.indexOf(r)>s.indexOf(e))}function at(t,e,s){if(!function(t){return t&&(t.nodeType===J.DOCUMENT_NODE||t.nodeType===J.DOCUMENT_FRAGMENT_NODE||t.nodeType===J.ELEMENT_NODE)}(t))throw new m(m.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+t.nodeType);if(s&&s.parentNode!==t)throw new m(m.NOT_FOUND_ERR,"child not in parent");if(!function(t){return t&&(t.nodeType===J.CDATA_SECTION_NODE||t.nodeType===J.COMMENT_NODE||t.nodeType===J.DOCUMENT_FRAGMENT_NODE||t.nodeType===J.DOCUMENT_TYPE_NODE||t.nodeType===J.ELEMENT_NODE||t.nodeType===J.PROCESSING_INSTRUCTION_NODE||t.nodeType===J.TEXT_NODE)}(e)||st(e)&&t.nodeType!==J.DOCUMENT_NODE)throw new m(m.HIERARCHY_REQUEST_ERR,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function ct(t,e,s){var r=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===J.DOCUMENT_FRAGMENT_NODE){var o=n.filter(rt);if(o.length>1||i(n,it))throw new m(m.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===o.length&&!nt(t,s))throw new m(m.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(rt(e)&&!nt(t,s))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(st(e)){if(i(r,st))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var a=i(r,rt);if(s&&r.indexOf(a)<r.indexOf(s))throw new m(m.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!s&&a)throw new m(m.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function lt(t,e,s){var r=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===J.DOCUMENT_FRAGMENT_NODE){var o=n.filter(rt);if(o.length>1||i(n,it))throw new m(m.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===o.length&&!ot(t,s))throw new m(m.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(rt(e)&&!ot(t,s))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(st(e)){function c(t){return st(t)&&t!==s}if(i(r,c))throw new m(m.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var a=i(r,rt);if(s&&r.indexOf(a)<r.indexOf(s))throw new m(m.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function ht(t,e,s,r){at(t,e,s),t.nodeType===J.DOCUMENT_NODE&&(r||ct)(t,e,s);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===D){var n=e.firstChild;if(null==n)return e;var o=e.lastChild}else n=o=e;var a=s?s.previousSibling:t.lastChild;n.previousSibling=a,o.nextSibling=s,a?a.nextSibling=n:t.firstChild=n,null==s?t.lastChild=o:s.previousSibling=o;do{n.parentNode=t}while(n!==o&&(n=n.nextSibling));return tt(t.ownerDocument||t,t,e),e.nodeType==D&&(e.firstChild=e.lastChild=null),e}function dt(t){b(t),this._nsMap=Object.create(null)}function ut(t){b(t),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function pt(t){b(t)}function mt(t){b(t)}function ft(t){b(t)}function gt(t){b(t)}function bt(t){b(t)}function xt(t){b(t)}function Et(t){b(t)}function yt(t){b(t)}function Nt(t){b(t)}function _t(t){b(t)}function vt(){}function wt(t){var e=[],s=this.nodeType===O&&this.documentElement||this,r=s.prefix,i=s.namespaceURI;if(i&&null==r&&null==(r=s.lookupPrefix(i)))var n=[{namespace:i,prefix:null}];return At(this,e,t,n),e.join("")}function Ct(t,e,s){var r=t.prefix||"",i=t.namespaceURI;if(!i)return!1;if("xml"===r&&i===d.XML||i===d.XMLNS)return!1;for(var n=s.length;n--;){var o=s[n];if(o.prefix===r)return o.namespace!==i}return!0}function kt(t,e,s){t.push(" ",e,'="',s.replace(/[<>&"\t\n\r]/g,K),'"')}function At(t,e,s,r){r||(r=[]);var i="html"===(t.nodeType===O?t:t.ownerDocument).type;if(s){if(!(t=s(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case k:var n=t.attributes,o=n.length,a=t.firstChild,h=t.tagName,u=h;if(!i&&!t.prefix&&t.namespaceURI){for(var p,m=0;m<n.length;m++)if("xmlns"===n.item(m).name){p=n.item(m).value;break}if(!p)for(var f=r.length-1;f>=0;f--){if(""===(b=r[f]).prefix&&b.namespace===t.namespaceURI){p=b.namespace;break}}if(p!==t.namespaceURI)for(f=r.length-1;f>=0;f--){var b;if((b=r[f]).namespace===t.namespaceURI){b.prefix&&(u=b.prefix+":"+h);break}}}e.push("<",u);for(var x=0;x<o;x++){"xmlns"==(E=n.item(x)).prefix?r.push({prefix:E.localName,namespace:E.value}):"xmlns"==E.nodeName&&r.push({prefix:"",namespace:E.value})}for(x=0;x<o;x++){var E,y,N;if(Ct(E=n.item(x),0,r))kt(e,(y=E.prefix||"")?"xmlns:"+y:"xmlns",N=E.namespaceURI),r.push({prefix:y,namespace:N});At(E,e,s,r)}if(h===u&&Ct(t,0,r))kt(e,(y=t.prefix||"")?"xmlns:"+y:"xmlns",N=t.namespaceURI),r.push({prefix:y,namespace:N});var _=!a;if(_&&(i||t.namespaceURI===d.HTML)&&(_=l(h)),_)e.push("/>");else{if(e.push(">"),i&&c(h))for(;a;)a.data?e.push(a.data):At(a,e,s,r.slice()),a=a.nextSibling;else for(;a;)At(a,e,s,r.slice()),a=a.nextSibling;e.push("</",u,">")}return;case O:case D:for(a=t.firstChild;a;)At(a,e,s,r.slice()),a=a.nextSibling;return;case A:return kt(e,t.name,t.value);case T:return e.push(t.data.replace(/[<&>]/g,K));case M:return e.push(g.CDATA_START,t.data,g.CDATA_END);case R:return e.push(g.COMMENT_START,t.data,g.COMMENT_END);case P:var v=t.publicId,w=t.systemId;return e.push(g.DOCTYPE_DECL_START," ",t.name),v?(e.push(" ",g.PUBLIC," ",v),w&&"."!==w&&e.push(" ",w)):w&&"."!==w&&e.push(" ",g.SYSTEM," ",w),t.internalSubset&&e.push(" [",t.internalSubset,"]"),void e.push(">");case I:return e.push("<?",t.target," ",t.data,"?>");case S:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Tt(t,e,s){var r;switch(e.nodeType){case k:(r=e.cloneNode(!1)).ownerDocument=t;case D:break;case A:s=!0}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,s)for(var i=e.firstChild;i;)r.appendChild(Tt(t,i,s)),i=i.nextSibling;return r}function Mt(t,e,s){var r=new e.constructor(u);for(var i in e)if(o(e,i)){var n=e[i];"object"!=typeof n&&n!=r[i]&&(r[i]=n)}switch(e.childNodes&&(r.childNodes=new U),r.ownerDocument=t,r.nodeType){case k:var a=e.attributes,c=r.attributes=new z,l=a.length;c._ownerElement=r;for(var h=0;h<l;h++)r.setAttributeNode(Mt(t,a.item(h),!0));break;case A:s=!0}if(s)for(var d=e.firstChild;d;)r.appendChild(Mt(t,d,s)),d=d.nextSibling;return r}function St(t,e,s){t[e]=s}U.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t){for(var e=[],s=0;s<this.length;s++)At(this[s],e,t);return e.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}},U.prototype[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},H.prototype.item=function(t){return G(this),this[t]||null},w(H,U),z.prototype={length:0,item:U.prototype.item,getNamedItem:function(t){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(t=t.toLowerCase());for(var e=0;e<this.length;){var s=this[e];if(s.nodeName===t)return s;e++}return null},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!==this._ownerElement)throw new m(m.INUSE_ATTRIBUTE_ERR);var s=this.getNamedItemNS(t.namespaceURI,t.localName);return s===t?t:(V(this._ownerElement,this,t,s),s)},setNamedItemNS:function(t){return this.setNamedItem(t)},removeNamedItem:function(t){var e=this.getNamedItem(t);if(!e)throw new m(m.NOT_FOUND_ERR,t);return X(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var s=this.getNamedItemNS(t,e);if(!s)throw new m(m.NOT_FOUND_ERR,t?t+" : "+e:e);return X(this._ownerElement,this,s),s},getNamedItemNS:function(t,e){t||(t=null);for(var s=0;s<this.length;){var r=this[s];if(r.localName===e&&r.namespaceURI===t)return r;s++}return null}},z.prototype[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},$.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,s){var r=h.XML_APPLICATION;t===d.HTML?r=h.XML_XHTML_APPLICATION:t===d.SVG&&(r=h.XML_SVG_IMAGE);var i=new Q(u,{contentType:r});if(i.implementation=this,i.childNodes=new U,i.doctype=s||null,s&&i.appendChild(s),e){var n=i.createElementNS(t,e);i.appendChild(n)}return i},createDocumentType:function(t,e,s,r){N(t);var i=new bt(u);return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=s||"",i.internalSubset=r||"",i.childNodes=new U,i},createHTMLDocument:function(t){var e=new Q(u,{contentType:h.HTML});if(e.implementation=this,e.childNodes=new U,!1!==t){e.doctype=this.createDocumentType("html"),e.doctype.ownerDocument=e,e.appendChild(e.doctype);var s=e.createElement("html");e.appendChild(s);var r=e.createElement("head");if(s.appendChild(r),"string"==typeof t){var i=e.createElement("title");i.appendChild(e.createTextNode(t)),r.appendChild(i)}s.appendChild(e.createElement("body"))}return e}},J.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var t=this.getRootNode();return t&&t.nodeType===t.DOCUMENT_NODE},contains:function(t){if(!t)return!1;var e=t;do{if(this===e)return!0;e=t.parentNode}while(e);return!1},getRootNode:function(t){var e=this;do{if(!e.parentNode)return e;e=e.parentNode}while(e)},isEqualNode:function(t){if(!t)return!1;if(this.nodeType!==t.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==t.name)return!1;if(this.publicId!==t.publicId)return!1;if(this.systemId!==t.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==t.namespaceURI)return!1;if(this.prefix!==t.prefix)return!1;if(this.localName!==t.localName)return!1;if(this.attributes.length!==t.attributes.length)return!1;for(var e=0;e<this.attributes.length;e++){var s=this.attributes.item(e);if(!s.isEqualNode(t.getAttributeNodeNS(s.namespaceURI,s.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==t.namespaceURI)return!1;if(this.localName!==t.localName)return!1;if(this.value!==t.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==t.target||this.data!==t.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==t.data)return!1}if(this.childNodes.length!==t.childNodes.length)return!1;for(e=0;e<this.childNodes.length;e++)if(!this.childNodes[e].isEqualNode(t.childNodes[e]))return!1;return!0},isSameNode:function(t){return this===t},insertBefore:function(t,e){return ht(this,t,e)},replaceChild:function(t,e){ht(this,t,e,lt),e&&this.removeChild(e)},removeChild:function(t){return et(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return Mt(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==T&&t.nodeType==T?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},lookupPrefix:function(t){for(var e=this;e;){var s=e._nsMap;if(s)for(var r in s)if(o(s,r)&&s[r]===t)return r;e=e.nodeType==A?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var s=e._nsMap;if(s&&o(s,t))return s[t];e=e.nodeType==A?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)},compareDocumentPosition:function(t){if(this===t)return 0;var e=t,s=this,r=null,i=null;if(e instanceof ut&&(e=(r=e).ownerElement),s instanceof ut&&(s=(i=s).ownerElement,r&&e&&s===e))for(var n,o=0;n=s.attributes[o];o++){if(n===r)return F.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+F.DOCUMENT_POSITION_PRECEDING;if(n===i)return F.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+F.DOCUMENT_POSITION_FOLLOWING}if(!e||!s||s.ownerDocument!==e.ownerDocument)return F.DOCUMENT_POSITION_DISCONNECTED+F.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(j(s.ownerDocument)>j(e.ownerDocument)?F.DOCUMENT_POSITION_FOLLOWING:F.DOCUMENT_POSITION_PRECEDING);if(i&&e===s)return F.DOCUMENT_POSITION_CONTAINS+F.DOCUMENT_POSITION_PRECEDING;if(r&&e===s)return F.DOCUMENT_POSITION_CONTAINED_BY+F.DOCUMENT_POSITION_FOLLOWING;for(var a=[],c=e.parentNode;c;){if(!i&&c===s)return F.DOCUMENT_POSITION_CONTAINED_BY+F.DOCUMENT_POSITION_FOLLOWING;a.push(c),c=c.parentNode}a.reverse();for(var l=[],h=s.parentNode;h;){if(!r&&h===e)return F.DOCUMENT_POSITION_CONTAINS+F.DOCUMENT_POSITION_PRECEDING;l.push(h),h=h.parentNode}l.reverse();var d=q(a,l);for(var u in d.childNodes){var p=d.childNodes[u];if(p===s)return F.DOCUMENT_POSITION_FOLLOWING;if(p===e)return F.DOCUMENT_POSITION_PRECEDING;if(l.indexOf(p)>=0)return F.DOCUMENT_POSITION_FOLLOWING;if(a.indexOf(p)>=0)return F.DOCUMENT_POSITION_PRECEDING}return 0}},v(C,J),v(C,J.prototype),v(F,J),v(F,J.prototype),Q.prototype={implementation:null,nodeName:"#document",nodeType:O,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType===D){for(var s=t.firstChild;s;){var r=s.nextSibling;this.insertBefore(s,e),s=r}return t}return ht(this,t,e),t.ownerDocument=this,null===this.documentElement&&t.nodeType===k&&(this.documentElement=t),t},removeChild:function(t){var e=et(this,t);return e===this.documentElement&&(this.documentElement=null),e},replaceChild:function(t,e){ht(this,t,e,lt),t.ownerDocument=this,e&&this.removeChild(e),rt(t)&&(this.documentElement=t)},importNode:function(t,e){return Tt(this,t,e)},getElementById:function(t){var e=null;return Y(this.documentElement,function(s){if(s.nodeType==k&&s.getAttribute("id")==t)return e=s,!0}),e},createElement:function(t){var e=new dt(u);return e.ownerDocument=this,"html"===this.type&&(t=t.toLowerCase()),n(this.contentType)&&(e.namespaceURI=d.HTML),e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new U,(e.attributes=new z)._ownerElement=e,e},createDocumentFragment:function(){var t=new Nt(u);return t.ownerDocument=this,t.childNodes=new U,t},createTextNode:function(t){var e=new mt(u);return e.ownerDocument=this,e.childNodes=new U,e.appendData(t),e},createComment:function(t){var e=new ft(u);return e.ownerDocument=this,e.childNodes=new U,e.appendData(t),e},createCDATASection:function(t){var e=new gt(u);return e.ownerDocument=this,e.childNodes=new U,e.appendData(t),e},createProcessingInstruction:function(t,e){var s=new _t(u);return s.ownerDocument=this,s.childNodes=new U,s.nodeName=s.target=t,s.nodeValue=s.data=e,s},createAttribute:function(t){if(!g.QName_exact.test(t))throw new m(m.INVALID_CHARACTER_ERR,'invalid character in name "'+t+'"');return"html"===this.type&&(t=t.toLowerCase()),this._createAttribute(t)},_createAttribute:function(t){var e=new ut(u);return e.ownerDocument=this,e.childNodes=new U,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){if(!g.Name.test(t))throw new m(m.INVALID_CHARACTER_ERR,'not a valid xml name "'+t+'"');if("html"===this.type)throw new m("document is an html document",f.NotSupportedError);var e=new yt(u);return e.ownerDocument=this,e.childNodes=new U,e.nodeName=t,e},createElementNS:function(t,e){var s=_(t,e),r=new dt(u),i=r.attributes=new z;return r.childNodes=new U,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=s[0],r.prefix=s[1],r.localName=s[2],i._ownerElement=r,r},createAttributeNS:function(t,e){var s=_(t,e),r=new ut(u);return r.ownerDocument=this,r.childNodes=new U,r.nodeName=e,r.name=e,r.specified=!0,r.namespaceURI=s[0],r.prefix=s[1],r.localName=s[2],r}},w(Q,J),dt.prototype={nodeType:k,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return"html"===this.ownerDocument.type&&this.namespaceURI===d.HTML},hasAttributes:function(){return!(!this.attributes||!this.attributes.length)},hasAttribute:function(t){return!!this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e?e.value:null},getAttributeNode:function(t){return this._isInHTMLDocumentAndNamespace()&&(t=t.toLowerCase()),this.attributes.getNamedItem(t)},setAttribute:function(t,e){this._isInHTMLDocumentAndNamespace()&&(t=t.toLowerCase());var s=this.getAttributeNode(t);s?s.value=s.nodeValue=""+e:((s=this.ownerDocument._createAttribute(t)).value=s.nodeValue=""+e,this.setAttributeNode(s))},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var s=this.getAttributeNodeNS(t,e);s&&this.removeAttributeNode(s)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var s=this.getAttributeNodeNS(t,e);return s?s.value:null},setAttributeNS:function(t,e,s){var r=_(t,e)[2],i=this.getAttributeNodeNS(t,r);i?i.value=i.nodeValue=""+s:((i=this.ownerDocument.createAttributeNS(t,e)).value=i.nodeValue=""+s,this.setAttributeNode(i))},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByClassName:function(t){var e=y(t);return new H(this,function(s){var r=[];return e.length>0&&Y(s,function(i){if(i!==s&&i.nodeType===k){var n=i.getAttribute("class");if(n){var o=t===n;if(!o){var a=y(n);o=e.every((c=a,function(t){return c&&-1!==c.indexOf(t)}))}o&&r.push(i)}}var c}),r})},getElementsByTagName:function(t){var e="html"===(this.nodeType===O?this:this.ownerDocument).type,s=t.toLowerCase();return new H(this,function(r){var i=[];return Y(r,function(n){n!==r&&n.nodeType===k&&(("*"===t||n.getQualifiedName()===(e&&n.namespaceURI===d.HTML?s:t))&&i.push(n))}),i})},getElementsByTagNameNS:function(t,e){return new H(this,function(s){var r=[];return Y(s,function(i){i===s||i.nodeType!==k||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)}),r})}},Q.prototype.getElementsByClassName=dt.prototype.getElementsByClassName,Q.prototype.getElementsByTagName=dt.prototype.getElementsByTagName,Q.prototype.getElementsByTagNameNS=dt.prototype.getElementsByTagNameNS,w(dt,J),ut.prototype.nodeType=A,w(ut,J),pt.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,s){s=this.data.substring(0,t)+s+this.data.substring(t+e),this.nodeValue=this.data=s,this.length=s.length}},w(pt,J),mt.prototype={nodeName:"#text",nodeType:T,splitText:function(t){var e=this.data,s=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(s);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},w(mt,pt),ft.prototype={nodeName:"#comment",nodeType:R},w(ft,pt),gt.prototype={nodeName:"#cdata-section",nodeType:M},w(gt,mt),bt.prototype.nodeType=P,w(bt,J),xt.prototype.nodeType=B,w(xt,J),Et.prototype.nodeType=L,w(Et,J),yt.prototype.nodeType=S,w(yt,J),Nt.prototype.nodeName="#document-fragment",Nt.prototype.nodeType=D,w(Nt,J),_t.prototype.nodeType=I,w(_t,pt),vt.prototype.serializeToString=function(t,e){return wt.call(t,e)},J.prototype.toString=wt;try{if(Object.defineProperty){function Lt(t){switch(t.nodeType){case k:case D:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(Lt(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(H.prototype,"length",{get:function(){return G(this),this.$$length}}),Object.defineProperty(J.prototype,"textContent",{get:function(){return Lt(this)},set:function(t){switch(this.nodeType){case k:case D:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),St=function(t,e,s){t["$$"+e]=s}}}catch(It){}e._updateLiveList=G,e.Attr=ut,e.CDATASection=gt,e.CharacterData=pt,e.Comment=ft,e.Document=Q,e.DocumentFragment=Nt,e.DocumentType=bt,e.DOMImplementation=$,e.Element=dt,e.Entity=Et,e.EntityReference=yt,e.LiveNodeList=H,e.NamedNodeMap=z,e.Node=J,e.NodeList=U,e.Notation=xt,e.Text=mt,e.ProcessingInstruction=_t,e.XMLSerializer=vt},315:(t,e,s)=>{"use strict";var r=s(890).freeze;e.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=r({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\u{1d4b7}",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\u{1d520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\u{1d554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1d4bb}",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\u{1d525}",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\u{1d559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\u{1d4bd}",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\u{1d526}",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\u{1d4be}",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1d4c1}",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1d4c2}",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\u{1d55f}",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\u{1d561}",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",Qopf:"\u211a",qopf:"\u{1d562}",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\u{1d52f}",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\u{1d4c7}",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\u{1d537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\u{1d56b}",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"}),e.entityMap=e.HTML_ENTITIES},432:(t,e,s)=>{(function(){"use strict";var e=this;function s(t){return"string"==typeof t}function r(t,e,s){return t.call.apply(t.bind,arguments)}function i(t,e,s){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function n(t,e,s){return(n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:i).apply(null,arguments)}function o(t){var e=ot;function s(){}s.prototype=e.prototype,t.G=e.prototype,t.prototype=new s,t.prototype.constructor=t,t.F=function(t,s,r){for(var i=Array(arguments.length-2),n=2;n<arguments.length;n++)i[n-2]=arguments[n];return e.prototype[s].apply(t,i)}}var a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function c(t,e){return-1!=t.indexOf(e)}function l(t,e){return t<e?-1:t>e?1:0}var h,d=Array.prototype.indexOf?function(t,e,s){return Array.prototype.indexOf.call(t,e,s)}:function(t,e,r){if(r=null==r?0:0>r?Math.max(0,t.length+r):r,s(t))return s(e)&&1==e.length?t.indexOf(e,r):-1;for(;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1},u=Array.prototype.forEach?function(t,e,s){Array.prototype.forEach.call(t,e,s)}:function(t,e,r){for(var i=t.length,n=s(t)?t.split(""):t,o=0;o<i;o++)o in n&&e.call(r,n[o],o,t)},p=Array.prototype.filter?function(t,e,s){return Array.prototype.filter.call(t,e,s)}:function(t,e,r){for(var i=t.length,n=[],o=0,a=s(t)?t.split(""):t,c=0;c<i;c++)if(c in a){var l=a[c];e.call(r,l,c,t)&&(n[o++]=l)}return n},m=Array.prototype.reduce?function(t,e,s,r){return r&&(e=n(e,r)),Array.prototype.reduce.call(t,e,s)}:function(t,e,s,r){var i=s;return u(t,function(s,n){i=e.call(r,i,s,n,t)}),i},f=Array.prototype.some?function(t,e,s){return Array.prototype.some.call(t,e,s)}:function(t,e,r){for(var i=t.length,n=s(t)?t.split(""):t,o=0;o<i;o++)if(o in n&&e.call(r,n[o],o,t))return!0;return!1};t:{var g=e.navigator;if(g){var b=g.userAgent;if(b){h=b;break t}}h=""}var x,E,y=c(h,"Opera")||c(h,"OPR"),N=c(h,"Trident")||c(h,"MSIE"),_=c(h,"Edge"),v=c(h,"Gecko")&&!(c(h.toLowerCase(),"webkit")&&!c(h,"Edge"))&&!(c(h,"Trident")||c(h,"MSIE"))&&!c(h,"Edge"),w=c(h.toLowerCase(),"webkit")&&!c(h,"Edge");function C(){var t=e.document;return t?t.documentMode:void 0}t:{var k="",A=(E=h,v?/rv\:([^\);]+)(\)|;)/.exec(E):_?/Edge\/([\d\.]+)/.exec(E):N?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(E):w?/WebKit\/(\S+)/.exec(E):y?/(?:Version)[ \/]?(\S+)/.exec(E):void 0);if(A&&(k=A?A[1]:""),N){var T=C();if(null!=T&&T>parseFloat(k)){x=String(T);break t}}x=k}var M={};function S(t){if(!M[t]){for(var e=0,s=a(String(x)).split("."),r=a(String(t)).split("."),i=Math.max(s.length,r.length),n=0;0==e&&n<i;n++){var o=s[n]||"",c=r[n]||"",h=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var u=h.exec(o)||["","",""],p=d.exec(c)||["","",""];if(0==u[0].length&&0==p[0].length)break;e=l(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||l(0==u[2].length,0==p[2].length)||l(u[2],p[2])}while(0==e)}M[t]=0<=e}}var L=e.document,I=L&&N?C()||("CSS1Compat"==L.compatMode?parseInt(x,10):5):void 0,R=N&&!(9<=Number(I)),O=N&&!(8<=Number(I));function P(t,e,s,r){this.a=t,this.nodeName=s,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=e}function D(t,e){var s=O&&"href"==e.nodeName?t.getAttribute(e.nodeName,2):e.nodeValue;return new P(e,t,e.nodeName,s)}function B(t){var e=null;if(1==(s=t.nodeType)&&(e=null==(e=null==(e=t.textContent)||null==e?t.innerText:e)||null==e?"":e),"string"!=typeof e)if(R&&"title"==t.nodeName.toLowerCase()&&1==s)e=t.text;else if(9==s||1==s){t=9==s?t.documentElement:t.firstChild;var s=0,r=[];for(e="";t;){do{1!=t.nodeType&&(e+=t.nodeValue),R&&"title"==t.nodeName.toLowerCase()&&(e+=t.text),r[s++]=t}while(t=t.firstChild);for(;s&&!(t=r[--s].nextSibling););}}else e=t.nodeValue;return""+e}function F(t,e,s){if(null===e)return!0;try{if(!t.getAttribute)return!1}catch(t){return!1}return O&&"class"==e&&(e="className"),null==s?!!t.getAttribute(e):t.getAttribute(e,2)==s}function q(t,e,r,i,n){return(R?j:U).call(null,t,e,s(r)?r:null,s(i)?i:null,n||new K)}function j(t,e,s,r,i){if(t instanceof Ot||8==t.b||s&&null===t.b){var n=e.all;if(!n)return i;if("*"!=(t=W(t))&&!(n=e.getElementsByTagName(t)))return i;if(s){for(var o=[],a=0;e=n[a++];)F(e,s,r)&&o.push(e);n=o}for(a=0;e=n[a++];)"*"==t&&"!"==e.tagName||tt(i,e);return i}return z(t,e,s,r,i),i}function U(t,e,s,r,i){return e.getElementsByName&&r&&"name"==s&&!N?(e=e.getElementsByName(r),u(e,function(e){t.a(e)&&tt(i,e)})):e.getElementsByClassName&&r&&"class"==s?(e=e.getElementsByClassName(r),u(e,function(e){e.className==r&&t.a(e)&&tt(i,e)})):t instanceof Ct?z(t,e,s,r,i):e.getElementsByTagName&&(e=e.getElementsByTagName(t.f()),u(e,function(t){F(t,s,r)&&tt(i,t)})),i}function H(t,e,s,r,i){var n;if((t instanceof Ot||8==t.b||s&&null===t.b)&&(n=e.childNodes)){var o=W(t);return"*"==o||(n=p(n,function(t){return t.tagName&&t.tagName.toLowerCase()==o}),n)?(s&&(n=p(n,function(t){return F(t,s,r)})),u(n,function(t){"*"==o&&("!"==t.tagName||"*"==o&&1!=t.nodeType)||tt(i,t)}),i):i}return G(t,e,s,r,i)}function G(t,e,s,r,i){for(e=e.firstChild;e;e=e.nextSibling)F(e,s,r)&&t.a(e)&&tt(i,e);return i}function z(t,e,s,r,i){for(e=e.firstChild;e;e=e.nextSibling)F(e,s,r)&&t.a(e)&&tt(i,e),z(t,e,s,r,i)}function W(t){if(t instanceof Ct){if(8==t.b)return"!";if(null===t.b)return"*"}return t.f()}function V(t,e){if(!t||!e)return!1;if(t.contains&&1==e.nodeType)return t==e||t.contains(e);if(void 0!==t.compareDocumentPosition)return t==e||!!(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e.parentNode;return e==t}function X(t,s){if(t==s)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(s)?1:-1;if(N&&!(9<=Number(I))){if(9==t.nodeType)return-1;if(9==s.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var r=1==t.nodeType,i=1==s.nodeType;if(r&&i)return t.sourceIndex-s.sourceIndex;var n=t.parentNode,o=s.parentNode;return n==o?J(t,s):!r&&V(n,s)?-1*$(t,s):!i&&V(o,t)?$(s,t):(r?t.sourceIndex:n.sourceIndex)-(i?s.sourceIndex:o.sourceIndex)}return(r=(i=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),r.collapse(!0),(i=i.createRange()).selectNode(s),i.collapse(!0),r.compareBoundaryPoints(e.Range.START_TO_END,i)}function $(t,e){var s=t.parentNode;if(s==e)return-1;for(var r=e;r.parentNode!=s;)r=r.parentNode;return J(r,t)}function J(t,e){for(var s=e;s=s.previousSibling;)if(s==t)return-1;return 1}function K(){this.b=this.a=null,this.l=0}function Y(t){this.node=t,this.a=this.b=null}function Q(t,e){if(!t.a)return e;if(!e.a)return t;for(var s=t.a,r=e.a,i=null,n=null,o=0;s&&r;){n=s.node;var a=r.node;n==a||n instanceof P&&a instanceof P&&n.a==a.a?(n=s,s=s.a,r=r.a):0<X(s.node,r.node)?(n=r,r=r.a):(n=s,s=s.a),(n.b=i)?i.a=n:t.a=n,i=n,o++}for(n=s||r;n;)n.b=i,i=i.a=n,o++,n=n.a;return t.b=i,t.l=o,t}function Z(t,e){var s=new Y(e);s.a=t.a,t.b?t.a.b=s:t.a=t.b=s,t.a=s,t.l++}function tt(t,e){var s=new Y(e);s.b=t.b,t.a?t.b.a=s:t.a=t.b=s,t.b=s,t.l++}function et(t){return(t=t.a)?t.node:null}function st(t){return(t=et(t))?B(t):""}function rt(t,e){return new it(t,!!e)}function it(t,e){this.f=t,this.b=(this.c=e)?t.b:t.a,this.a=null}function nt(t){var e=t.b;if(null==e)return null;var s=t.a=e;return t.b=t.c?e.b:e.a,s.node}function ot(t){this.i=t,this.b=this.g=!1,this.f=null}function at(t){return"\n  "+t.toString().split("\n").join("\n  ")}function ct(t,e){t.g=e}function lt(t,e){t.b=e}function ht(t,e){var s=t.a(e);return s instanceof K?+st(s):+s}function dt(t,e){var s=t.a(e);return s instanceof K?st(s):""+s}function ut(t,e){var s=t.a(e);return s instanceof K?!!s.l:!!s}function pt(t,e,s){ot.call(this,t.i),this.c=t,this.h=e,this.o=s,this.g=e.g||s.g,this.b=e.b||s.b,this.c==xt&&(s.b||s.g||4==s.i||0==s.i||!e.f?e.b||e.g||4==e.i||0==e.i||!s.f||(this.f={name:s.f.name,s:e}):this.f={name:e.f.name,s})}function mt(t,e,s,r,i){var n;if(e=e.a(r),s=s.a(r),e instanceof K&&s instanceof K){for(r=nt(e=rt(e));r;r=nt(e))for(n=nt(i=rt(s));n;n=nt(i))if(t(B(r),B(n)))return!0;return!1}if(e instanceof K||s instanceof K){e instanceof K?(i=e,r=s):(i=s,r=e);for(var o=typeof r,a=nt(n=rt(i));a;a=nt(n)){switch(o){case"number":a=+B(a);break;case"boolean":a=!!B(a);break;case"string":a=B(a);break;default:throw Error("Illegal primitive type for comparison.")}if(i==e&&t(a,r)||i==s&&t(r,a))return!0}return!1}return i?"boolean"==typeof e||"boolean"==typeof s?t(!!e,!!s):"number"==typeof e||"number"==typeof s?t(+e,+s):t(e,s):t(+e,+s)}function ft(t,e,s,r){this.a=t,this.w=e,this.i=s,this.m=r}!v&&!N||N&&9<=Number(I)||v&&S("1.9.1"),N&&S("9"),o(pt),pt.prototype.a=function(t){return this.c.m(this.h,this.o,t)},pt.prototype.toString=function(){return"Binary Expression: "+this.c+at(this.h)+at(this.o)},ft.prototype.toString=function(){return this.a};var gt={};function bt(t,e,s,r){if(gt.hasOwnProperty(t))throw Error("Binary operator already created: "+t);return t=new ft(t,e,s,r),gt[t.toString()]=t}bt("div",6,1,function(t,e,s){return ht(t,s)/ht(e,s)}),bt("mod",6,1,function(t,e,s){return ht(t,s)%ht(e,s)}),bt("*",6,1,function(t,e,s){return ht(t,s)*ht(e,s)}),bt("+",5,1,function(t,e,s){return ht(t,s)+ht(e,s)}),bt("-",5,1,function(t,e,s){return ht(t,s)-ht(e,s)}),bt("<",4,2,function(t,e,s){return mt(function(t,e){return t<e},t,e,s)}),bt(">",4,2,function(t,e,s){return mt(function(t,e){return t>e},t,e,s)}),bt("<=",4,2,function(t,e,s){return mt(function(t,e){return t<=e},t,e,s)}),bt(">=",4,2,function(t,e,s){return mt(function(t,e){return t>=e},t,e,s)});var xt=bt("=",3,2,function(t,e,s){return mt(function(t,e){return t==e},t,e,s,!0)});function Et(t,e,s){this.a=t,this.b=e||1,this.f=s||1}function yt(t,e){if(e.a.length&&4!=t.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");ot.call(this,t.i),this.c=t,this.h=e,this.g=t.g,this.b=t.b}function Nt(t,e){if(e.length<t.A)throw Error("Function "+t.j+" expects at least"+t.A+" arguments, "+e.length+" given");if(null!==t.v&&e.length>t.v)throw Error("Function "+t.j+" expects at most "+t.v+" arguments, "+e.length+" given");t.B&&u(e,function(e,s){if(4!=e.i)throw Error("Argument "+s+" to function "+t.j+" is not of type Nodeset: "+e)}),ot.call(this,t.i),this.h=t,this.c=e,ct(this,t.g||f(e,function(t){return t.g})),lt(this,t.D&&!e.length||t.C&&!!e.length||f(e,function(t){return t.b}))}function _t(t,e,s,r,i,n,o,a,c){this.j=t,this.i=e,this.g=s,this.D=r,this.C=i,this.m=n,this.A=o,this.v=void 0!==a?a:o,this.B=!!c}bt("!=",3,2,function(t,e,s){return mt(function(t,e){return t!=e},t,e,s,!0)}),bt("and",2,2,function(t,e,s){return ut(t,s)&&ut(e,s)}),bt("or",1,2,function(t,e,s){return ut(t,s)||ut(e,s)}),o(yt),yt.prototype.a=function(t){return t=this.c.a(t),Ut(this.h,t)},yt.prototype.toString=function(){return"Filter:"+at(this.c)+at(this.h)},o(Nt),Nt.prototype.a=function(t){return this.h.m.apply(null,function(t){return Array.prototype.concat.apply(Array.prototype,arguments)}(t,this.c))},Nt.prototype.toString=function(){var t="Function: "+this.h;if(this.c.length){var e=m(this.c,function(t,e){return t+at(e)},"Arguments:");t=t+at(e)}return t},_t.prototype.toString=function(){return this.j};var vt={};function wt(t,e,s,r,i,n,o,a){if(vt.hasOwnProperty(t))throw Error("Function already created: "+t+".");vt[t]=new _t(t,e,s,r,!1,i,n,o,a)}function Ct(t,e){switch(this.h=t,this.c=void 0!==e?e:null,this.b=null,t){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function kt(t){return"comment"==t||"text"==t||"processing-instruction"==t||"node"==t}function At(t){this.b=t,this.a=0}wt("boolean",2,!1,!1,function(t,e){return ut(e,t)},1),wt("ceiling",1,!1,!1,function(t,e){return Math.ceil(ht(e,t))},1),wt("concat",3,!1,!1,function(t,e){return m(function(t,e,s){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,s)}(arguments,1),function(e,s){return e+dt(s,t)},"")},2,null),wt("contains",2,!1,!1,function(t,e,s){return c(dt(e,t),dt(s,t))},2),wt("count",1,!1,!1,function(t,e){return e.a(t).l},1,1,!0),wt("false",2,!1,!1,function(){return!1},0),wt("floor",1,!1,!1,function(t,e){return Math.floor(ht(e,t))},1),wt("id",4,!1,!1,function(t,e){function r(t){if(R){var e=i.all[t];if(e){if(e.nodeType&&t==e.id)return e;if(e.length)return function(t,e){var r;t:{r=t.length;for(var i=s(t)?t.split(""):t,n=0;n<r;n++)if(n in i&&e.call(void 0,i[n],n,t)){r=n;break t}r=-1}return 0>r?null:s(t)?t.charAt(r):t[r]}(e,function(e){return t==e.id})}return null}return i.getElementById(t)}var i=9==(n=t.a).nodeType?n:n.ownerDocument,n=dt(e,t).split(/\s+/),o=[];u(n,function(t){!(t=r(t))||0<=d(o,t)||o.push(t)}),o.sort(X);var a=new K;return u(o,function(t){tt(a,t)}),a},1),wt("lang",2,!1,!1,function(){return!1},1),wt("last",1,!0,!1,function(t){if(1!=arguments.length)throw Error("Function last expects ()");return t.f},0),wt("local-name",3,!1,!0,function(t,e){var s=e?et(e.a(t)):t.a;return s?s.localName||s.nodeName.toLowerCase():""},0,1,!0),wt("name",3,!1,!0,function(t,e){var s=e?et(e.a(t)):t.a;return s?s.nodeName.toLowerCase():""},0,1,!0),wt("namespace-uri",3,!0,!1,function(){return""},0,1,!0),wt("normalize-space",3,!1,!0,function(t,e){return(e?dt(e,t):B(t.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),wt("not",2,!1,!1,function(t,e){return!ut(e,t)},1),wt("number",1,!1,!0,function(t,e){return e?ht(e,t):+B(t.a)},0,1),wt("position",1,!0,!1,function(t){return t.b},0),wt("round",1,!1,!1,function(t,e){return Math.round(ht(e,t))},1),wt("starts-with",2,!1,!1,function(t,e,s){return e=dt(e,t),t=dt(s,t),0==e.lastIndexOf(t,0)},2),wt("string",3,!1,!0,function(t,e){return e?dt(e,t):B(t.a)},0,1),wt("string-length",1,!1,!0,function(t,e){return(e?dt(e,t):B(t.a)).length},0,1),wt("substring",3,!1,!1,function(t,e,s,r){if(s=ht(s,t),isNaN(s)||1/0==s||-1/0==s)return"";if(r=r?ht(r,t):1/0,isNaN(r)||-1/0===r)return"";s=Math.round(s)-1;var i=Math.max(s,0);return t=dt(e,t),1/0==r?t.substring(i):t.substring(i,s+Math.round(r))},2,3),wt("substring-after",3,!1,!1,function(t,e,s){return e=dt(e,t),t=dt(s,t),-1==(s=e.indexOf(t))?"":e.substring(s+t.length)},2),wt("substring-before",3,!1,!1,function(t,e,s){return e=dt(e,t),t=dt(s,t),-1==(t=e.indexOf(t))?"":e.substring(0,t)},2),wt("sum",1,!1,!1,function(t,e){for(var s=rt(e.a(t)),r=0,i=nt(s);i;i=nt(s))r+=+B(i);return r},1,1,!0),wt("translate",3,!1,!1,function(t,e,s,r){e=dt(e,t),s=dt(s,t);var i=dt(r,t);for(t={},r=0;r<s.length;r++){var n=s.charAt(r);n in t||(t[n]=i.charAt(r))}for(s="",r=0;r<e.length;r++)s+=(n=e.charAt(r))in t?t[n]:n;return s},3),wt("true",2,!1,!1,function(){return!0},0),Ct.prototype.a=function(t){return null===this.b||this.b==t.nodeType},Ct.prototype.f=function(){return this.h},Ct.prototype.toString=function(){var t="Kind Test: "+this.h;return null===this.c||(t+=at(this.c)),t};var Tt=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Mt=/^\s/;function St(t,e){return t.b[t.a+(e||0)]}function Lt(t){return t.b[t.a++]}function It(t){return t.b.length<=t.a}function Rt(t){ot.call(this,3),this.c=t.substring(1,t.length-1)}function Ot(t,e){var s;this.j=t.toLowerCase(),s="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=e?e.toLowerCase():s}function Pt(t,e){if(ot.call(this,t.i),this.h=t,this.c=e,this.g=t.g,this.b=t.b,1==this.c.length){var s=this.c[0];s.u||s.c!=Vt||"*"!=(s=s.o).f()&&(this.f={name:s.f(),s:null})}}function Dt(){ot.call(this,4)}function Bt(){ot.call(this,4)}function Ft(t){return"/"==t||"//"==t}function qt(t){ot.call(this,4),this.c=t,ct(this,f(this.c,function(t){return t.g})),lt(this,f(this.c,function(t){return t.b}))}function jt(t,e){this.a=t,this.b=!!e}function Ut(t,e,s){for(s=s||0;s<t.a.length;s++)for(var r,i=t.a[s],n=rt(e),o=e.l,a=0;r=nt(n);a++){var c=t.b?o-a:a+1;if("number"==typeof(r=i.a(new Et(r,c,o))))c=c==r;else if("string"==typeof r||"boolean"==typeof r)c=!!r;else{if(!(r instanceof K))throw Error("Predicate.evaluate returned an unexpected type.");c=0<r.l}if(!c){if(r=(c=n).f,!(h=c.a))throw Error("Next must be called at least once before remove.");var l=h.b,h=h.a;l?l.a=h:r.a=h,h?h.b=l:r.b=l,r.l--,c.a=null}}return e}function Ht(t,e,s,r){ot.call(this,4),this.c=t,this.o=e,this.h=s||new jt([]),this.u=!!r,e=0<(e=this.h).a.length?e.a[0].f:null,t.b&&e&&(t=e.name,t=R?t.toLowerCase():t,this.f={name:t,s:e.s});t:{for(t=this.h,e=0;e<t.a.length;e++)if((s=t.a[e]).g||1==s.i||0==s.i){t=!0;break t}t=!1}this.g=t}function Gt(t,e,s,r){this.j=t,this.f=e,this.a=s,this.b=r}o(Rt),Rt.prototype.a=function(){return this.c},Rt.prototype.toString=function(){return"Literal: "+this.c},Ot.prototype.a=function(t){var e=t.nodeType;return(1==e||2==e)&&(e=void 0!==t.localName?t.localName:t.nodeName,("*"==this.j||this.j==e.toLowerCase())&&("*"==this.c||this.c==(t.namespaceURI?t.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},Ot.prototype.f=function(){return this.j},Ot.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},o(Pt),o(Dt),Dt.prototype.a=function(t){var e=new K;return 9==(t=t.a).nodeType?tt(e,t):tt(e,t.ownerDocument),e},Dt.prototype.toString=function(){return"Root Helper Expression"},o(Bt),Bt.prototype.a=function(t){var e=new K;return tt(e,t.a),e},Bt.prototype.toString=function(){return"Context Helper Expression"},Pt.prototype.a=function(t){var e=this.h.a(t);if(!(e instanceof K))throw Error("Filter expression must evaluate to nodeset.");for(var s=0,r=(t=this.c).length;s<r&&e.l;s++){var i,n=t[s],o=rt(e,n.c.a);if(n.g||n.c!=Jt)if(n.g||n.c!=Yt)for(i=nt(o),e=n.a(new Et(i));null!=(i=nt(o));)e=Q(e,i=n.a(new Et(i)));else i=nt(o),e=n.a(new Et(i));else{for(i=nt(o);(e=nt(o))&&(!i.contains||i.contains(e))&&8&e.compareDocumentPosition(i);i=e);e=n.a(new Et(i))}}return e},Pt.prototype.toString=function(){var t;if(t="Path Expression:"+at(this.h),this.c.length){var e=m(this.c,function(t,e){return t+at(e)},"Steps:");t+=at(e)}return t},o(qt),qt.prototype.a=function(t){var e=new K;return u(this.c,function(s){if(!((s=s.a(t))instanceof K))throw Error("Path expression must evaluate to NodeSet.");e=Q(e,s)}),e},qt.prototype.toString=function(){return m(this.c,function(t,e){return t+at(e)},"Union Expression:")},jt.prototype.toString=function(){return m(this.a,function(t,e){return t+at(e)},"Predicates:")},o(Ht),Ht.prototype.a=function(t){var e=t.a,s=null,r=null,i=null,n=0;if((s=this.f)&&(r=s.name,i=s.s?dt(s.s,t):null,n=1),this.u)if(this.g||this.c!=Xt)if(e=nt(t=rt(new Ht($t,new Ct("node")).a(t))))for(s=this.m(e,r,i,n);null!=(e=nt(t));)s=Q(s,this.m(e,r,i,n));else s=new K;else s=q(this.o,e,r,i),s=Ut(this.h,s,n);else s=this.m(t.a,r,i,n);return s},Ht.prototype.m=function(t,e,s,r){return t=this.c.f(this.o,t,e,s),Ut(this.h,t,r)},Ht.prototype.toString=function(){var t;if(t="Step:"+at("Operator: "+(this.u?"//":"/")),this.c.j&&(t+=at("Axis: "+this.c)),t+=at(this.o),this.h.a.length){var e=m(this.h.a,function(t,e){return t+at(e)},"Predicates:");t+=at(e)}return t},Gt.prototype.toString=function(){return this.j};var zt={};function Wt(t,e,s,r){if(zt.hasOwnProperty(t))throw Error("Axis already created: "+t);return e=new Gt(t,e,s,!!r),zt[t]=e}Wt("ancestor",function(t,e){for(var s=new K,r=e;r=r.parentNode;)t.a(r)&&Z(s,r);return s},!0),Wt("ancestor-or-self",function(t,e){var s=new K,r=e;do{t.a(r)&&Z(s,r)}while(r=r.parentNode);return s},!0);var Vt=Wt("attribute",function(t,e){var s=new K;if("style"==(n=t.f())&&R&&e.style)return tt(s,new P(e.style,e,"style",e.style.cssText)),s;var r=e.attributes;if(r)if(t instanceof Ct&&null===t.b||"*"==n)for(var i,n=0;i=r[n];n++)R?i.nodeValue&&tt(s,D(e,i)):tt(s,i);else(i=r.getNamedItem(n))&&(R?i.nodeValue&&tt(s,D(e,i)):tt(s,i));return s},!1),Xt=Wt("child",function(t,e,r,i,n){return(R?H:G).call(null,t,e,s(r)?r:null,s(i)?i:null,n||new K)},!1,!0);Wt("descendant",q,!1,!0);var $t=Wt("descendant-or-self",function(t,e,s,r){var i=new K;return F(e,s,r)&&t.a(e)&&tt(i,e),q(t,e,s,r,i)},!1,!0),Jt=Wt("following",function(t,e,s,r){var i=new K;do{for(var n=e;n=n.nextSibling;)F(n,s,r)&&t.a(n)&&tt(i,n),i=q(t,n,s,r,i)}while(e=e.parentNode);return i},!1,!0);Wt("following-sibling",function(t,e){for(var s=new K,r=e;r=r.nextSibling;)t.a(r)&&tt(s,r);return s},!1),Wt("namespace",function(){return new K},!1);var Kt=Wt("parent",function(t,e){var s=new K;if(9==e.nodeType)return s;if(2==e.nodeType)return tt(s,e.ownerElement),s;var r=e.parentNode;return t.a(r)&&tt(s,r),s},!1),Yt=Wt("preceding",function(t,e,s,r){var i=new K,n=[];do{n.unshift(e)}while(e=e.parentNode);for(var o=1,a=n.length;o<a;o++){var c=[];for(e=n[o];e=e.previousSibling;)c.unshift(e);for(var l=0,h=c.length;l<h;l++)F(e=c[l],s,r)&&t.a(e)&&tt(i,e),i=q(t,e,s,r,i)}return i},!0,!0);Wt("preceding-sibling",function(t,e){for(var s=new K,r=e;r=r.previousSibling;)t.a(r)&&Z(s,r);return s},!0);var Qt=Wt("self",function(t,e){var s=new K;return t.a(e)&&tt(s,e),s},!1);function Zt(t){ot.call(this,1),this.c=t,this.g=t.g,this.b=t.b}function te(t){ot.call(this,1),this.c=t}function ee(t,e){this.a=t,this.b=e}function se(t){for(var e,s=[];;){re(t,"Missing right hand side of binary expression."),e=he(t);var r=Lt(t.a);if(!r)break;var i=(r=gt[r]||null)&&r.w;if(!i){t.a.a--;break}for(;s.length&&i<=s[s.length-1].w;)e=new pt(s.pop(),s.pop(),e);s.push(e,r)}for(;s.length;)e=new pt(s.pop(),s.pop(),e);return e}function re(t,e){if(It(t.a))throw Error(e)}function ie(t,e){var s=Lt(t.a);if(s!=e)throw Error("Bad token, expected: "+e+" got: "+s)}function ne(t){if(")"!=(t=Lt(t.a)))throw Error("Bad token: "+t)}function oe(t){if(2>(t=Lt(t.a)).length)throw Error("Unclosed literal string");return new Rt(t)}function ae(t){var e,s,r=[];if(Ft(St(t.a))){if(e=Lt(t.a),s=St(t.a),"/"==e&&(It(t.a)||"."!=s&&".."!=s&&"@"!=s&&"*"!=s&&!/(?![0-9])[\w]/.test(s)))return new Dt;s=new Dt,re(t,"Missing next location step."),e=ce(t,e),r.push(e)}else{t:{switch(s=(e=St(t.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Lt(t.a),e=se(t),re(t,'unclosed "("'),ie(t,")");break;case'"':case"'":e=oe(t);break;default:if(isNaN(+e)){if(kt(e)||!/(?![0-9])[\w]/.test(s)||"("!=St(t.a,1)){e=null;break t}for(e=Lt(t.a),e=vt[e]||null,Lt(t.a),s=[];")"!=St(t.a)&&(re(t,"Missing function argument list."),s.push(se(t)),","==St(t.a));)Lt(t.a);re(t,"Unclosed function argument list."),ne(t),e=new Nt(e,s)}else e=new te(+Lt(t.a))}"["==St(t.a)&&(e=new yt(e,s=new jt(le(t))))}if(e){if(!Ft(St(t.a)))return e;s=e}else e=ce(t,"/"),s=new Bt,r.push(e)}for(;Ft(St(t.a));)e=Lt(t.a),re(t,"Missing next location step."),e=ce(t,e),r.push(e);return new Pt(s,r)}function ce(t,e){var s,r,i,n;if("/"!=e&&"//"!=e)throw Error('Step op should be "/" or "//"');if("."==St(t.a))return r=new Ht(Qt,new Ct("node")),Lt(t.a),r;if(".."==St(t.a))return r=new Ht(Kt,new Ct("node")),Lt(t.a),r;if("@"==St(t.a))n=Vt,Lt(t.a),re(t,"Missing attribute name");else if("::"==St(t.a,1)){if(!/(?![0-9])[\w]/.test(St(t.a).charAt(0)))throw Error("Bad token: "+Lt(t.a));if(s=Lt(t.a),!(n=zt[s]||null))throw Error("No axis with name: "+s);Lt(t.a),re(t,"Missing node name")}else n=Xt;if(s=St(t.a),!/(?![0-9])[\w\*]/.test(s.charAt(0)))throw Error("Bad token: "+Lt(t.a));if("("==St(t.a,1)){if(!kt(s))throw Error("Invalid node type: "+s);if(!kt(s=Lt(t.a)))throw Error("Invalid type name: "+s);ie(t,"("),re(t,"Bad nodetype");var o=null;'"'!=(i=St(t.a).charAt(0))&&"'"!=i||(o=oe(t)),re(t,"Bad nodetype"),ne(t),s=new Ct(s,o)}else if(-1==(i=(s=Lt(t.a)).indexOf(":")))s=new Ot(s);else{var a;if("*"==(o=s.substring(0,i)))a="*";else if(!(a=t.b(o)))throw Error("Namespace prefix not declared: "+o);s=new Ot(s=s.substr(i+1),a)}return i=new jt(le(t),n.a),r||new Ht(n,s,i,"//"==e)}function le(t){for(var e=[];"["==St(t.a);){Lt(t.a),re(t,"Missing predicate expression.");var s=se(t);e.push(s),re(t,"Unclosed predicate expression."),ie(t,"]")}return e}function he(t){if("-"==St(t.a))return Lt(t.a),new Zt(he(t));var e=ae(t);if("|"!=St(t.a))t=e;else{for(e=[e];"|"==Lt(t.a);)re(t,"Missing next union location path."),e.push(ae(t));t.a.a--,t=new qt(e)}return t}function de(t){switch(t.nodeType){case 1:return function(t,e){var s=Array.prototype.slice.call(arguments,1);return function(){var e=s.slice();return e.push.apply(e,arguments),t.apply(this,e)}}(pe,t);case 9:return de(t.documentElement);case 11:case 10:case 6:case 12:return ue;default:return t.parentNode?de(t.parentNode):ue}}function ue(){return null}function pe(t,e){if(t.prefix==e)return t.namespaceURI||"http://www.w3.org/1999/xhtml";var s=t.getAttributeNode("xmlns:"+e);return s&&s.specified?s.value||null:t.parentNode&&9!=t.parentNode.nodeType?pe(t.parentNode,e):null}function me(t,e){if(!t.length)throw Error("Empty XPath expression.");var s=function(t){t=t.match(Tt);for(var e=0;e<t.length;e++)Mt.test(t[e])&&t.splice(e,1);return new At(t)}(t);if(It(s))throw Error("Invalid XPath expression.");e?"function"==function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var s=Object.prototype.toString.call(t);if("[object Window]"==s)return"object";if("[object Array]"==s||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==s||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}(e)||(e=n(e.lookupNamespaceURI,e)):e=function(){return null};var r=se(new ee(s,e));if(!It(s))throw Error("Bad token: "+Lt(s));this.evaluate=function(t,e){return new fe(r.a(new Et(t)),e)}}function fe(t,e){if(0==e)if(t instanceof K)e=4;else if("string"==typeof t)e=2;else if("number"==typeof t)e=1;else{if("boolean"!=typeof t)throw Error("Unexpected evaluation result.");e=3}if(2!=e&&1!=e&&3!=e&&!(t instanceof K))throw Error("value could not be converted to the specified type");var s;switch(this.resultType=e,e){case 2:this.stringValue=t instanceof K?st(t):""+t;break;case 1:this.numberValue=t instanceof K?+st(t):+t;break;case 3:this.booleanValue=t instanceof K?0<t.l:!!t;break;case 4:case 5:case 6:case 7:var r=rt(t);s=[];for(var i=nt(r);i;i=nt(r))s.push(i instanceof P?i.a:i);this.snapshotLength=t.l,this.invalidIteratorState=!1;break;case 8:case 9:r=et(t),this.singleNodeValue=r instanceof P?r.a:r;break;default:throw Error("Unknown XPathResult type.")}var n=0;this.iterateNext=function(){if(4!=e&&5!=e)throw Error("iterateNext called with wrong result type");return n>=s.length?null:s[n++]},this.snapshotItem=function(t){if(6!=e&&7!=e)throw Error("snapshotItem called with wrong result type");return t>=s.length||0>t?null:s[t]}}function ge(t){this.lookupNamespaceURI=de(t)}function be(t,s){var r=t||e,i=r.Document&&r.Document.prototype||r.document;i.evaluate&&!s||(r.XPathResult=fe,i.evaluate=function(t,e,s,r){return new me(t,s).evaluate(e,r)},i.createExpression=function(t,e){return new me(t,e)},i.createNSResolver=function(t){return new ge(t)})}o(Zt),Zt.prototype.a=function(t){return-ht(this.c,t)},Zt.prototype.toString=function(){return"Unary Expression: -"+at(this.c)},o(te),te.prototype.a=function(){return this.c},te.prototype.toString=function(){return"Number: "+this.c},fe.ANY_TYPE=0,fe.NUMBER_TYPE=1,fe.STRING_TYPE=2,fe.BOOLEAN_TYPE=3,fe.UNORDERED_NODE_ITERATOR_TYPE=4,fe.ORDERED_NODE_ITERATOR_TYPE=5,fe.UNORDERED_NODE_SNAPSHOT_TYPE=6,fe.ORDERED_NODE_SNAPSHOT_TYPE=7,fe.ANY_UNORDERED_NODE_TYPE=8,fe.FIRST_ORDERED_NODE_TYPE=9;var xe,Ee=["wgxpath","install"],ye=e;Ee[0]in ye||!ye.execScript||ye.execScript("var "+Ee[0]);for(;Ee.length&&(xe=Ee.shift());)Ee.length||void 0===be?ye=ye[xe]?ye[xe]:ye[xe]={}:ye[xe]=be;t.exports.install=be,t.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(s.g)},518:(t,e,s)=>{"use strict";var r=s(890),i=s(815),n=s(19),o=r.isHTMLEscapableRawTextElement,a=r.isHTMLMimeType,c=r.isHTMLRawTextElement,l=r.hasOwn,h=r.NAMESPACE,d=n.ParseError,u=n.DOMException;function p(){}p.prototype={parse:function(t,e,s){var n=this.domBuilder;n.startDocument(),E(e,e=Object.create(null)),function(t,e,s,n,o){var c=a(n.mimeType);t.indexOf(i.UNICODE_REPLACEMENT_CHARACTER)>=0&&o.warning("Unicode replacement character detected, source encoding issues?");function h(t){if(t>65535){var e=55296+((t-=65536)>>10),s=56320+(1023&t);return String.fromCharCode(e,s)}return String.fromCharCode(t)}function p(t){var e=";"===t[t.length-1]?t:t+";";if(!c&&e!==t)return o.error("EntityRef: expecting ;"),t;var r=i.Reference.exec(e);if(!r||r[0].length!==e.length)return o.error("entity not matching Reference production: "+t),t;var n=e.slice(1,-1);return l(s,n)?s[n]:"#"===n.charAt(0)?h(parseInt(n.substring(1).replace("x","0x"))):(o.error("entity not found:"+t),t)}function E(e){if(e>S){var s=t.substring(S,e).replace(m,p);k&&A(S),n.characters(s,0,e-S),S=e}}var y=0,w=0,C=/\r\n?|\n|$/g,k=n.locator;function A(e,s){for(;e>=w&&(s=C.exec(t));)y=w,w=s.index+s[0].length,k.lineNumber++;k.columnNumber=e-y+1}var T=[{currentNSMap:e}],M=[],S=0;for(;;){try{var L=t.indexOf("<",S);if(L<0){if(!c&&M.length>0)return o.fatalError("unclosed xml tag(s): "+M.join(", "));if(!t.substring(S).match(/^\s*$/)){var I=n.doc,R=I.createTextNode(t.substring(S));if(I.documentElement)return o.error("Extra content at the end of the document");I.appendChild(R),n.currentElement=R}return}if(L>S){var O=t.substring(S,L);c||0!==M.length||(O=O.replace(new RegExp(i.S_OPT.source,"g"),""))&&o.error("Unexpected content outside root element: '"+O+"'"),E(L)}switch(t.charAt(L+1)){case"/":var P=t.indexOf(">",L+2),D=t.substring(L+2,P>0?P:void 0);if(!D)return o.fatalError("end tag name missing");var B=P>0&&i.reg("^",i.QName_group,i.S_OPT,"$").exec(D);if(!B)return o.fatalError('end tag name contains invalid characters: "'+D+'"');if(!n.currentElement&&!n.doc.documentElement)return;var F=M[M.length-1]||n.currentElement.tagName||n.doc.documentElement.tagName||"";if(F!==B[1]){var q=B[1].toLowerCase();if(!c||F.toLowerCase()!==q)return o.fatalError('Opening and ending tag mismatch: "'+F+'" != "'+D+'"')}var j=T.pop();M.pop();var U=j.localNSMap;if(n.endElement(j.uri,j.localName,F),U)for(var H in U)l(U,H)&&n.endPrefixMapping(H);P++;break;case"?":k&&A(L),P=_(t,L,n,o);break;case"!":k&&A(L),P=N(t,L,n,o,c);break;default:k&&A(L);var G=new v,z=T[T.length-1].currentNSMap,W=(P=g(t,L,G,z,p,o,c),G.length);if(G.closed||(c&&r.isHTMLVoidElement(G.tagName)?G.closed=!0:M.push(G.tagName)),k&&W){for(var V=f(k,{}),X=0;X<W;X++){var $=G[X];A($.offset),$.locator=f(k,{})}n.locator=V,b(G,n,z)&&T.push(G),n.locator=k}else b(G,n,z)&&T.push(G);c&&!G.closed?P=x(t,P,G.tagName,p,n):P++}}catch(t){if(t instanceof d)throw t;if(t instanceof u)throw new d(t.name+": "+t.message,n.locator,t);o.error("element parse error: "+t),P=-1}P>S?S=P:E(Math.max(L,S)+1)}}(t,e,s,n,this.errorHandler),n.endDocument()}};var m=/&#?\w+;?/g;function f(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function g(t,e,s,r,i,n,o){function a(t,e,r){return l(s.attributeNames,t)?n.fatalError("Attribute "+t+" redefined"):!o&&e.indexOf("<")>=0?n.fatalError("Unescaped '<' not allowed in attributes values"):void s.addValue(t,e.replace(/[\t\n\r]/g," ").replace(m,i),r)}for(var c,h=++e,d=0;;){var u=t.charAt(h);switch(u){case"=":if(1===d)c=t.slice(e,h),d=3;else{if(2!==d)throw new Error("attribute equal must after attrName");d=3}break;case"'":case'"':if(3===d||1===d){if(1===d&&(n.warning('attribute value must after "="'),c=t.slice(e,h)),e=h+1,!((h=t.indexOf(u,e))>0))throw new Error("attribute value no end '"+u+"' match");a(c,p=t.slice(e,h),e-1),d=5}else{if(4!=d)throw new Error('attribute value must after "="');a(c,p=t.slice(e,h),e),n.warning('attribute "'+c+'" missed start quot('+u+")!!"),e=h+1,d=5}break;case"/":switch(d){case 0:s.setTagName(t.slice(e,h));case 5:case 6:case 7:d=7,s.closed=!0;case 4:case 1:break;case 2:s.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),0==d&&s.setTagName(t.slice(e,h)),h;case">":switch(d){case 0:s.setTagName(t.slice(e,h));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=t.slice(e,h)).slice(-1)&&(s.closed=!0,p=p.slice(0,-1));case 2:2===d&&(p=c),4==d?(n.warning('attribute "'+p+'" missed quot(")!'),a(c,p,e)):(o||n.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),a(p,p,e));break;case 3:if(!o)return n.fatalError("AttValue: ' or \" expected")}return h;case"\x80":u=" ";default:if(u<=" ")switch(d){case 0:s.setTagName(t.slice(e,h)),d=6;break;case 1:c=t.slice(e,h),d=2;break;case 4:var p=t.slice(e,h);n.warning('attribute "'+p+'" missed quot(")!!'),a(c,p,e);case 5:d=6}else switch(d){case 2:o||n.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),a(c,c,e),e=h,d=1;break;case 5:n.warning('attribute space is required"'+c+'"!!');case 6:d=1,e=h;break;case 3:d=4,e=h;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}function b(t,e,s){for(var r=t.tagName,i=null,n=t.length;n--;){var o=t[n],a=o.qName,c=o.value;if((m=a.indexOf(":"))>0)var d=o.prefix=a.slice(0,m),u=a.slice(m+1),p="xmlns"===d&&u;else u=a,d=null,p="xmlns"===a&&"";o.localName=u,!1!==p&&(null==i&&(i=Object.create(null),E(s,s=Object.create(null))),s[p]=i[p]=c,o.uri=h.XMLNS,e.startPrefixMapping(p,c))}for(n=t.length;n--;)(o=t[n]).prefix&&("xml"===o.prefix&&(o.uri=h.XML),"xmlns"!==o.prefix&&(o.uri=s[o.prefix]));var m;(m=r.indexOf(":"))>0?(d=t.prefix=r.slice(0,m),u=t.localName=r.slice(m+1)):(d=null,u=t.localName=r);var f=t.uri=s[d||""];if(e.startElement(f,u,r,t),!t.closed)return t.currentNSMap=s,t.localNSMap=i,!0;if(e.endElement(f,u,r),i)for(d in i)l(i,d)&&e.endPrefixMapping(d)}function x(t,e,s,r,i){var n=o(s);if(n||c(s)){var a=t.indexOf("</"+s+">",e),l=t.substring(e+1,a);return n&&(l=l.replace(m,r)),i.characters(l,0,l.length),a}return e+1}function E(t,e){for(var s in t)l(t,s)&&(e[s]=t[s])}function y(t,e){var s=e;function r(e){return e=e||0,t.charAt(s+e)}function n(t){s+=t=t||1}function o(){return t.substring(s)}return{char:r,getIndex:function(){return s},getMatch:function(t){var e=i.reg("^",t).exec(o());return e?(n(e[0].length),e[0]):null},getSource:function(){return t},skip:n,skipBlanks:function(){for(var e=0;s<t.length;){var i=r();if(" "!==i&&"\n"!==i&&"\t"!==i&&"\r"!==i)return e;e++,n()}return-1},substringFromIndex:o,substringStartsWith:function(e){return t.substring(s,s+e.length)===e},substringStartsWithCaseInsensitive:function(e){return t.substring(s,s+e.length).toUpperCase()===e.toUpperCase()}}}function N(t,e,s,r,n){var o=y(t,e);switch(n?o.char(2).toUpperCase():o.char(2)){case"-":var a=o.getMatch(i.Comment);return a?(s.comment(a,i.COMMENT_START.length,a.length-i.COMMENT_START.length-i.COMMENT_END.length),o.getIndex()):r.fatalError("comment is not well-formed at position "+o.getIndex());case"[":var c=o.getMatch(i.CDSect);return c?n||s.currentElement?(s.startCDATA(),s.characters(c,i.CDATA_START.length,c.length-i.CDATA_START.length-i.CDATA_END.length),s.endCDATA(),o.getIndex()):r.fatalError("CDATA outside of element"):r.fatalError("Invalid CDATA starting at position "+e);case"D":if(s.doc&&s.doc.documentElement)return r.fatalError("Doctype not allowed inside or after documentElement at position "+o.getIndex());if(n?!o.substringStartsWithCaseInsensitive(i.DOCTYPE_DECL_START):!o.substringStartsWith(i.DOCTYPE_DECL_START))return r.fatalError("Expected "+i.DOCTYPE_DECL_START+" at position "+o.getIndex());if(o.skip(i.DOCTYPE_DECL_START.length),o.skipBlanks()<1)return r.fatalError("Expected whitespace after "+i.DOCTYPE_DECL_START+" at position "+o.getIndex());var l={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(l.name=o.getMatch(i.Name),!l.name)return r.fatalError("doctype name missing or contains unexpected characters at position "+o.getIndex());if(n&&"html"!==l.name.toLowerCase()&&r.warning("Unexpected DOCTYPE in HTML document at position "+o.getIndex()),o.skipBlanks(),o.substringStartsWith(i.PUBLIC)||o.substringStartsWith(i.SYSTEM)){var h=i.ExternalID_match.exec(o.substringFromIndex());if(!h)return r.fatalError("doctype external id is not well-formed at position "+o.getIndex());void 0!==h.groups.SystemLiteralOnly?l.systemId=h.groups.SystemLiteralOnly:(l.systemId=h.groups.SystemLiteral,l.publicId=h.groups.PubidLiteral),o.skip(h[0].length)}else if(n&&o.substringStartsWithCaseInsensitive(i.SYSTEM)){if(o.skip(i.SYSTEM.length),o.skipBlanks()<1)return r.fatalError("Expected whitespace after "+i.SYSTEM+" at position "+o.getIndex());if(l.systemId=o.getMatch(i.ABOUT_LEGACY_COMPAT_SystemLiteral),!l.systemId)return r.fatalError("Expected "+i.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+i.SYSTEM+" at position "+o.getIndex())}return n&&l.systemId&&!i.ABOUT_LEGACY_COMPAT_SystemLiteral.test(l.systemId)&&r.warning("Unexpected doctype.systemId in HTML document at position "+o.getIndex()),n||(o.skipBlanks(),l.internalSubset=function(t,e){function s(t,e){var s=i.PI.exec(t.substringFromIndex());return s?"xml"===s[1].toLowerCase()?e.fatalError("xml declaration is only allowed at the start of the document, but found at position "+t.getIndex()):(t.skip(s[0].length),s[0]):e.fatalError("processing instruction is not well-formed at position "+t.getIndex())}var r=t.getSource();if("["===t.char()){t.skip(1);for(var n=t.getIndex();t.getIndex()<r.length;){if(t.skipBlanks(),"]"===t.char()){var o=r.substring(n,t.getIndex());return t.skip(1),o}var a=null;if("<"===t.char()&&"!"===t.char(1))switch(t.char(2)){case"E":"L"===t.char(3)?a=t.getMatch(i.elementdecl):"N"===t.char(3)&&(a=t.getMatch(i.EntityDecl));break;case"A":a=t.getMatch(i.AttlistDecl);break;case"N":a=t.getMatch(i.NotationDecl);break;case"-":a=t.getMatch(i.Comment)}else if("<"===t.char()&&"?"===t.char(1))a=s(t,e);else{if("%"!==t.char())return e.fatalError("Error detected in Markup declaration");a=t.getMatch(i.PEReference)}if(!a)return e.fatalError("Error in internal subset at position "+t.getIndex())}return e.fatalError("doctype internal subset is not well-formed, missing ]")}}(o,r)),o.skipBlanks(),">"!==o.char()?r.fatalError("doctype not terminated with > at position "+o.getIndex()):(o.skip(1),s.startDTD(l.name,l.publicId,l.systemId,l.internalSubset),s.endDTD(),o.getIndex());default:return r.fatalError('Not well-formed XML starting with "<!" at position '+e)}}function _(t,e,s,r){var n=t.substring(e).match(i.PI);if(!n)return r.fatalError("Invalid processing instruction starting at position "+e);if("xml"===n[1].toLowerCase()){if(e>0)return r.fatalError("processing instruction at position "+e+" is an xml declaration which is only at the start of the document");if(!i.XMLDecl.test(t.substring(e)))return r.fatalError("xml declaration is not well-formed")}return s.processingInstruction(n[1],n[2]),e+n[0].length}function v(){this.attributeNames=Object.create(null)}v.prototype={setTagName:function(t){if(!i.QName_exact.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,s){if(!i.QName_exact.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:s}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=p,e.parseUtils=y,e.parseDoctypeCommentOrCData=N},580:(t,e,s)=>{"use strict";var r=s(890),i=s(302),n=s(19),o=s(315),a=s(518),c=i.DOMImplementation,l=r.hasDefaultHTMLNamespace,h=r.isHTMLMimeType,d=r.isValidMimeType,u=r.MIME_TYPE,p=r.NAMESPACE,m=n.ParseError,f=a.XMLReader;function g(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028\u2029]/g,"\n")}function b(t){if(void 0===(t=t||{}).locator&&(t.locator=!0),this.assign=t.assign||r.assign,this.domHandler=t.domHandler||x,this.onError=t.onError||t.errorHandler,t.errorHandler&&"function"!=typeof t.errorHandler)throw new TypeError("errorHandler object is no longer supported, switch to onError!");t.errorHandler&&t.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=t.normalizeLineEndings||g,this.locator=!!t.locator,this.xmlns=this.assign(Object.create(null),t.xmlns)}function x(t){var e=t||{};this.mimeType=e.mimeType||u.XML_APPLICATION,this.defaultNamespace=e.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=e.onError}function E(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function y(t,e,s){return"string"==typeof t?t.substr(e,s):t.length>=e+s||e?new java.lang.String(t,e,s)+"":t}function N(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}b.prototype.parseFromString=function(t,e){if(!d(e))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+e+'" is not valid.');var s=this.assign(Object.create(null),this.xmlns),i=o.XML_ENTITIES,n=s[""]||null;l(e)?(i=o.HTML_ENTITIES,n=p.HTML):e===u.XML_SVG_IMAGE&&(n=p.SVG),s[""]=n,s.xml=s.xml||p.XML;var a=new this.domHandler({mimeType:e,defaultNamespace:n,onError:this.onError}),c=this.locator?{}:void 0;this.locator&&a.setDocumentLocator(c);var h=new f;return h.errorHandler=a,h.domBuilder=a,!r.isHTMLMimeType(e)&&"string"!=typeof t&&h.errorHandler.fatalError("source is not a string"),h.parse(this.normalizeLineEndings(String(t)),s,i),a.doc.documentElement||h.errorHandler.fatalError("missing root element"),a.doc},x.prototype={startDocument:function(){var t=new c;this.doc=h(this.mimeType)?t.createHTMLDocument(!1):t.createDocument(this.defaultNamespace,"")},startElement:function(t,e,s,r){var i=this.doc,n=i.createElementNS(t,s||e),o=r.length;N(this,n),this.currentElement=n,this.locator&&E(this.locator,n);for(var a=0;a<o;a++){t=r.getURI(a);var c=r.getValue(a),l=(s=r.getQName(a),i.createAttributeNS(t,s));this.locator&&E(r.getLocator(a),l),l.value=l.nodeValue=c,n.setAttributeNode(l)}},endElement:function(t,e,s){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var s=this.doc.createProcessingInstruction(t,e);this.locator&&E(this.locator,s),N(this,s)},ignorableWhitespace:function(t,e,s){},characters:function(t,e,s){if(t=y.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&E(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){t&&(t.lineNumber=0),this.locator=t},comment:function(t,e,s){t=y.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&E(this.locator,r),N(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,s,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(t,e,s,r);this.locator&&E(this.locator,n),N(this,n),this.doc.doctype=n}},reportError:function(t,e){if("function"==typeof this.onError)try{this.onError(t,e,this)}catch(s){throw new m("Reporting "+t+' "'+e+'" caused '+s,this.locator)}else console.error("[xmldom "+t+"]\t"+e,function(t){if(t)return"\n@#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}(this.locator))},warning:function(t){this.reportError("warning",t)},error:function(t){this.reportError("error",t)},fatalError:function(t){throw this.reportError("fatalError",t),new m(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){x.prototype[t]=function(){return null}}),e.__DOMHandler=x,e.DOMParser=b,e.normalizeLineEndings=g,e.onErrorStopParsing=function(t){if("error"===t)throw"onErrorStopParsing"},e.onWarningStopParsing=function(){throw"onWarningStopParsing"}},590:(t,e,s)=>{"use strict";var r=s(890);e.assign=r.assign,e.hasDefaultHTMLNamespace=r.hasDefaultHTMLNamespace,e.isHTMLMimeType=r.isHTMLMimeType,e.isValidMimeType=r.isValidMimeType,e.MIME_TYPE=r.MIME_TYPE,e.NAMESPACE=r.NAMESPACE;var i=s(19);e.DOMException=i.DOMException,e.DOMExceptionName=i.DOMExceptionName,e.ExceptionCode=i.ExceptionCode,e.ParseError=i.ParseError;var n=s(302);e.Attr=n.Attr,e.CDATASection=n.CDATASection,e.CharacterData=n.CharacterData,e.Comment=n.Comment,e.Document=n.Document,e.DocumentFragment=n.DocumentFragment,e.DocumentType=n.DocumentType,e.DOMImplementation=n.DOMImplementation,e.Element=n.Element,e.Entity=n.Entity,e.EntityReference=n.EntityReference,e.LiveNodeList=n.LiveNodeList,e.NamedNodeMap=n.NamedNodeMap,e.Node=n.Node,e.NodeList=n.NodeList,e.Notation=n.Notation,e.ProcessingInstruction=n.ProcessingInstruction,e.Text=n.Text,e.XMLSerializer=n.XMLSerializer;var o=s(580);e.DOMParser=o.DOMParser,e.normalizeLineEndings=o.normalizeLineEndings,e.onErrorStopParsing=o.onErrorStopParsing,e.onWarningStopParsing=o.onWarningStopParsing},799:(t,e,s)=>{"use strict";s.d(e,{u:()=>r});class r{static ensureLocale(t,e){return r.LOCALES.get(t)?t:(console.error(`Locale ${t} does not exist! Using ${r.LOCALES.get(e)} instead.`),e)}}r.VERSION="5.0.0-beta.1",r.LOCALES=new Map([["af","Africaans"],["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","Bokm\xe5l"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),r.mathjaxVersion="4.0.0",r.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+r.VERSION+"/lib/mathmaps"},815:(t,e)=>{"use strict";function s(t){try{"function"!=typeof t&&(t=RegExp);var e=new t("\u{1d306}","u").exec("\u{1d306}");return!!e&&2===e[0].length}catch(t){}return!1}var r=s();function i(t){if("["!==t.source[0])throw new Error(t+" can not be used with chars");return t.source.slice(1,t.source.lastIndexOf("]"))}function n(t,e){if("["!==t.source[0])throw new Error("/"+t.source+"/ can not be used with chars_without");if(!e||"string"!=typeof e)throw new Error(JSON.stringify(e)+" is not a valid search");if(-1===t.source.indexOf(e))throw new Error('"'+e+'" is not is /'+t.source+"/");if("-"===e&&1!==t.source.indexOf(e))throw new Error('"'+e+'" is not at the first postion of /'+t.source+"/");return new RegExp(t.source.replace(e,""),r?"u":"")}function o(t){var e=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(t){var s="string"==typeof t;if(s&&void 0===e&&"|"===t)throw new Error("use regg instead of reg to wrap expressions with `|`!");return s?t:t.source}).join(""),r?"mu":"m")}function a(t){if(0===arguments.length)throw new Error("no parameters provided");return o.apply(a,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var c=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;r&&(c=o("[",i(c),"\\u{10000}-\\u{10FFFF}","]"));var l=/[\x20\x09\x0D\x0A]/,h=i(l),d=o(l,"+"),u=o(l,"*"),p=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;r&&(p=o("[",i(p),"\\u{10000}-\\u{10FFFF}","]"));var m=o("[",i(p),i(/[-.0-9\xB7]/),i(/[\u0300-\u036F\u203F-\u2040]/),"]"),f=o(p,m,"*"),g=o(m,"+"),b=o("&",f,";"),x=a(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),E=a(b,"|",x),y=o("%",f,";"),N=a(o('"',a(/[^%&"]/,"|",y,"|",E),"*",'"'),"|",o("'",a(/[^%&']/,"|",y,"|",E),"*","'")),_=a('"',a(/[^<&"]/,"|",E),"*",'"',"|","'",a(/[^<&']/,"|",E),"*","'"),v=o(n(p,":"),n(m,":"),"*"),w=o(v,a(":",v),"?"),C=o("^",w,"$"),k=o("(",w,")"),A=a(/"[^"]*"|'[^']*'/),T=o(/^<\?/,"(",f,")",a(d,"(",c,"*?)"),"?",/\?>/),M=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,S=a('"',M,'*"',"|","'",n(M,"'"),"*'"),L="\x3c!--",I=o(L,a(n(c,"-"),"|",o("-",n(c,"-"))),"*","--\x3e"),R="#PCDATA",O=a(o(/\(/,u,R,a(u,/\|/,u,w),"*",u,/\)\*/),"|",o(/\(/,u,R,u,/\)/)),P=a("EMPTY","|","ANY","|",O,"|",o(/\([^>]+\)/,/[?*+]?/)),D=o("<!ELEMENT",d,a(w,"|",y),d,a(P,"|",y),u,">"),B=o("NOTATION",d,/\(/,u,f,a(u,/\|/,u,f),"*",u,/\)/),F=o(/\(/,u,g,a(u,/\|/,u,g),"*",u,/\)/),q=a(B,"|",F),j=a(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",q),U=a(/#REQUIRED|#IMPLIED/,"|",a(a("#FIXED",d),"?",_)),H=o("<!ATTLIST",d,f,a(d,f,d,j,d,U),"*",u,">"),G="about:legacy-compat",z=a('"'+G+'"',"|","'"+G+"'"),W="SYSTEM",V="PUBLIC",X=a(a(W,d,A),"|",a(V,d,S,d,A)),$=o("^",a(a(W,d,"(?<SystemLiteralOnly>",A,")"),"|",a(V,d,"(?<PubidLiteral>",S,")",d,"(?<SystemLiteral>",A,")"))),J=a(d,"NDATA",d,f),K="<!ENTITY",Y=o(K,d,f,d,a(N,"|",a(X,J,"?")),u,">"),Q=a(N,"|",X),Z=a(Y,"|",o(K,d,"%",d,f,d,Q,u,">")),tt=o(V,d,S),et=o("<!NOTATION",d,f,d,a(X,"|",tt),u,">"),st=o(u,"=",u),rt=/1[.]\d+/,it=o(d,"version",st,a("'",rt,"'","|",'"',rt,'"')),nt=/[A-Za-z][-A-Za-z0-9._]*/,ot=o(/^<\?xml/,it,a(d,"encoding",st,a('"',nt,'"',"|","'",nt,"'")),"?",a(d,"standalone",st,a("'",a("yes","|","no"),"'","|",'"',a("yes","|","no"),'"')),"?",u,/\?>/),at=o(c,"*?",/\]\]>/),ct=o(/<!\[CDATA\[/,at);e.chars=i,e.chars_without=n,e.detectUnicodeSupport=s,e.reg=o,e.regg=a,e.ABOUT_LEGACY_COMPAT=G,e.ABOUT_LEGACY_COMPAT_SystemLiteral=z,e.AttlistDecl=H,e.CDATA_START="<![CDATA[",e.CDATA_END="]]>",e.CDSect=ct,e.Char=c,e.Comment=I,e.COMMENT_START=L,e.COMMENT_END="--\x3e",e.DOCTYPE_DECL_START="<!DOCTYPE",e.elementdecl=D,e.EntityDecl=Z,e.EntityValue=N,e.ExternalID=X,e.ExternalID_match=$,e.Name=f,e.NotationDecl=et,e.Reference=E,e.PEReference=y,e.PI=T,e.PUBLIC=V,e.PubidLiteral=S,e.QName=w,e.QName_exact=C,e.QName_group=k,e.S=d,e.SChar_s=h,e.S_OPT=u,e.SYSTEM=W,e.SystemLiteral=A,e.UNICODE_REPLACEMENT_CHARACTER="\ufffd",e.UNICODE_SUPPORT=r,e.XMLDecl=ot},890:(t,e)=>{"use strict";function s(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.getOwnPropertyDescriptors&&(t=e.create(null,e.getOwnPropertyDescriptors(t))),e&&"function"==typeof e.freeze?e.freeze(t):t}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i=s({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});var n=s({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var o=s({script:!1,style:!1,textarea:!0,title:!0});function a(t){return t===c.HTML}var c=s({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l=Object.keys(c).map(function(t){return c[t]});var h=s({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.assign=function(t,e){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var s in e)r(e,s)&&(t[s]=e[s]);return t},e.find=function(t,e,s){if(void 0===s&&(s=Array.prototype),t&&"function"==typeof s.find)return s.find.call(t,e);for(var i=0;i<t.length;i++)if(r(t,i)){var n=t[i];if(e.call(void 0,n,i,t))return n}},e.freeze=s,e.HTML_BOOLEAN_ATTRIBUTES=i,e.HTML_RAW_TEXT_ELEMENTS=o,e.HTML_VOID_ELEMENTS=n,e.hasDefaultHTMLNamespace=function(t){return a(t)||t===c.XML_XHTML_APPLICATION},e.hasOwn=r,e.isHTMLBooleanAttribute=function(t){return r(i,t.toLowerCase())},e.isHTMLRawTextElement=function(t){var e=t.toLowerCase();return r(o,e)&&!o[e]},e.isHTMLEscapableRawTextElement=function(t){var e=t.toLowerCase();return r(o,e)&&o[e]},e.isHTMLMimeType=a,e.isHTMLVoidElement=function(t){return r(n,t.toLowerCase())},e.isValidMimeType=function(t){return l.indexOf(t)>-1},e.MIME_TYPE=c,e.NAMESPACE=h},983:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>SystemExternal});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(799),_lib_external_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(180);const windowSupported=!("undefined"==typeof window),documentSupported=windowSupported&&!(void 0===window.document),webworker=!("undefined"==typeof DedicatedWorkerGlobalScope),nodeRequire=()=>{try{return eval("require")}catch(t){return t=>null}},SystemExternal={extRequire:t=>"undefined"!=typeof process&&"undefined"!=typeof require?nodeRequire()(t):null,windowSupported,documentSupported,webworker,xmldom:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Gb,document:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Al,fs:documentSupported||webworker?null:nodeRequire()("fs"),url:_variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url,jsonPath:function(){if(documentSupported||webworker)return _variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url;if(process.env.SRE_JSON_PATH||__webpack_require__.g.SRE_JSON_PATH)return process.env.SRE_JSON_PATH||__webpack_require__.g.SRE_JSON_PATH;try{return nodeRequire().resolve("speech-rule-engine").replace(/sre\.js$/,"")+"mathmaps"}catch(t){}try{return nodeRequire().resolve(".").replace(/sre\.js$/,"")+"mathmaps"}catch(t){}return"undefined"!=typeof __dirname?__dirname+(__dirname.match(/lib?$/)?"/mathmaps":"/lib/mathmaps"):process.cwd()+"/lib/mathmaps"}(),xpath:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Oe}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__webpack_require__),s.exports}getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var s=Object.create(null);__webpack_require__.r(s);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&e&&t;("object"==typeof i||"function"==typeof i)&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach(e=>r[e]=()=>t[e]);return r.default=()=>t,__webpack_require__.d(s,r),s},__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var t={};__webpack_require__.r(t),__webpack_require__.d(t,{GLOBAL:()=>Hr,MathJax:()=>Xr,combineConfig:()=>zr,combineDefaults:()=>Wr,combineWithMathJax:()=>Vr,isObject:()=>Gr});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{context:()=>Jr,hasWindow:()=>$r});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{Package:()=>Yr,PackageError:()=>Kr});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{PrioritizedList:()=>Qr});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{FunctionList:()=>Zr});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{CONFIG:()=>oi,Loader:()=>ii,MathJax:()=>ni,PathFilters:()=>si});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{APPEND:()=>li,Expandable:()=>ui,OPTIONS:()=>di,REMOVE:()=>hi,copy:()=>gi,defaultOptions:()=>xi,expandable:()=>pi,insert:()=>bi,isObject:()=>ci,keys:()=>fi,lookup:()=>vi,makeArray:()=>mi,selectOptions:()=>yi,selectOptionsFromKeys:()=>Ni,separateOptions:()=>_i,userOptions:()=>Ei});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{CONFIG:()=>Ai,MathJax:()=>ki,Startup:()=>Ci});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{AbstractDOMAdaptor:()=>Mi});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{HTMLAdaptor:()=>Li});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{browserAdaptor:()=>Ri});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{AbstractFindMath:()=>Oi});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{AbstractInputJax:()=>Pi});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{AbstractOutputJax:()=>Di});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{END:()=>Bi,LinkedList:()=>qi,ListItem:()=>Fi});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{AbstractMathList:()=>ji});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{AbstractMathItem:()=>Hi,STATE:()=>Gi,newState:()=>zi,protoItem:()=>Ui});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{AbstractFactory:()=>Wi});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{AbstractNodeFactory:()=>Vi});var E={};__webpack_require__.r(E),__webpack_require__.d(E,{Attributes:()=>$i,INHERIT:()=>Xi});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{AbstractEmptyNode:()=>Ki,AbstractNode:()=>Ji});var N={};__webpack_require__.r(N),__webpack_require__.d(N,{AbstractMmlBaseNode:()=>an,AbstractMmlEmptyNode:()=>cn,AbstractMmlLayoutNode:()=>on,AbstractMmlNode:()=>rn,AbstractMmlTokenNode:()=>nn,MATHVARIANTS:()=>en,TEXCLASS:()=>Yi,TEXCLASSNAMES:()=>Qi,TextNode:()=>ln,XMLNode:()=>hn,indentAttributes:()=>sn});var _={};__webpack_require__.r(_),__webpack_require__.d(_,{MmlMath:()=>dn});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{MmlMi:()=>un});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{MmlMn:()=>pn});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{MMLSPACING:()=>xn,MO:()=>fn,OPDEF:()=>mn,OPTABLE:()=>En,RANGES:()=>gn,getRange:()=>bn});var k={};__webpack_require__.r(k),__webpack_require__.d(k,{isPercent:()=>wn,quotePattern:()=>Nn,replaceUnicode:()=>kn,sortLength:()=>yn,split:()=>Cn,toEntity:()=>An,unicodeChars:()=>_n,unicodeString:()=>vn});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{MmlMo:()=>Tn});var T={};__webpack_require__.r(T),__webpack_require__.d(T,{MmlMtext:()=>Mn});var M={};__webpack_require__.r(M),__webpack_require__.d(M,{MmlMspace:()=>Sn});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{MmlMs:()=>Ln});var L={};__webpack_require__.r(L),__webpack_require__.d(L,{MmlInferredMrow:()=>Rn,MmlMrow:()=>In});var I={};__webpack_require__.r(I),__webpack_require__.d(I,{MmlMfrac:()=>On});var R={};__webpack_require__.r(R),__webpack_require__.d(R,{MmlMsqrt:()=>Pn});var O={};__webpack_require__.r(O),__webpack_require__.d(O,{MmlMroot:()=>Dn});var P={};__webpack_require__.r(P),__webpack_require__.d(P,{MmlMstyle:()=>Bn});var D={};__webpack_require__.r(D),__webpack_require__.d(D,{MmlMerror:()=>Fn});var B={};__webpack_require__.r(B),__webpack_require__.d(B,{MmlMpadded:()=>qn});var F={};__webpack_require__.r(F),__webpack_require__.d(F,{MmlMphantom:()=>jn});var q={};__webpack_require__.r(q),__webpack_require__.d(q,{MmlMfenced:()=>Un});var j={};__webpack_require__.r(j),__webpack_require__.d(j,{MmlMenclose:()=>Hn});var U={};__webpack_require__.r(U),__webpack_require__.d(U,{MmlMaction:()=>Gn});var H={};__webpack_require__.r(H),__webpack_require__.d(H,{MmlMsub:()=>Wn,MmlMsubsup:()=>zn,MmlMsup:()=>Vn});var G={};__webpack_require__.r(G),__webpack_require__.d(G,{MmlMover:()=>Jn,MmlMunder:()=>$n,MmlMunderover:()=>Xn});var z={};__webpack_require__.r(z),__webpack_require__.d(z,{MmlMmultiscripts:()=>Kn,MmlMprescripts:()=>Yn,MmlNone:()=>Qn});var W={};__webpack_require__.r(W),__webpack_require__.d(W,{MmlMtable:()=>Zn});var V={};__webpack_require__.r(V),__webpack_require__.d(V,{MmlMlabeledtr:()=>eo,MmlMtr:()=>to});var X={};__webpack_require__.r(X),__webpack_require__.d(X,{MmlMtd:()=>so});var $={};__webpack_require__.r($),__webpack_require__.d($,{MmlMaligngroup:()=>ro});var J={};__webpack_require__.r(J),__webpack_require__.d(J,{MmlMalignmark:()=>io});var K={};__webpack_require__.r(K),__webpack_require__.d(K,{MmlMglyph:()=>no});var Y={};__webpack_require__.r(Y),__webpack_require__.d(Y,{MmlAnnotation:()=>co,MmlAnnotationXML:()=>ao,MmlSemantics:()=>oo});var Q={};__webpack_require__.r(Q),__webpack_require__.d(Q,{TeXAtom:()=>lo});var Z={};__webpack_require__.r(Z),__webpack_require__.d(Z,{MathChoice:()=>ho});var tt={};__webpack_require__.r(tt),__webpack_require__.d(tt,{HtmlNode:()=>uo});var et={};__webpack_require__.r(et),__webpack_require__.d(et,{MML:()=>po});var st={};__webpack_require__.r(st),__webpack_require__.d(st,{MmlFactory:()=>mo});var rt={};__webpack_require__.r(rt),__webpack_require__.d(rt,{BitField:()=>fo,BitFieldClass:()=>go});var it={};__webpack_require__.r(it),__webpack_require__.d(it,{handleRetriesFor:()=>bo,retryAfter:()=>xo});var nt={};__webpack_require__.r(nt),__webpack_require__.d(nt,{AbstractMathDocument:()=>ko,RenderList:()=>yo,resetAllOptions:()=>_o,resetOptions:()=>No});var ot={};__webpack_require__.r(ot),__webpack_require__.d(ot,{AbstractHandler:()=>To});var at={};__webpack_require__.r(at),__webpack_require__.d(at,{HandlerList:()=>Mo});var ct={};__webpack_require__.r(ct),__webpack_require__.d(ct,{AbstractVisitor:()=>So});var lt={};__webpack_require__.r(lt),__webpack_require__.d(lt,{DATAMJX:()=>Lo,MmlVisitor:()=>Io});var ht={};__webpack_require__.r(ht),__webpack_require__.d(ht,{MathMLVisitor:()=>Ro});var dt={};__webpack_require__.r(dt),__webpack_require__.d(dt,{SerializedMmlVisitor:()=>Oo});var ut={};__webpack_require__.r(ut),__webpack_require__.d(ut,{AbstractWrapper:()=>Po});var pt={};__webpack_require__.r(pt),__webpack_require__.d(pt,{AbstractWrapperFactory:()=>Do});var mt={};__webpack_require__.r(mt),__webpack_require__.d(mt,{mathjax:()=>Bo});var ft={};__webpack_require__.r(ft),__webpack_require__.d(ft,{HTMLMathItem:()=>Fo});var gt={};__webpack_require__.r(gt),__webpack_require__.d(gt,{HTMLMathList:()=>qo});var bt={};__webpack_require__.r(bt),__webpack_require__.d(bt,{HTMLDomStrings:()=>jo});var xt={};__webpack_require__.r(xt),__webpack_require__.d(xt,{HTMLDocument:()=>Uo});var Et={};__webpack_require__.r(Et),__webpack_require__.d(Et,{HTMLHandler:()=>Ho});var yt={};__webpack_require__.r(yt),__webpack_require__.d(yt,{RegisterHTMLHandler:()=>Go});var Nt={};__webpack_require__.r(Nt),__webpack_require__.d(Nt,{asyncLoad:()=>zo});var _t={};__webpack_require__.r(_t),__webpack_require__.d(_t,{BIGDIMEN:()=>Wo,MATHSPACE:()=>$o,RELUNITS:()=>Xo,UNITS:()=>Vo,em:()=>Yo,length2em:()=>Jo,percent:()=>Ko,px:()=>Qo});var vt={};__webpack_require__.r(vt),__webpack_require__.d(vt,{BBox:()=>Zo});var wt={};__webpack_require__.r(wt),__webpack_require__.d(wt,{add:()=>ra,entities:()=>ea,numeric:()=>aa,options:()=>ta,remove:()=>ia,translate:()=>na});var Ct={};__webpack_require__.r(Ct),__webpack_require__.d(Ct,{StyleJsonSheet:()=>ca});var kt={};__webpack_require__.r(kt),__webpack_require__.d(kt,{Styles:()=>Ea,TRBL:()=>la,WSC:()=>ha});var At={};__webpack_require__.r(At),__webpack_require__.d(At,{max:()=>Na,sum:()=>ya});var Tt={};__webpack_require__.r(Tt),__webpack_require__.d(Tt,{FindMathML:()=>va});var Mt={};__webpack_require__.r(Mt),__webpack_require__.d(Mt,{MathMLCompile:()=>wa});var St={};__webpack_require__.r(St),__webpack_require__.d(St,{MathML:()=>Ca});var Lt={};__webpack_require__.r(Lt),__webpack_require__.d(Lt,{DIRECTION:()=>ka,H:()=>Ta,V:()=>Aa});var It={};__webpack_require__.r(It),__webpack_require__.d(It,{DIRECTION:()=>ka,FontData:()=>Ia,NOSTRETCH:()=>Sa,mergeOptions:()=>La});var Rt={};__webpack_require__.r(Rt),__webpack_require__.d(Rt,{LineBBox:()=>Ra});var Ot={};__webpack_require__.r(Ot),__webpack_require__.d(Ot,{LinebreakVisitor:()=>Da,Linebreaks:()=>Pa,NOBREAK:()=>Oa});var Pt={};__webpack_require__.r(Pt),__webpack_require__.d(Pt,{CommonOutputJax:()=>Fa,FONTPATH:()=>Ba});var Dt={};__webpack_require__.r(Dt),__webpack_require__.d(Dt,{CommonWrapperFactory:()=>qa});var Bt={};__webpack_require__.r(Bt),__webpack_require__.d(Bt,{CommonWrapper:()=>za,SPACE:()=>Ga});var Ft={};__webpack_require__.r(Ft),__webpack_require__.d(Ft,{ChtmlWrapper:()=>Va,FONTSIZE:()=>Wa});var qt={};__webpack_require__.r(qt),__webpack_require__.d(qt,{CommonMathMixin:()=>Xa});var jt={};__webpack_require__.r(jt),__webpack_require__.d(jt,{ChtmlMath:()=>$a});var Ut={};__webpack_require__.r(Ut),__webpack_require__.d(Ut,{CommonMiMixin:()=>Ja});var Ht={};__webpack_require__.r(Ht),__webpack_require__.d(Ht,{ChtmlMi:()=>Ka});var Gt={};__webpack_require__.r(Gt),__webpack_require__.d(Gt,{CommonMoMixin:()=>Ya});var zt={};__webpack_require__.r(zt),__webpack_require__.d(zt,{Usage:()=>Qa});var Wt={};__webpack_require__.r(Wt),__webpack_require__.d(Wt,{AddCSS:()=>tc,ChtmlFontData:()=>Za,DIRECTION:()=>ka,FontData:()=>Ia,NOSTRETCH:()=>Sa,mergeOptions:()=>La});var Vt={};__webpack_require__.r(Vt),__webpack_require__.d(Vt,{ChtmlMo:()=>ec});var Xt={};__webpack_require__.r(Xt),__webpack_require__.d(Xt,{CommonMnMixin:()=>sc});var $t={};__webpack_require__.r($t),__webpack_require__.d($t,{ChtmlMn:()=>rc});var Jt={};__webpack_require__.r(Jt),__webpack_require__.d(Jt,{CommonMsMixin:()=>ic});var Kt={};__webpack_require__.r(Kt),__webpack_require__.d(Kt,{ChtmlMs:()=>nc});var Yt={};__webpack_require__.r(Yt),__webpack_require__.d(Yt,{CommonMtextMixin:()=>oc});var Qt={};__webpack_require__.r(Qt),__webpack_require__.d(Qt,{ChtmlMtext:()=>ac});var Zt={};__webpack_require__.r(Zt),__webpack_require__.d(Zt,{CommonMspaceMixin:()=>cc});var te={};__webpack_require__.r(te),__webpack_require__.d(te,{ChtmlMspace:()=>lc});var ee={};__webpack_require__.r(ee),__webpack_require__.d(ee,{CommonMpaddedMixin:()=>hc});var se={};__webpack_require__.r(se),__webpack_require__.d(se,{ChtmlMpadded:()=>dc});var re={};__webpack_require__.r(re),__webpack_require__.d(re,{ARROWDX:()=>pc,ARROWX:()=>uc,ARROWY:()=>mc,CommonArrow:()=>Rc,CommonBorder:()=>Mc,CommonBorder2:()=>Sc,CommonDiagonalArrow:()=>Ic,CommonDiagonalStrike:()=>Lc,PADDING:()=>gc,SOLID:()=>bc,THICKNESS:()=>fc,arrowBBox:()=>Tc,arrowBBoxHD:()=>wc,arrowBBoxW:()=>Cc,arrowDef:()=>kc,arrowHead:()=>vc,diagonalArrowDef:()=>Ac,fullBBox:()=>yc,fullBorder:()=>_c,fullPadding:()=>Nc,sideIndex:()=>xc,sideNames:()=>Ec});var ie={};__webpack_require__.r(ie),__webpack_require__.d(ie,{CommonMencloseMixin:()=>Oc});var ne={};__webpack_require__.r(ne),__webpack_require__.d(ne,{ARROWDX:()=>pc,ARROWX:()=>uc,ARROWY:()=>mc,Arrow:()=>jc,Border:()=>Dc,Border2:()=>Bc,CommonArrow:()=>Rc,CommonBorder:()=>Mc,CommonBorder2:()=>Sc,CommonDiagonalArrow:()=>Ic,CommonDiagonalStrike:()=>Lc,DiagonalArrow:()=>qc,DiagonalStrike:()=>Fc,PADDING:()=>gc,RenderElement:()=>Pc,SOLID:()=>bc,THICKNESS:()=>fc,arrowBBox:()=>Tc,arrowBBoxHD:()=>wc,arrowBBoxW:()=>Cc,arrowDef:()=>kc,arrowHead:()=>vc,diagonalArrowDef:()=>Ac,fullBBox:()=>yc,fullBorder:()=>_c,fullPadding:()=>Nc,sideIndex:()=>xc,sideNames:()=>Ec});var oe={};__webpack_require__.r(oe),__webpack_require__.d(oe,{ChtmlMenclose:()=>Gc});var ae={};__webpack_require__.r(ae),__webpack_require__.d(ae,{CommonInferredMrowMixin:()=>Wc,CommonMrowMixin:()=>zc});var ce={};__webpack_require__.r(ce),__webpack_require__.d(ce,{ChtmlInferredMrow:()=>Xc,ChtmlMrow:()=>Vc});var le={};__webpack_require__.r(le),__webpack_require__.d(le,{CommonMfencedMixin:()=>$c});var he={};__webpack_require__.r(he),__webpack_require__.d(he,{ChtmlMfenced:()=>Jc});var de={};__webpack_require__.r(de),__webpack_require__.d(de,{CommonMfracMixin:()=>Kc});var ue={};__webpack_require__.r(ue),__webpack_require__.d(ue,{ChtmlMfrac:()=>Yc});var pe={};__webpack_require__.r(pe),__webpack_require__.d(pe,{CommonMsqrtMixin:()=>Qc});var me={};__webpack_require__.r(me),__webpack_require__.d(me,{ChtmlMsqrt:()=>Zc});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{CommonMrootMixin:()=>tl});var ge={};__webpack_require__.r(ge),__webpack_require__.d(ge,{ChtmlMroot:()=>el});var be={};__webpack_require__.r(be),__webpack_require__.d(be,{CommonMsubMixin:()=>sl,CommonMsubsupMixin:()=>il,CommonMsupMixin:()=>rl});var xe={};__webpack_require__.r(xe),__webpack_require__.d(xe,{CommonScriptbaseMixin:()=>nl});var Ee={};__webpack_require__.r(Ee),__webpack_require__.d(Ee,{ChtmlScriptbase:()=>ol});var ye={};__webpack_require__.r(ye),__webpack_require__.d(ye,{ChtmlMsub:()=>al,ChtmlMsubsup:()=>ll,ChtmlMsup:()=>cl});var Ne={};__webpack_require__.r(Ne),__webpack_require__.d(Ne,{CommonMoverMixin:()=>dl,CommonMunderMixin:()=>hl,CommonMunderoverMixin:()=>ul});var _e={};__webpack_require__.r(_e),__webpack_require__.d(_e,{ChtmlMover:()=>ml,ChtmlMunder:()=>pl,ChtmlMunderover:()=>fl});var ve={};__webpack_require__.r(ve),__webpack_require__.d(ve,{CommonMmultiscriptsMixin:()=>xl,NextScript:()=>gl,ScriptNames:()=>bl});var we={};__webpack_require__.r(we),__webpack_require__.d(we,{ChtmlMmultiscripts:()=>El});var Ce={};__webpack_require__.r(Ce),__webpack_require__.d(Ce,{BREAK_BELOW:()=>yl,CommonMtableMixin:()=>Nl});var ke={};__webpack_require__.r(ke),__webpack_require__.d(ke,{ChtmlMtable:()=>_l});var Ae={};__webpack_require__.r(Ae),__webpack_require__.d(Ae,{CommonMlabeledtrMixin:()=>wl,CommonMtrMixin:()=>vl});var Te={};__webpack_require__.r(Te),__webpack_require__.d(Te,{ChtmlMlabeledtr:()=>kl,ChtmlMtr:()=>Cl});var Me={};__webpack_require__.r(Me),__webpack_require__.d(Me,{CommonMtdMixin:()=>Al});var Se={};__webpack_require__.r(Se),__webpack_require__.d(Se,{ChtmlMtd:()=>Tl});var Le={};__webpack_require__.r(Le),__webpack_require__.d(Le,{CommonMactionMixin:()=>Sl,TooltipData:()=>Ml});var Ie={};__webpack_require__.r(Ie),__webpack_require__.d(Ie,{ChtmlMaction:()=>Ll});var Re={};__webpack_require__.r(Re),__webpack_require__.d(Re,{CommonMglyphMixin:()=>Il});var Oe={};__webpack_require__.r(Oe),__webpack_require__.d(Oe,{ChtmlMglyph:()=>Rl});var Pe={};__webpack_require__.r(Pe),__webpack_require__.d(Pe,{CommonSemanticsMixin:()=>Ol});var De={};__webpack_require__.r(De),__webpack_require__.d(De,{CommonXmlNodeMixin:()=>Pl});var Be={};__webpack_require__.r(Be),__webpack_require__.d(Be,{ChtmlAnnotation:()=>Bl,ChtmlAnnotationXML:()=>ql,ChtmlSemantics:()=>Dl,ChtmlXmlNode:()=>jl});var Fe={};__webpack_require__.r(Fe),__webpack_require__.d(Fe,{CommonTeXAtomMixin:()=>Ul});var qe={};__webpack_require__.r(qe),__webpack_require__.d(qe,{ChtmlTeXAtom:()=>Hl});var je={};__webpack_require__.r(je),__webpack_require__.d(je,{CommonTextNodeMixin:()=>Gl});var Ue={};__webpack_require__.r(Ue),__webpack_require__.d(Ue,{ChtmlTextNode:()=>zl});var He={};__webpack_require__.r(He),__webpack_require__.d(He,{ChtmlHtmlNode:()=>Wl});var Ge={};__webpack_require__.r(Ge),__webpack_require__.d(Ge,{ChtmlWrappers:()=>Vl});var ze={};__webpack_require__.r(ze),__webpack_require__.d(ze,{ChtmlWrapperFactory:()=>Xl});var We={};__webpack_require__.r(We),__webpack_require__.d(We,{DefaultFont:()=>Zl,fontName:()=>Ql});var Ve={};__webpack_require__.r(Ve),__webpack_require__.d(Ve,{CHTML:()=>th});var Xe={};__webpack_require__.r(Xe),__webpack_require__.d(Xe,{AddFontIds:()=>eh});var $e={};__webpack_require__.r($e),__webpack_require__.d($e,{MJContextMenu:()=>id});var Je={};__webpack_require__.r(Je),__webpack_require__.d(Je,{addPreference:()=>uf,engineSetup:()=>lf,fromPreference:()=>pf,locales:()=>af,parseDOM:()=>df,setupEngine:()=>cf,toEnriched:()=>hf,toPreference:()=>mf});var Ke={};__webpack_require__.r(Ke),__webpack_require__.d(Ke,{clearspeakMenu:()=>vf,localeMenu:()=>Cf});var Ye={};__webpack_require__.r(Ye),__webpack_require__.d(Ye,{copyToClipboard:()=>Af,isMac:()=>kf});var Qe={};__webpack_require__.r(Qe),__webpack_require__.d(Qe,{annotation:()=>Lf,copyAnnotations:()=>Mf,showAnnotations:()=>Tf});var Ze={};__webpack_require__.r(Ze),__webpack_require__.d(Ze,{RadioCompare:()=>Rf});var ts={};__webpack_require__.r(ts),__webpack_require__.d(ts,{MmlVisitor:()=>Of});var es={};__webpack_require__.r(es),__webpack_require__.d(es,{SelectableInfo:()=>Pf});var ss={};__webpack_require__.r(ss),__webpack_require__.d(ss,{Menu:()=>Ff});var rs={};__webpack_require__.r(rs),__webpack_require__.d(rs,{MenuHandler:()=>Uf,MenuMathDocumentMixin:()=>jf,MenuMathItemMixin:()=>qf});var is={};__webpack_require__.r(is),__webpack_require__.d(is,{EnrichHandler:()=>Wf,EnrichedMathDocumentMixin:()=>zf,EnrichedMathItemMixin:()=>Gf,enrichVisitor:()=>Hf});var ns={};__webpack_require__.r(ns),__webpack_require__.d(ns,{InPlace:()=>sg,SemAttr:()=>rg,buildLabel:()=>Zf,buildSpeech:()=>tg,honk:()=>eg,ssmlParsing:()=>Xf});var os={};__webpack_require__.r(os),__webpack_require__.d(os,{GeneratorPool:()=>ig});var as={};__webpack_require__.r(as),__webpack_require__.d(as,{WorkerHandler:()=>ag});var cs={};__webpack_require__.r(cs),__webpack_require__.d(cs,{SpeechHandler:()=>pg,SpeechMathDocumentMixin:()=>ug,SpeechMathItemMixin:()=>dg});var ls={};__webpack_require__.r(ls),__webpack_require__.d(ls,{getHighlighter:()=>Ng});var hs={};__webpack_require__.r(hs),__webpack_require__.d(hs,{AbstractRegion:()=>vg,DummyRegion:()=>wg,HoverRegion:()=>Mg,LiveRegion:()=>Ag,SpeechRegion:()=>Tg,StringRegion:()=>Cg,ToolTip:()=>kg});var ds={};__webpack_require__.r(ds),__webpack_require__.d(ds,{AbstractExplorer:()=>Sg});var us={};__webpack_require__.r(us),__webpack_require__.d(us,{SpeechExplorer:()=>Dg,hasModifiers:()=>Og,isContainer:()=>Rg});var ps={};__webpack_require__.r(ps),__webpack_require__.d(ps,{AbstractMouseExplorer:()=>Bg,ContentHoverer:()=>jg,FlameHoverer:()=>Ug,Hoverer:()=>Fg,ValueHoverer:()=>qg});var ms={};__webpack_require__.r(ms),__webpack_require__.d(ms,{AbstractTreeExplorer:()=>Hg,ContrastPicker:()=>Wg,FlameColorer:()=>Gg,TreeColorer:()=>zg});var fs={};__webpack_require__.r(fs),__webpack_require__.d(fs,{ExplorerPool:()=>$g,RegionPool:()=>Vg});var gs={};__webpack_require__.r(gs),__webpack_require__.d(gs,{ExplorerHandler:()=>Qg,ExplorerMathDocumentMixin:()=>Yg,ExplorerMathItemMixin:()=>Kg,setA11yOption:()=>tb,setA11yOptions:()=>Zg});var bs={};__webpack_require__.r(bs),__webpack_require__.d(bs,{FindTeX:()=>eb});var xs={};__webpack_require__.r(xs),__webpack_require__.d(xs,{default:()=>rb});var Es={};__webpack_require__.r(Es),__webpack_require__.d(Es,{default:()=>lb});var ys={};__webpack_require__.r(ys),__webpack_require__.d(ys,{ConfigurationType:()=>hb,HandlerType:()=>db});var Ns={};__webpack_require__.r(Ns),__webpack_require__.d(Ns,{UnitUtil:()=>pb});var _s={};__webpack_require__.r(_s),__webpack_require__.d(_s,{default:()=>mb});var vs={};__webpack_require__.r(vs),__webpack_require__.d(vs,{default:()=>gb});var ws={};__webpack_require__.r(ws),__webpack_require__.d(ws,{BaseItem:()=>xb,MmlStack:()=>bb});var Cs={};__webpack_require__.r(Cs),__webpack_require__.d(Cs,{TexConstant:()=>Eb});var ks={};__webpack_require__.r(ks),__webpack_require__.d(ks,{default:()=>yb});var As={};__webpack_require__.r(As),__webpack_require__.d(As,{default:()=>vb});var Ts={};__webpack_require__.r(Ts),__webpack_require__.d(Ts,{NodeFactory:()=>wb});var Ms={};__webpack_require__.r(Ms),__webpack_require__.d(Ms,{KeyValueDef:()=>Cb,KeyValueTypes:()=>kb,ParseUtil:()=>Mb});var Ss={};__webpack_require__.r(Ss),__webpack_require__.d(Ss,{ColumnParser:()=>Sb});var Ls={};__webpack_require__.r(Ls),__webpack_require__.d(Ls,{default:()=>Rb});var Is={};__webpack_require__.r(Is),__webpack_require__.d(Is,{AbstractTags:()=>Db,AllTags:()=>Fb,Label:()=>Ob,NoTags:()=>Bb,TagInfo:()=>Pb,TagsFactory:()=>Ub});var Rs={};__webpack_require__.r(Rs),__webpack_require__.d(Rs,{Macro:()=>Gb,Token:()=>Hb});var Os={};__webpack_require__.r(Os),__webpack_require__.d(Os,{AbstractParseMap:()=>Xb,AbstractTokenMap:()=>Wb,CharacterMap:()=>$b,CommandMap:()=>Yb,DelimiterMap:()=>Jb,EnvironmentMap:()=>Qb,MacroMap:()=>Kb,RegExpMap:()=>Vb,parseResult:()=>zb});var Ps={};__webpack_require__.r(Ps),__webpack_require__.d(Ps,{MapHandler:()=>tx,SubHandler:()=>ex,SubHandlers:()=>sx});var Ds={};__webpack_require__.r(Ds),__webpack_require__.d(Ds,{Configuration:()=>rx,ConfigurationHandler:()=>nx,ParserConfiguration:()=>ox});var Bs={};__webpack_require__.r(Bs),__webpack_require__.d(Bs,{ArrayItem:()=>Mx,BeginItem:()=>Ex,BreakItem:()=>xx,CellItem:()=>vx,CloseItem:()=>hx,DotsItem:()=>Tx,EndItem:()=>yx,EqnArrayItem:()=>Sx,EquationItem:()=>Ix,FnItem:()=>Cx,LeftItem:()=>fx,Middle:()=>gx,MmlItem:()=>wx,MstyleItem:()=>Lx,NonscriptItem:()=>Ax,NotItem:()=>kx,NullItem:()=>dx,OpenItem:()=>lx,OverItem:()=>mx,PositionItem:()=>_x,PrimeItem:()=>ux,RightItem:()=>bx,StartItem:()=>ax,StopItem:()=>cx,StyleItem:()=>Nx,SubsupItem:()=>px});var Fs={};__webpack_require__.r(Fs),__webpack_require__.d(Fs,{default:()=>qx,splitAlignArray:()=>Dx});var qs={};__webpack_require__.r(qs),__webpack_require__.d(qs,{default:()=>Hx});var js={};__webpack_require__.r(js),__webpack_require__.d(js,{BaseConfiguration:()=>$x,BaseTags:()=>Xx,Other:()=>Vx});var Us={};__webpack_require__.r(Us),__webpack_require__.d(Us,{TeX:()=>Jx});var Hs={};__webpack_require__.r(Hs),__webpack_require__.d(Hs,{FlalignItem:()=>Qx,MultlineItem:()=>Yx});var Gs={};__webpack_require__.r(Gs),__webpack_require__.d(Gs,{NewcommandPriority:()=>tE,NewcommandTables:()=>Zx,NewcommandUtil:()=>eE});var zs={};__webpack_require__.r(zs),__webpack_require__.d(zs,{AmsMethods:()=>iE});var Ws={};__webpack_require__.r(Ws),__webpack_require__.d(Ws,{BeginEnvItem:()=>nE});var Vs={};__webpack_require__.r(Vs),__webpack_require__.d(Vs,{default:()=>aE});var Xs={};__webpack_require__.r(Xs),__webpack_require__.d(Xs,{NewcommandConfig:()=>cE,NewcommandConfiguration:()=>lE});var $s={};__webpack_require__.r($s),__webpack_require__.d($s,{AmsConfiguration:()=>dE,AmsTags:()=>hE});var Js={};__webpack_require__.r(Js),__webpack_require__.d(Js,{ActionConfiguration:()=>pE,ActionMethods:()=>uE});var Ks={};__webpack_require__.r(Ks),__webpack_require__.d(Ks,{default:()=>fE});var Ys={};__webpack_require__.r(Ys),__webpack_require__.d(Ys,{AmsCdConfiguration:()=>gE});var Qs={};__webpack_require__.r(Qs),__webpack_require__.d(Qs,{BboxConfiguration:()=>EE});var Zs={};__webpack_require__.r(Zs),__webpack_require__.d(Zs,{BoldsymbolConfiguration:()=>wE,BoldsymbolMethods:()=>NE,createBoldToken:()=>_E,rewriteBoldTokens:()=>vE});var tr={};__webpack_require__.r(tr),__webpack_require__.d(tr,{BraketItem:()=>kE});var er={};__webpack_require__.r(er),__webpack_require__.d(er,{default:()=>AE});var sr={};__webpack_require__.r(sr),__webpack_require__.d(sr,{BraketConfiguration:()=>TE});var rr={};__webpack_require__.r(rr),__webpack_require__.d(rr,{balanceRules:()=>$E,clearDocument:()=>sy,getProperty:()=>QE,makeBsprAttributes:()=>ty,removeProperty:()=>ZE,saveDocument:()=>ey,setProperty:()=>YE});var ir={};__webpack_require__.r(ir),__webpack_require__.d(ir,{ProofTreeItem:()=>ry});var nr={};__webpack_require__.r(nr),__webpack_require__.d(nr,{default:()=>ay});var or={};__webpack_require__.r(or),__webpack_require__.d(or,{BussproofsConfiguration:()=>cy});var ar={};__webpack_require__.r(ar),__webpack_require__.d(ar,{ENCLOSE_OPTIONS:()=>ly,EncloseConfiguration:()=>dy,EncloseMethods:()=>hy});var cr={};__webpack_require__.r(cr),__webpack_require__.d(cr,{CancelConfiguration:()=>py,CancelMethods:()=>uy});var lr={};__webpack_require__.r(lr),__webpack_require__.d(lr,{CasesBeginItem:()=>fy,CasesConfiguration:()=>xy,CasesMethods:()=>by,CasesTags:()=>gy});var hr={};__webpack_require__.r(hr),__webpack_require__.d(hr,{CenternotConfiguration:()=>yy,filterCenterOver:()=>Ey});var dr={};__webpack_require__.r(dr),__webpack_require__.d(dr,{ColorMethods:()=>_y,padding:()=>Ny});var ur={};__webpack_require__.r(ur),__webpack_require__.d(ur,{COLORS:()=>vy});var pr={};__webpack_require__.r(pr),__webpack_require__.d(pr,{ColorModel:()=>Cy});var mr={};__webpack_require__.r(mr),__webpack_require__.d(mr,{ColorConfiguration:()=>ky});var fr={};__webpack_require__.r(fr),__webpack_require__.d(fr,{ColorArrayItem:()=>Ay,ColortblConfiguration:()=>My});var gr={};__webpack_require__.r(gr),__webpack_require__.d(gr,{ConfigMacrosConfiguration:()=>Oy});var br={};__webpack_require__.r(br),__webpack_require__.d(br,{ExtpfeilConfiguration:()=>Dy});var xr={};__webpack_require__.r(xr),__webpack_require__.d(xr,{GensymbConfiguration:()=>By});var Er={};__webpack_require__.r(Er),__webpack_require__.d(Er,{default:()=>Hy});var yr={};__webpack_require__.r(yr),__webpack_require__.d(yr,{HtmlConfiguration:()=>Gy});var Nr={};__webpack_require__.r(Nr),__webpack_require__.d(Nr,{MathtoolsUtil:()=>zy});var _r={};__webpack_require__.r(_r),__webpack_require__.d(_r,{LEGACYCONFIG:()=>Wy,LEGACYPRIORITY:()=>Vy,MathtoolsMethods:()=>Xy});var vr={};__webpack_require__.r(vr),__webpack_require__.d(vr,{MathtoolsTagFormat:()=>Jy});var wr={};__webpack_require__.r(wr),__webpack_require__.d(wr,{MultlinedItem:()=>Ky});var Cr={};__webpack_require__.r(Cr),__webpack_require__.d(Cr,{MathtoolsConfiguration:()=>Qy,fixPrescripts:()=>Yy});var kr={};__webpack_require__.r(kr),__webpack_require__.d(kr,{MhchemConfiguration:()=>oN,MhchemMethods:()=>nN,MhchemReplacements:()=>iN,MhchemUtils:()=>rN});var Ar={};__webpack_require__.r(Ar),__webpack_require__.d(Ar,{NoErrorsConfiguration:()=>aN});var Tr={};__webpack_require__.r(Tr),__webpack_require__.d(Tr,{NoUndefinedConfiguration:()=>cN});var Mr={};__webpack_require__.r(Mr),__webpack_require__.d(Mr,{AutoOpen:()=>lN});var Sr={};__webpack_require__.r(Sr),__webpack_require__.d(Sr,{default:()=>_N});var Lr={};__webpack_require__.r(Lr),__webpack_require__.d(Lr,{PhysicsConfiguration:()=>vN});var Ir={};__webpack_require__.r(Ir),__webpack_require__.d(Ir,{TagFormatConfiguration:()=>kN,tagformatConfig:()=>CN});var Rr={};__webpack_require__.r(Rr),__webpack_require__.d(Rr,{TextMacrosMethods:()=>AN});var Or={};__webpack_require__.r(Or),__webpack_require__.d(Or,{TextParser:()=>TN});var Pr={};__webpack_require__.r(Pr),__webpack_require__.d(Pr,{TextcompConfiguration:()=>SN});var Dr={};__webpack_require__.r(Dr),__webpack_require__.d(Dr,{TextBaseConfiguration:()=>IN,TextMacrosConfiguration:()=>ON});var Br={};__webpack_require__.r(Br),__webpack_require__.d(Br,{UnicodeConfiguration:()=>BN});var Fr={};__webpack_require__.r(Fr),__webpack_require__.d(Fr,{UpgreekConfiguration:()=>FN});var qr={};__webpack_require__.r(qr),__webpack_require__.d(qr,{VerbConfiguration:()=>qN});const jr="4.0.0",Ur={},Hr="undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof globalThis?globalThis:Ur;function Gr(t){return"object"==typeof t&&null!==t}function zr(t,e,s=!1){var r;for(const i of Object.keys(e))"__esModule"!==i&&t[i]!==e[i]&&null!==e[i]&&void 0!==e[i]&&(Gr(t[i])&&Gr(e[i])?zr(t[i],e[i],s||"_"===i):s&&(null===(r=Object.getOwnPropertyDescriptor(t,i))||void 0===r?void 0:r.get)||(t[i]=e[i]));return t}function Wr(t,e,s){t[e]||(t[e]={}),t=t[e];for(const e of Object.keys(s))Gr(t[e])&&Gr(s[e])?Wr(t,e,s[e]):null==t[e]&&null!=s[e]&&(t[e]=s[e]);return t}function Vr(t){return zr(Xr,t)}void 0!==Hr.MathJax&&Hr.MathJax.constructor==={}.constructor||(Hr.MathJax={}),Hr.MathJax.version||(Hr.MathJax={version:jr,_:{},config:Hr.MathJax});const Xr=Hr.MathJax,$r="undefined"!=typeof window,Jr={window:$r?window:null,document:$r?window.document:null,os:(()=>{if($r&&window.navigator){const t=window.navigator.appVersion,e=[["Win","Windows"],["Mac","MacOS"],["X11","Unix"],["Linux","Unix"]];for(const[s,r]of e)if(t.includes(s))return r;if(window.navigator.userAgent.includes("Android"))return"Unix"}return"unknown"})()};class Kr extends Error{constructor(t,e){super(t),this.package=e}}class Yr{get canLoad(){return 0===this.dependencyCount&&!this.noLoad&&!this.isLoading&&!this.hasFailed}static loadPromise(t){const e=oi[t]||{},s=e.extraLoads?ii.load(...e.extraLoads):Promise.resolve(),r=e.checkReady||(()=>Promise.resolve());return s.then(()=>r())}static resolvePath(t,e=!0){const s={name:t,original:t,addExtension:e};return ii.pathFilters.execute(s),s.name}static loadAll(){for(const t of this.packages.values())t.canLoad&&t.load()}constructor(t,e=!1){this.isLoaded=!1,this.result={},this.isLoading=!1,this.hasFailed=!1,this.dependents=[],this.dependencies=[],this.dependencyCount=0,this.provided=[],this.name=t,this.noLoad=e,Yr.packages.set(t,this),this.promise=this.makePromise(this.makeDependencies())}makeDependencies(){const t=[],e=Yr.packages,s=this.noLoad,r=this.name,i=[];Object.hasOwn(oi.dependencies,r)?i.push(...oi.dependencies[r]):"core"!==r&&i.push("core");for(const r of i){const i=e.get(r)||new Yr(r,s);this.dependencies.includes(i)||(i.addDependent(this,s),this.dependencies.push(i),i.isLoaded||(this.dependencyCount++,t.push(i.promise)))}return t}makePromise(t){let e=new Promise((t,e)=>{this.resolve=t,this.reject=e});const s=oi[this.name]||{};return s.ready&&(e=e.then(t=>s.ready(this.name))),t.length&&(t.push(e),e=Promise.all(t).then(t=>t.join(", "))),s.failed&&e.catch(t=>s.failed(new Kr(t,this.name))),e}load(){if(!this.isLoaded&&!this.isLoading&&!this.noLoad){this.isLoading=!0;const t=Yr.resolvePath(this.name);oi.require?this.loadCustom(t):this.loadScript(t)}}loadCustom(t){try{const e=oi.require(t);e instanceof Promise?e.then(t=>this.result=t).then(()=>this.checkLoad()).catch(e=>this.failed("Can't load \""+t+'"\n'+e.message.trim())):(this.result=e,this.checkLoad())}catch(t){this.failed(t.message)}}loadScript(t){const e=Jr.document.createElement("script");e.src=t,e.charset="UTF-8",e.onload=t=>this.checkLoad(),e.onerror=e=>this.failed("Can't load \""+t+'"'),Jr.document.head.appendChild(e)}loaded(){this.isLoaded=!0,this.isLoading=!1;for(const t of this.dependents)t.requirementSatisfied();for(const t of this.provided)t.loaded();this.resolve(this.name)}failed(t){this.hasFailed=!0,this.isLoading=!1,this.reject(new Kr(t,this.name))}checkLoad(){Yr.loadPromise(this.name).then(()=>this.loaded()).catch(t=>this.failed(t))}requirementSatisfied(){this.dependencyCount&&(this.dependencyCount--,this.canLoad&&this.load())}provides(t=[]){for(const e of t){let t=Yr.packages.get(e);t||(oi.dependencies[e]||(oi.dependencies[e]=[]),oi.dependencies[e].push(e),t=new Yr(e,!0),t.isLoading=!0),this.provided.push(t)}}addDependent(t,e){this.dependents.push(t),e||this.checkNoLoad()}checkNoLoad(){if(this.noLoad){this.noLoad=!1;for(const t of this.dependencies)t.checkNoLoad()}}}Yr.packages=new Map;class Qr{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let t=0;const e=this.items;return{next:()=>({value:e[t++],done:t>e.length})}}add(t,e=Qr.DEFAULTPRIORITY){let s=this.items.length;do{s--}while(s>=0&&e<this.items[s].priority);return this.items.splice(s+1,0,{item:t,priority:e}),t}remove(t){let e=this.items.length;do{e--}while(e>=0&&this.items[e].item!==t);return e>=0&&this.items.splice(e,1),this}}Qr.DEFAULTPRIORITY=5;class Zr extends Qr{constructor(t=null){super(),t&&this.addList(t)}addList(t){for(const e of t)Array.isArray(e)?this.add(e[0],e[1]):this.add(e)}execute(...t){for(const e of this){if(!1===e.item(...t))return!1}return!0}asyncExecute(...t){let e=-1;const s=this.items;return new Promise((r,i)=>{!function n(){for(;++e<s.length;){const o=s[e].item(...t);if(o instanceof Promise)return void o.then(n).catch(t=>i(t));if(!1===o)return void r(!1)}r(!0)}()})}}const ti=Xr.config||{};var ei=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};const si={source:t=>(Object.hasOwn(oi.source,t.name)&&(t.name=oi.source[t.name]),!0),normalize:t=>{const e=t.name;return e.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)||(t.name="[mathjax]/"+e.replace(/^\.\//,"")),!0},prefix:t=>{let e;for(;(e=t.name.match(/^\[([^\]]*)\]/))&&Object.hasOwn(oi.paths,e[1]);)t.name=oi.paths[e[1]]+t.name.substring(e[0].length);return!0},addExtension:t=>(t.addExtension&&!t.name.match(/\.[^/]+$/)&&(t.name+=".js"),!0)},ri=Xr.version,ii={versions:new Map,nestedLoads:[],ready(...t){0===t.length&&(t=Array.from(Yr.packages.keys()));const e=[];for(const s of t){const t=Yr.packages.get(s)||new Yr(s,!0);e.push(t.promise)}return Promise.all(e)},load(...t){if(0===t.length)return Promise.resolve([]);let e=[];this.nestedLoads.unshift(e);const s=Promise.resolve().then(()=>ei(this,void 0,void 0,function*(){const s=[];for(const e of t){let t=Yr.packages.get(e);t||(t=new Yr(e),t.provides(oi.provides[e])),t.checkNoLoad(),s.push(t.promise.then(()=>(oi.versionWarnings&&t.isLoaded&&!ii.versions.has(Yr.resolvePath(e))&&console.warn(`No version information available for component ${e}`),t.result)))}Yr.loadAll();const r=yield Promise.all(s);for(;e.length;){const t=Promise.all(e);e=this.nestedLoads[this.nestedLoads.indexOf(e)]=[],yield t}return this.nestedLoads.splice(this.nestedLoads.indexOf(e),1),r}));return this.nestedLoads.slice(1).forEach(t=>t.push(s)),s},preLoaded(...t){for(const e of t){let t=Yr.packages.get(e);t||(t=new Yr(e,!0),t.provides(oi.provides[e])),t.loaded()}},addPackageData(t,e){let s=oi[t];s||(s=oi[t]={});for(const[t,r]of Object.entries(e))if(Array.isArray(r)){s[t]||(s[t]=[]);const e=new Set([...s[t],...r]);s[t]=[...e]}else s[t]=r},defaultReady(){void 0!==ni.startup&&ni.config.startup.ready()},getRoot(){if(Jr.document){const t=Jr.document.currentScript||Jr.document.getElementById("MathJax-script");if(t&&t instanceof HTMLScriptElement)return t.src.replace(/\/[^/]*$/,"")}return ti?.loader?.paths?.mathjax||ti?.__dirname||"/"},checkVersion(t,e,s){return this.saveVersion(t),!(!oi.versionWarnings||e===ri)&&(console.warn(`Component ${t} uses ${e} of MathJax; version in use is ${ri}`),!0)},saveVersion(t){ii.versions.set(Yr.resolvePath(t),ri)},pathFilters:new Zr};ii.pathFilters.add(si.source,0),ii.pathFilters.add(si.normalize,10),ii.pathFilters.add(si.prefix,20),ii.pathFilters.add(si.addExtension,30);const ni=Xr;if(void 0===ni.loader){Wr(ni.config,"loader",{paths:{mathjax:ii.getRoot()},source:{},dependencies:{},provides:{},load:[],ready:ii.defaultReady.bind(ii),failed:t=>console.log(`MathJax(${t.package||"?"}): ${t.message}`),require:null,pathFilters:[],versionWarnings:!0}),Vr({loader:ii});for(const t of ni.config.loader.pathFilters)Array.isArray(t)?ii.pathFilters.add(t[0],t[1]):ii.pathFilters.add(t)}const oi=ni.config.loader,ai={}.constructor;function ci(t){return"object"==typeof t&&null!==t&&(t.constructor===ai||t.constructor===ui)}const li="[+]",hi="[-]",di={invalidOption:"warn",optionError:(t,e)=>{if("fatal"===di.invalidOption)throw new Error(t);console.warn("MathJax: "+t)}};class ui{}function pi(t){return Object.assign(Object.create(ui.prototype),t)}function mi(t){return Array.isArray(t)?t:[t]}function fi(t){return t?Object.keys(t).concat(Object.getOwnPropertySymbols(t)):[]}function gi(t){const e={};for(const s of fi(t)){const r=Object.getOwnPropertyDescriptor(t,s),i=r.value;Array.isArray(i)?r.value=bi([],i,!1):ci(i)&&(r.value=gi(i)),r.enumerable&&(e[s]=r)}return Object.defineProperties(t.constructor===ui?pi({}):{},e)}function bi(t,e,s=!0){for(let r of fi(e)){if(s&&void 0===t[r]&&t.constructor!==ui){"symbol"==typeof r&&(r=r.toString()),di.optionError(`Invalid option "${r}" (no default value).`,r);continue}const i=e[r];let n=t[r];if(!ci(i)||null===n||"object"!=typeof n&&"function"!=typeof n)Array.isArray(i)?(t[r]=[],bi(t[r],i,!1)):ci(i)?t[r]=gi(i):t[r]=i;else{const e=fi(i);Array.isArray(n)&&(1===e.length&&(e[0]===li||e[0]===hi)&&Array.isArray(i[e[0]])||2===e.length&&e.sort().join(",")===li+","+hi&&Array.isArray(i[li])&&Array.isArray(i[hi]))?(i[hi]&&(n=t[r]=n.filter(t=>i[hi].indexOf(t)<0)),i[li]&&(t[r]=[...n,...i[li]])):bi(n,i,s)}}return t}function xi(t,...e){return e.forEach(e=>bi(t,e,!1)),t}function Ei(t,...e){return e.forEach(e=>bi(t,e,!0)),t}function yi(t,...e){const s={};for(const r of e)Object.hasOwn(t,r)&&(s[r]=t[r]);return s}function Ni(t,e){return yi(t,...Object.keys(e))}function _i(t,...e){const s=[];for(const r of e){const e={},i={};for(const s of Object.keys(t||{}))(void 0===r[s]?i:e)[s]=t[s];s.push(e),t=i}return s.unshift(t),s}function vi(t,e,s=null){return Object.hasOwn(e,t)?e[t]:s}var wi=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};class Ci{static toMML(t){return Ci.visitor.visitTree(t,this.document)}static registerConstructor(t,e){Ci.constructors[t]=e}static useHandler(t,e=!1){Ai.handler&&!e||(Ai.handler=t)}static useAdaptor(t,e=!1){Ai.adaptor&&!e||(Ai.adaptor=t)}static useInput(t,e=!1){Ti&&!e||Ai.input.push(t)}static useOutput(t,e=!1){Ai.output&&!e||(Ai.output=t)}static extendHandler(t,e=10){Ci.extensions.add(t,e)}static defaultReady(){Ci.getComponents(),Ci.makeMethods(),Ci.pagePromise.then(()=>Ai.pageReady()).then(()=>Ci.promiseResolve()).catch(t=>Ci.promiseReject(t))}static defaultPageReady(){return(Ai.loadAllFontFiles&&Ci.output.font?Ci.output.font.loadDynamicFiles():Promise.resolve()).then(()=>{var t;return null===(t=Ci.document.menu)||void 0===t?void 0:t.loadingPromise}).then(Ai.typeset&&ki.typesetPromise?()=>Ci.typesetPromise(Ai.elements):Promise.resolve()).then(()=>Ci.promiseResolve())}static typesetPromise(t){return this.hasTypeset=!0,Ci.document.whenReady(()=>wi(this,void 0,void 0,function*(){Ci.document.options.elements=t,Ci.document.reset(),yield Ci.document.renderPromise()}))}static getComponents(){Ci.visitor=new ki._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor,Ci.mathjax=ki._.mathjax.mathjax,Ci.input=Ci.getInputJax(),Ci.output=Ci.getOutputJax(),Ci.adaptor=Ci.getAdaptor(),Ci.handler&&Ci.mathjax.handlers.unregister(Ci.handler),Ci.handler=Ci.getHandler(),Ci.handler&&(Ci.mathjax.handlers.register(Ci.handler),Ci.document=Ci.getDocument())}static makeMethods(){Ci.input&&Ci.output&&Ci.makeTypesetMethods();const t=Ci.output?Ci.output.name.toLowerCase():"";for(const e of Ci.input){const s=e.name.toLowerCase();Ci.makeMmlMethods(s,e),Ci.makeResetMethod(s,e),Ci.output&&Ci.makeOutputMethods(s,t,e)}ki.done=()=>Ci.document.done(),ki.whenReady=t=>Ci.document.whenReady(t)}static makeTypesetMethods(){ki.typeset=(t=null)=>{this.hasTypeset=!0,Ci.document.options.elements=t,Ci.document.reset(),Ci.document.render()},ki.typesetPromise=(t=null)=>Ci.typesetPromise(t),ki.typesetClear=(t=null)=>{t?Ci.document.clearMathItemsWithin(t):Ci.document.clear()}}static makeOutputMethods(t,e,s){const r=t+"2"+e;ki[r]=(t,e={})=>(e=Object.assign(Object.assign({},e),{format:s.name}),Ci.document.convert(t,e)),ki[r+"Promise"]=(t,e={})=>(e=Object.assign(Object.assign({},e),{format:s.name}),Ci.document.convertPromise(t,e)),ki[e+"Stylesheet"]=()=>Ci.output.styleSheet(Ci.document),"getMetricsFor"in Ci.output&&(ki.getMetricsFor=(t,e)=>Ci.output.getMetricsFor(t,e))}static makeMmlMethods(t,e){const s=ki._.core.MathItem.STATE;ki[t+"2mml"]=(t,r={})=>(r=Object.assign(Object.assign({},r),{end:s.CONVERT,format:e.name}),Ci.toMML(Ci.document.convert(t,r))),ki[t+"2mmlPromise"]=(t,...r)=>wi(this,[t,...r],void 0,function*(t,r={}){r=Object.assign(Object.assign({},r),{end:s.CONVERT,format:e.name});const i=yield Ci.document.convertPromise(t,r);return Ci.toMML(i)})}static makeResetMethod(t,e){ki[t+"Reset"]=(...t)=>e.reset(...t)}static getInputJax(){const t=[];for(const e of Ai.input){const s=Ci.constructors[e];if(!s)throw Error('Input Jax "'+e+'" is not defined (has it been loaded?)');t[e]=new s(ki.config[e]),t.push(t[e])}return t}static getOutputJax(){const t=Ai.output;if(!t)return null;const e=Ci.constructors[t];if(!e)throw Error('Output Jax "'+t+'" is not defined (has it been loaded?)');return new e(ki.config[t])}static getAdaptor(){const t=Ai.adaptor;if(!t||"none"===t)return null;const e=Ci.constructors[t];if(!e)throw Error('DOMAdaptor "'+t+'" is not defined (has it been loaded?)');return e(ki.config[t])}static getHandler(){const t=Ai.handler;if(!t||"none"===t||!Ci.adaptor)return null;const e=Ci.constructors[t];if(!e)throw Error('Handler "'+t+'" is not defined (has it been loaded?)');let s=new e(Ci.adaptor,5);for(const t of Ci.extensions)s=t.item(s);return s}static getDocument(t=null){return Ci.mathjax.document(t||Ai.document,Object.assign(Object.assign({},ki.config.options),{InputJax:Ci.input,OutputJax:Ci.output}))}}Ci.extensions=new Qr,Ci.constructors={},Ci.input=[],Ci.output=null,Ci.handler=null,Ci.adaptor=null,Ci.elements=null,Ci.document=null,Ci.promise=new Promise((t,e)=>{Ci.promiseResolve=t,Ci.promiseReject=e}),Ci.pagePromise=new Promise((t,e)=>{const s=Hr.document;if(s&&s.readyState&&"complete"!==s.readyState&&"interactive"!==s.readyState){const e=()=>t();s.defaultView.addEventListener("load",e,!0),s.defaultView.addEventListener("DOMContentLoaded",e,!0)}else t()}),Ci.hasTypeset=!1,Ci.defaultOptionError=di.optionError;const ki=Xr;void 0===ki._.startup&&(Wr(ki.config,"startup",{input:[],output:"",handler:null,adaptor:null,document:Jr.document||"",elements:null,typeset:!0,ready:Ci.defaultReady.bind(Ci),pageReady:Ci.defaultPageReady.bind(Ci)}),Vr({startup:Ci,options:{}}),ki.config.startup.invalidOption&&(di.invalidOption=ki.config.startup.invalidOption),ki.config.startup.optionError&&(di.optionError=ki.config.startup.optionError));const Ai=ki.config.startup,Ti=0!==Ai.input.length;MathJax.loader&&MathJax.loader.checkVersion("startup",jr,"startup"),Vr({_:{components:{loader:n,package:s,startup:a}}});ii.preLoaded("loader","startup"),Wr(MathJax.config.loader,"dependencies",{"a11y/semantic-enrich":["input/mml","a11y/sre"],"a11y/speech":["a11y/semantic-enrich"],"a11y/complexity":["a11y/semantic-enrich"],"a11y/explorer":["a11y/speech"],"[mml]/mml3":["input/mml"],"[tex]/action":["input/tex-base"],"[tex]/ams":["input/tex-base","[tex]/newcommand"],"[tex]/amscd":["input/tex-base"],"[tex]/autoload":["input/tex-base","[tex]/require"],"[tex]/bbm":["input/tex-base"],"[tex]/bboldx":["input/tex-base","[tex]/textmacros"],"[tex]/bbox":["input/tex-base"],"[tex]/begingroup":["input/tex-base","[tex]/newcommand"],"[tex]/boldsymbol":["input/tex-base"],"[tex]/braket":["input/tex-base"],"[tex]/bussproofs":["input/tex-base"],"[tex]/cancel":["input/tex-base","[tex]/enclose"],"[tex]/cases":["[tex]/empheq"],"[tex]/centernot":["input/tex-base"],"[tex]/color":["input/tex-base"],"[tex]/colortbl":["input/tex-base","[tex]/color"],"[tex]/colorv2":["input/tex-base"],"[tex]/configmacros":["input/tex-base","[tex]/newcommand"],"[tex]/dsfont":["input/tex-base"],"[tex]/empheq":["input/tex-base","[tex]/ams"],"[tex]/enclose":["input/tex-base"],"[tex]/extpfeil":["input/tex-base","[tex]/newcommand","[tex]/ams"],"[tex]/gensymb":["input/tex-base"],"[tex]/html":["input/tex-base"],"[tex]/mathtools":["input/tex-base","[tex]/newcommand","[tex]/ams","[tex]/boldsymbol"],"[tex]/mhchem":["input/tex-base","[tex]/ams"],"[tex]/newcommand":["input/tex-base"],"[tex]/noerrors":["input/tex-base"],"[tex]/noundefined":["input/tex-base"],"[tex]/physics":["input/tex-base"],"[tex]/require":["input/tex-base"],"[tex]/setoptions":["input/tex-base"],"[tex]/tagformat":["input/tex-base"],"[tex]/texhtml":["input/tex-base"],"[tex]/textcomp":["input/tex-base","[tex]/textmacros"],"[tex]/textmacros":["input/tex-base"],"[tex]/unicode":["input/tex-base"],"[tex]/units":["input/tex-base"],"[tex]/upgreek":["input/tex-base"],"[tex]/verb":["input/tex-base"],"ui/menu":["a11y/sre"]}),Wr(MathJax.config.loader,"paths",{tex:"[mathjax]/input/tex/extensions",mml:"[mathjax]/input/mml/extensions",sre:"[mathjax]/sre",mathmaps:"[sre]/mathmaps"}),Wr(MathJax.config.loader,"provides",{startup:["loader"],"input/tex":["input/tex-base","[tex]/ams","[tex]/newcommand","[tex]/textmacros","[tex]/noundefined","[tex]/require","[tex]/autoload","[tex]/configmacros"]}),Wr(MathJax.config.loader,"source",{"[tex]/amsCd":"[tex]/amscd","[tex]/colorV2":"[tex]/colorv2","[tex]/configMacros":"[tex]/configmacros","[tex]/tagFormat":"[tex]/tagformat"});class Mi{constructor(t=null){this.canMeasureNodes=!0,this.document=t}node(t,e={},s=[],r){const i=this.create(t,r);this.setAttributes(i,e);for(const t of s)this.append(i,t);return i}setProperty(t,e,s){t[e]=s}getProperty(t,e){return t[e]}setAttributes(t,e){if(e.style&&"string"!=typeof e.style)for(const s of Object.keys(e.style))this.setStyle(t,s.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()),e.style[s]);if(e.properties)for(const s of Object.keys(e.properties))t[s]=e.properties[s];for(const s of Object.keys(e))"style"===s&&"string"!=typeof e.style||"properties"===s||this.setAttribute(t,s,e[s])}replace(t,e){return this.insert(t,e),this.remove(e),e}childNode(t,e){return this.childNodes(t)[e]}allClasses(t){const e=this.getAttribute(t,"class");return e?e.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]}cssText(t){return"style"===this.kind(t)?this.textContent(t):""}}var Si=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};class Li extends Mi{constructor(t){super(t.document),this.canMeasureNodes=!0,this.window=t,this.parser=new t.DOMParser}parse(t,e="text/html"){return this.parser.parseFromString(t,e)}create(t,e){return e?this.document.createElementNS(e,t):this.document.createElement(t)}text(t){return this.document.createTextNode(t)}head(t=this.document){return t.head||t}body(t=this.document){return t.body||t}root(t=this.document){return t.documentElement||t}doctype(t=this.document){return t.doctype?`<!DOCTYPE ${t.doctype.name}>`:""}tags(t,e,s=null){const r=s?t.getElementsByTagNameNS(s,e):t.getElementsByTagName(e);return Array.from(r)}getElements(t,e){let s=[];for(const e of t)"string"==typeof e?s=s.concat(Array.from(this.document.querySelectorAll(e))):Array.isArray(e)||e instanceof this.window.NodeList||e instanceof this.window.HTMLCollection?s=s.concat(Array.from(e)):s.push(e);return s}getElement(t,e=this.document){return e.querySelector(t)}contains(t,e){return t.contains(e)}parent(t){return t.parentNode}append(t,e){return t.appendChild(e)}insert(t,e){return this.parent(e).insertBefore(t,e)}remove(t){return this.parent(t).removeChild(t)}replace(t,e){return this.parent(e).replaceChild(t,e)}clone(t,e=!0){return t.cloneNode(e)}split(t,e){return t.splitText(e)}next(t){return t.nextSibling}previous(t){return t.previousSibling}firstChild(t){return t.firstChild}lastChild(t){return t.lastChild}childNodes(t){return Array.from(t.childNodes)}childNode(t,e){return t.childNodes[e]}kind(t){const e=t.nodeType;return 1===e||3===e||8===e?t.nodeName.toLowerCase():""}value(t){return t.nodeValue||""}textContent(t){return t.textContent}innerHTML(t){return t.innerHTML}outerHTML(t){return t.outerHTML}serializeXML(t){return(new this.window.XMLSerializer).serializeToString(t)}setAttribute(t,e,s,r=null){return r?(e=r.replace(/.*\//,"")+":"+e.replace(/^.*:/,""),t.setAttributeNS(r,e,s)):t.setAttribute(e,s)}getAttribute(t,e){return t.getAttribute(e)}removeAttribute(t,e){return t.removeAttribute(e)}hasAttribute(t,e){return t.hasAttribute(e)}allAttributes(t){return Array.from(t.attributes).map(t=>({name:t.name,value:t.value}))}addClass(t,e){t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim()}removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/ /).filter(t=>t!==e).join(" ")}hasClass(t,e){return t.classList?t.classList.contains(e):t.className.split(/ /).includes(e)}setStyle(t,e,s){t.style[e]=s}getStyle(t,e){return t.style[e]}allStyles(t){return t.style.cssText}insertRules(t,e){for(const s of e)try{t.sheet.insertRule(s,t.sheet.cssRules.length)}catch(t){console.warn(`MathJax: can't insert css rule '${s}': ${t.message}`)}}cssText(t){return"style"!==this.kind(t)?"":Array.from(t.sheet.cssRules).map(t=>t.cssText).join("\n")}fontSize(t){const e=this.window.getComputedStyle(t);return parseFloat(e.fontSize)}fontFamily(t){return this.window.getComputedStyle(t).fontFamily||""}nodeSize(t,e=1,s=!1){if(s&&t.getBBox){const{width:s,height:r}=t.getBBox();return[s/e,r/e]}return[t.offsetWidth/e,t.offsetHeight/e]}nodeBBox(t){const{left:e,right:s,top:r,bottom:i}=t.getBoundingClientRect();return{left:e,right:s,top:r,bottom:i}}createWorker(t,e){return Si(this,void 0,void 0,function*(){const{path:s,maps:r,worker:i}=e,n=`${s}/${i}`,o=`\n      self.maps = '${Ii(r)}';\n      importScripts('${Ii(n)}');\n    `,a=URL.createObjectURL(new Blob([o],{type:"text/javascript"})),c=new Worker(a);return c.onmessage=t,URL.revokeObjectURL(a),c})}}function Ii(t){return[...t].map(t=>("\\"===t||"'"===t?t="\\"+t:(t<" "||t>"~")&&(t=`\\u{${t.codePointAt(0).toString(16)}}`),t)).join("")}function Ri(){return new Li(window)}class Oi{constructor(t){const e=this.constructor;this.options=Ei(xi({},e.OPTIONS),t)}}Oi.OPTIONS={};class Pi{constructor(t={}){this.adaptor=null,this.mmlFactory=null;const e=this.constructor;this.options=Ei(xi({},e.OPTIONS),t),this.preFilters=new Zr(this.options.preFilters),this.postFilters=new Zr(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}setMmlFactory(t){this.mmlFactory=t}initialize(){}reset(...t){}get processStrings(){return!0}findMath(t,e){return[]}executeFilters(t,e,s,r){const i={math:e,document:s,data:r};return t.execute(i),i.data}}Pi.NAME="generic",Pi.OPTIONS={preFilters:[],postFilters:[]};class Di{constructor(t={}){this.adaptor=null;const e=this.constructor;this.options=Ei(xi({},e.OPTIONS),t),this.preFilters=new Zr(this.options.preFilters),this.postFilters=new Zr(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}initialize(){}reset(...t){}getMetrics(t){}styleSheet(t){return null}pageElements(t){return null}executeFilters(t,e,s,r){const i={math:e,document:s,data:r};return t.execute(i),i.data}}Di.NAME="generic",Di.OPTIONS={preFilters:[],postFilters:[]};const Bi=Symbol();class Fi{constructor(t=null){this.next=null,this.prev=null,this.data=t}}class qi{constructor(...t){this.list=new Fi(Bi),this.list.next=this.list.prev=this.list,this.push(...t)}isBefore(t,e){return t<e}push(...t){for(const e of t){const t=new Fi(e);t.next=this.list,t.prev=this.list.prev,this.list.prev=t,t.prev.next=t}return this}pop(){const t=this.list.prev;return t.data===Bi?null:(this.list.prev=t.prev,t.prev.next=this.list,t.next=t.prev=null,t.data)}unshift(...t){for(const e of t.slice(0).reverse()){const t=new Fi(e);t.next=this.list.next,t.prev=this.list,this.list.next=t,t.next.prev=t}return this}shift(){const t=this.list.next;return t.data===Bi?null:(this.list.next=t.next,t.next.prev=this.list,t.next=t.prev=null,t.data)}remove(...t){const e=new Map;for(const s of t)e.set(s,!0);let s=this.list.next;for(;s.data!==Bi;){const t=s.next;e.has(s.data)&&(s.prev.next=s.next,s.next.prev=s.prev,s.next=s.prev=null),s=t}return this}clear(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this}*[Symbol.iterator](){let t=this.list.next;for(;t.data!==Bi;)yield t.data,t=t.next}*reversed(){let t=this.list.prev;for(;t.data!==Bi;)yield t.data,t=t.prev}insert(t,e=null){null===e&&(e=this.isBefore.bind(this));const s=new Fi(t);let r=this.list.next;for(;r.data!==Bi&&e(r.data,s.data);)r=r.next;return s.prev=r.prev,s.next=r,r.prev.next=r.prev=s,this}sort(t=null){null===t&&(t=this.isBefore.bind(this));const e=[];for(const t of this)e.push(new qi(t));for(this.list.next=this.list.prev=this.list;e.length>1;){const s=e.shift(),r=e.shift();s.merge(r,t),e.push(s)}return e.length&&(this.list=e[0].list),this}merge(t,e=null){null===e&&(e=this.isBefore.bind(this));let s=this.list.next,r=t.list.next;for(;s.data!==Bi&&r.data!==Bi;)e(r.data,s.data)?([r.prev.next,s.prev.next]=[s,r],[r.prev,s.prev]=[s.prev,r.prev],[this.list.prev.next,t.list.prev.next]=[t.list,this.list],[this.list.prev,t.list.prev]=[t.list.prev,this.list.prev],[s,r]=[r.next,s]):s=s.next;return r.data!==Bi&&(this.list.prev.next=t.list.next,t.list.next.prev=this.list.prev,t.list.prev.next=this.list,this.list.prev=t.list.prev,t.list.next=t.list.prev=t.list),this}}class ji extends qi{isBefore(t,e){return t.start.i<e.start.i||t.start.i===e.start.i&&t.start.n<e.start.n}}function Ui(t,e,s,r,i,n,o=null){return{open:t,math:e,close:s,n:r,start:{n:i},end:{n},display:o}}class Hi{get isEscaped(){return null===this.display}constructor(t,e,s=!0,r={i:0,n:0,delim:""},i={i:0,n:0,delim:""}){this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=Gi.UNPROCESSED,this.math=t,this.inputJax=e,this.display=s,this.start=r,this.end=i,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}render(t){t.renderActions.renderMath(this,t)}rerender(t,e=Gi.RERENDER){this.state()>=e&&this.state(e-1),t.renderActions.renderMath(this,t,e)}convert(t,e=Gi.LAST){t.renderActions.renderConvert(this,t,e)}compile(t){this.state()<Gi.COMPILED&&(this.root=this.inputJax.compile(this,t),this.state(Gi.COMPILED))}typeset(t){this.state()<Gi.TYPESET&&(this.typesetRoot=t.outputJax[this.isEscaped?"escaped":"typeset"](this,t),this.state(Gi.TYPESET))}updateDocument(t){}removeFromDocument(t=!1){this.clear()}setMetrics(t,e,s,r){this.metrics={em:t,ex:e,containerWidth:s,scale:r}}state(t=null,e=!1){return null!=t&&(t<Gi.INSERTED&&this._state>=Gi.INSERTED&&this.removeFromDocument(e),t<Gi.TYPESET&&this._state>=Gi.TYPESET&&(this.outputData={}),t<Gi.COMPILED&&this._state>=Gi.COMPILED&&(this.inputData={}),this._state=t),this._state}reset(t=!1){this.state(Gi.UNPROCESSED,t)}clear(){}}const Gi={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4};function zi(t,e){if(t in Gi)throw Error("State "+t+" already exists");Gi[t]=e}class Wi{constructor(t=null){this.defaultKind="unknown",this.nodeMap=new Map,this.node={},null===t&&(t=this.constructor.defaultNodes);for(const e of Object.keys(t))this.setNodeClass(e,t[e])}create(t,...e){return(this.node[t]||this.node[this.defaultKind])(...e)}setNodeClass(t,e){this.nodeMap.set(t,e);const s=this.nodeMap.get(t);this.node[t]=(...t)=>new s(this,...t)}getNodeClass(t){return this.nodeMap.get(t)}deleteNodeClass(t){this.nodeMap.delete(t),delete this.node[t]}nodeIsKind(t,e){return t instanceof this.getNodeClass(e)}getKinds(){return Array.from(this.nodeMap.keys())}}Wi.defaultNodes={};class Vi extends Wi{create(t,e={},s=[]){return this.node[t](e,s)}}const Xi="_inherit_";class $i{constructor(t,e){this.global=e,this.defaults=Object.create(e),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t)}set(t,e){this.attributes[t]=e}setList(t){Object.assign(this.attributes,t)}unset(t){delete this.attributes[t]}get(t){let e=this.attributes[t];return e===Xi&&(e=this.global[t]),e}getExplicit(t){return this.hasExplicit(t)?this.attributes[t]:void 0}hasExplicit(t){return Object.hasOwn(this.attributes,t)}hasOneOf(t){for(const e of t)if(this.hasExplicit(e))return!0;return!1}getList(...t){const e={};for(const s of t)e[s]=this.get(s);return e}setInherited(t,e){this.inherited[t]=e}getInherited(t){return this.inherited[t]}getDefault(t){return this.defaults[t]}isSet(t){return Object.hasOwn(this.attributes,t)||Object.hasOwn(this.inherited,t)}hasDefault(t){return t in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class Ji{constructor(t,e={},s=[]){this.factory=t,this.parent=null,this.properties={},this.childNodes=[];for(const t of Object.keys(e))this.setProperty(t,e[t]);s.length&&this.setChildren(s)}get kind(){return"unknown"}setProperty(t,e){this.properties[t]=e}getProperty(t){return this.properties[t]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...t){for(const e of t)delete this.properties[e]}isKind(t){return this.factory.nodeIsKind(this,t)}setChildren(t){this.childNodes=[];for(const e of t)this.appendChild(e)}appendChild(t){return this.childNodes.push(t),t.parent=this,t}replaceChild(t,e){const s=this.childIndex(e);return null!==s&&(this.childNodes[s]=t,t.parent=this,e.parent===this&&(e.parent=null)),t}removeChild(t){const e=this.childIndex(t);return null!==e&&(this.childNodes.splice(e,1),t.parent=null),t}childIndex(t){const e=this.childNodes.indexOf(t);return-1===e?null:e}copy(){const t=this.factory.create(this.kind);t.properties=Object.assign({},this.properties);for(const e of this.childNodes||[])e&&t.appendChild(e.copy());return t}findNodes(t){const e=[];return this.walkTree(s=>{s.isKind(t)&&e.push(s)}),e}walkTree(t,e){t(this,e);for(const s of this.childNodes)s&&s.walkTree(t,e);return e}toString(){return this.kind+"("+this.childNodes.join(",")+")"}}class Ki extends Ji{setChildren(t){}appendChild(t){return t}replaceChild(t,e){return e}childIndex(t){return null}walkTree(t,e){return t(this,e),e}toString(){return this.kind}}const Yi={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,NONE:-1},Qi=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER"],Zi=["","thinmathspace","mediummathspace","thickmathspace"],tn=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],en=new Set(["normal","bold","italic","bold-italic","double-struck","fraktur","bold-fraktur","script","bold-script","sans-serif","bold-sans-serif","sans-serif-italic","sans-serif-bold-italic","monospace","inital","tailed","looped","stretched"]),sn=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];class rn extends Ji{constructor(t,e={},s=[]){super(t),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[t.create("inferredMrow")],this.childNodes[0].parent=this),this.setChildren(s),this.attributes=new $i(t.getNodeClass(this.kind).defaults,t.getNodeClass("math").defaults),this.attributes.setList(e)}copy(t=!1){const e=this.factory.create(this.kind);if(e.properties=Object.assign({},this.properties),this.attributes){const s=this.attributes.getAllAttributes();for(const r of Object.keys(s))("id"!==r||t)&&e.attributes.set(r,s[r])}if(this.childNodes&&this.childNodes.length){let t=this.childNodes;1===t.length&&t[0].isInferred&&(t=t[0].childNodes);for(const s of t)s?e.appendChild(s.copy()):e.childNodes.push(null)}return e}get texClass(){return this.texclass}set texClass(t){this.texclass=t}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return"data-align"}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let t=this.parent;for(;t&&t.notParent;)t=t.Parent;return t}get notParent(){return!1}setChildren(t){return this.arity<0?this.childNodes[0].setChildren(t):super.setChildren(t)}appendChild(t){if(this.arity<0)return this.childNodes[0].appendChild(t),t;if(t.isInferred){if(this.arity===1/0)return t.childNodes.forEach(t=>super.appendChild(t)),t;const e=t;(t=this.factory.create("mrow")).setChildren(e.childNodes),t.attributes=e.attributes;for(const s of e.getPropertyNames())t.setProperty(s,e.getProperty(s))}return super.appendChild(t)}replaceChild(t,e){return this.arity<0?(this.childNodes[0].replaceChild(t,e),t):super.replaceChild(t,e)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let t=null,e=this.parent;for(;e&&e.notParent;)t=e,e=e.parent;if(t=t||this,e){let s=0;for(const r of e.childNodes){if(r===t)return s;s++}}return null}setTeXclass(t){return this.getPrevClass(t),null!=this.texClass?this:t}updateTeXclass(t){t&&(this.prevClass=t.prevClass,this.prevLevel=t.prevLevel,t.prevClass=t.prevLevel=null,this.texClass=t.texClass)}getPrevClass(t){t&&(this.prevClass=t.texClass,this.prevLevel=t.attributes.get("scriptlevel"))}texSpacing(){const t=null!=this.prevClass?this.prevClass:Yi.NONE,e=this.texClass||Yi.ORD;if(t===Yi.NONE||e===Yi.NONE)return"";const s=tn[t][e];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&s>=0?"":Zi[Math.abs(s)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(t={},e=!1,s=0,r=!1){var i,n,o;const a=this.attributes.getAllDefaults();for(const e of Object.keys(t)){if(Object.hasOwn(a,e)||Object.hasOwn(rn.alwaysInherit,e)){const[s,r]=t[e];(null===(n=null===(i=rn.noInherit[s])||void 0===i?void 0:i[this.kind])||void 0===n?void 0:n[e])||this.attributes.setInherited(e,r)}(null===(o=rn.stopInherit[this.kind])||void 0===o?void 0:o[e])&&delete(t=Object.assign({},t))[e]}void 0===this.attributes.getExplicit("displaystyle")&&this.attributes.setInherited("displaystyle",e);void 0===this.attributes.getExplicit("scriptlevel")&&this.attributes.setInherited("scriptlevel",s),r&&this.setProperty("texprimestyle",r);const c=this.arity;if(c>=0&&c!==1/0&&(1===c&&0===this.childNodes.length||1!==c&&this.childNodes.length!==c))if(c<this.childNodes.length)this.childNodes=this.childNodes.slice(0,c);else for(;this.childNodes.length<c;)this.appendChild(this.factory.create("mrow"));if(this.linebreakContainer&&!this.isEmbellished){const e=this.linebreakAlign;if(e){const s=this.attributes.get(e)||"left";t=this.addInheritedAttributes(t,{indentalign:s,indentshift:"0",indentalignfirst:s,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"})}}this.setChildInheritedAttributes(t,e,s,r)}setChildInheritedAttributes(t,e,s,r){for(const i of this.childNodes)i.setInheritedAttributes(t,e,s,r)}addInheritedAttributes(t,e){const s=Object.assign({},t);for(const t of Object.keys(e))"displaystyle"!==t&&"scriptlevel"!==t&&"style"!==t&&(s[t]=[this.kind,e[t]]);return s}inheritAttributesFrom(t){const e=t.attributes,s=e.get("displaystyle"),r=e.get("scriptlevel"),i=e.isSet("mathsize")?{mathsize:["math",e.get("mathsize")]}:{},n=t.getProperty("texprimestyle")||!1;this.setInheritedAttributes(i,s,r,n)}verifyTree(t=null){if(null===t)return;this.verifyAttributes(t);const e=this.arity;t.checkArity&&e>=0&&e!==1/0&&(1===e&&0===this.childNodes.length||1!==e&&this.childNodes.length!==e)&&this.mError('Wrong number of children for "'+this.kind+'" node',t,!0),this.verifyChildren(t)}verifyAttributes(t){if(t.checkAttributes){const e=this.attributes,s=[];for(const t of e.getExplicitNames())"data-"===t.substring(0,5)||void 0!==e.getDefault(t)||t.match(/^(?:class|style|id|(?:xlink:)?href)$/)||s.push(t);s.length&&this.mError("Unknown attributes for "+this.kind+" node: "+s.join(", "),t)}if(t.checkMathvariants){const e=this.attributes.getExplicit("mathvariant");!e||en.has(e)||this.getProperty("ignore-variant")||this.mError(`Invalid mathvariant: ${e}`,t,!0)}}verifyChildren(t){for(const e of this.childNodes)e.verifyTree(t)}mError(t,e,s=!1){if(this.parent&&this.parent.isKind("merror"))return null;const r=this.factory.create("merror");if(r.attributes.set("data-mjx-message",t),e.fullErrors||s){const s=this.factory.create("mtext"),i=this.factory.create("text");i.setText(e.fullErrors?t:this.kind),s.appendChild(i),r.appendChild(s),this.parent.replaceChild(r,this),e.fullErrors||r.attributes.set("title",t)}else this.parent.replaceChild(r,this),r.appendChild(this);return r}}rn.defaults={mathbackground:Xi,mathcolor:Xi,mathsize:Xi,dir:Xi},rn.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}},rn.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}},rn.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0},rn.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class nn extends rn{get isToken(){return!0}getText(){let t="";for(const e of this.childNodes)e instanceof ln?t+=e.getText():"textContent"in e&&(t+=e.textContent());return t}setChildInheritedAttributes(t,e,s,r){for(const i of this.childNodes)i instanceof rn&&i.setInheritedAttributes(t,e,s,r)}walkTree(t,e){t(this,e);for(const s of this.childNodes)s instanceof rn&&s.walkTree(t,e);return e}}nn.defaults=Object.assign(Object.assign({},rn.defaults),{mathvariant:"normal",mathsize:Xi});class on extends rn{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}on.defaults=rn.defaults;class an extends rn{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){this.getPrevClass(t),this.texClass=Yi.ORD;const e=this.childNodes[0];let s=null;e&&(this.isEmbellished||e.isKind("mi")?(s=e.setTeXclass(t),this.updateTeXclass(this.core())):e.setTeXclass(null));for(const t of this.childNodes.slice(1))t&&t.setTeXclass(null);return s||this}}an.defaults=rn.defaults;class cn extends Ki{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return""}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return Yi.NONE}get prevClass(){return Yi.NONE}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(t){return t}texSpacing(){return""}setInheritedAttributes(t,e,s,r){}inheritAttributesFrom(t){}verifyTree(t){}mError(t,e,s=!1){return null}}class ln extends cn{constructor(){super(...arguments),this.text=""}get kind(){return"text"}getText(){return this.text}setText(t){return this.text=t,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}class hn extends cn{constructor(){super(...arguments),this.xml=null,this.adaptor=null}get kind(){return"XML"}getXML(){return this.xml}setXML(t,e=null){return this.xml=t,this.adaptor=e,this}getSerializedXML(){return this.adaptor.serializeXML(this.xml)}copy(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))}toString(){return"XML data"}}class dn extends on{get kind(){return"math"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,e,s,r){"display"===this.attributes.get("mode")&&this.attributes.setInherited("display","block"),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),e=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&"block"===this.attributes.get("display"),this.attributes.setInherited("displaystyle",e),s=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,super.setChildInheritedAttributes(t,e,s,r)}verifyTree(t=null){super.verifyTree(t),this.parent&&this.mError("Improper nesting of math tags",t,!0)}}dn.defaults=Object.assign(Object.assign({},on.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",infixlinebreakstyle:"before",lineleading:"100%",linebreakmultchar:"\u2062",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class un extends nn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"mi"}setInheritedAttributes(t={},e=!1,s=0,r=!1){super.setInheritedAttributes(t,e,s,r);this.getText().match(un.singleCharacter)&&!t.mathvariant&&this.attributes.setInherited("mathvariant","italic")}setTeXclass(t){this.getPrevClass(t);const e=this.getText();return e.length>1&&e.match(un.operatorName)&&"normal"===this.attributes.get("mathvariant")&&void 0===this.getProperty("autoOP")&&void 0===this.getProperty("texClass")&&(this.texClass=Yi.OP,this.setProperty("autoOP",!0)),this}}un.defaults=Object.assign({},nn.defaults),un.operatorName=/^[a-z][a-z0-9]*$/i,un.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;class pn extends nn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"mn"}}function mn(t,e,s=Yi.BIN,r=null){return[t,e,s,r]}pn.defaults=Object.assign({},nn.defaults);const fn={ORD:mn(0,0,Yi.ORD),ORD11:mn(1,1,Yi.ORD),ORD21:mn(2,1,Yi.ORD),ORD02:mn(0,2,Yi.ORD),ORD55:mn(5,5,Yi.ORD),NONE:mn(0,0,Yi.NONE),OP:mn(1,2,Yi.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:mn(1,2,Yi.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:mn(0,1,Yi.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:mn(1,2,Yi.OP,{largeop:!0,symmetric:!0}),BIN3:mn(3,3,Yi.BIN),BIN4:mn(4,4,Yi.BIN),BIN01:mn(0,1,Yi.BIN),BIN5:mn(5,5,Yi.BIN),TALLBIN:mn(4,4,Yi.BIN,{stretchy:!0}),BINOP:mn(4,4,Yi.BIN,{largeop:!0,movablelimits:!0}),REL:mn(5,5,Yi.REL),REL1:mn(1,1,Yi.REL,{stretchy:!0}),REL4:mn(4,4,Yi.REL),RELSTRETCH:mn(5,5,Yi.REL,{stretchy:!0}),RELACCENT:mn(5,5,Yi.REL,{accent:!0}),WIDEREL:mn(5,5,Yi.REL,{accent:!0,stretchy:!0}),OPEN:mn(0,0,Yi.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:mn(0,0,Yi.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:mn(0,0,Yi.INNER),PUNCT:mn(0,3,Yi.PUNCT),ACCENT:mn(0,0,Yi.ORD,{accent:!0}),WIDEACCENT:mn(0,0,Yi.ORD,{accent:!0,stretchy:!0})},gn=[[32,127,Yi.REL,"mo"],[160,191,Yi.ORD,"mo"],[192,591,Yi.ORD,"mi"],[688,879,Yi.ORD,"mo"],[880,6688,Yi.ORD,"mi"],[6832,6911,Yi.ORD,"mo"],[6912,7615,Yi.ORD,"mi"],[7616,7679,Yi.ORD,"mo"],[7680,8191,Yi.ORD,"mi"],[8192,8303,Yi.ORD,"mo"],[8304,8351,Yi.ORD,"mo"],[8448,8527,Yi.ORD,"mi"],[8528,8591,Yi.ORD,"mn"],[8592,8703,Yi.REL,"mo"],[8704,8959,Yi.BIN,"mo"],[8960,9215,Yi.ORD,"mo"],[9312,9471,Yi.ORD,"mn"],[9472,10223,Yi.ORD,"mo"],[10224,10239,Yi.REL,"mo"],[10240,10495,Yi.ORD,"mtext"],[10496,10623,Yi.REL,"mo"],[10624,10751,Yi.ORD,"mo"],[10752,11007,Yi.BIN,"mo"],[11008,11055,Yi.ORD,"mo"],[11056,11087,Yi.REL,"mo"],[11088,11263,Yi.ORD,"mo"],[11264,11744,Yi.ORD,"mi"],[11776,11903,Yi.ORD,"mo"],[11904,12255,Yi.ORD,"mi","normal"],[12272,12351,Yi.ORD,"mo"],[12352,42143,Yi.ORD,"mi","normal"],[42192,43055,Yi.ORD,"mi"],[43056,43071,Yi.ORD,"mn"],[43072,55295,Yi.ORD,"mi"],[63744,64255,Yi.ORD,"mi","normal"],[64256,65023,Yi.ORD,"mi"],[65024,65135,Yi.ORD,"mo"],[65136,65791,Yi.ORD,"mi"],[65792,65935,Yi.ORD,"mn"],[65936,74751,Yi.ORD,"mi","normal"],[74752,74879,Yi.ORD,"mn"],[74880,113823,Yi.ORD,"mi","normal"],[113824,119391,Yi.ORD,"mo"],[119648,119679,Yi.ORD,"mn"],[119808,120781,Yi.ORD,"mi"],[120782,120831,Yi.ORD,"mn"],[122624,129023,Yi.ORD,"mo"],[129024,129279,Yi.REL,"mo"],[129280,129535,Yi.ORD,"mo"],[131072,195103,Yi.ORD,"mi","normal"]];function bn(t){const e=En.infix[t]||En.prefix[t]||En.postfix[t];if(e)return[0,0,e[2],"mo"];const s=t.codePointAt(0);for(const t of gn)if(s<=t[1]){if(s>=t[0])return t;break}return[0,0,Yi.REL,"mo"]}const xn=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],En={prefix:{"(":fn.OPEN,"+":fn.BIN01,"-":fn.BIN01,"[":fn.OPEN,"{":fn.OPEN,"|":fn.OPEN,"||":[0,0,Yi.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,Yi.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xac":fn.ORD21,"\xb1":fn.BIN01,"\u2016":[0,0,Yi.ORD,{fence:!0,stretchy:!0}],"\u2018":[0,0,Yi.OPEN,{fence:!0}],"\u201c":[0,0,Yi.OPEN,{fence:!0}],\u2145:fn.ORD21,\u2146:mn(2,0,Yi.ORD),"\u2200":fn.ORD21,"\u2202":fn.ORD21,"\u2203":fn.ORD21,"\u2204":fn.ORD21,"\u2207":fn.ORD21,"\u220f":fn.OP,"\u2210":fn.OP,"\u2211":fn.OP,"\u2212":fn.BIN01,"\u2213":fn.BIN01,"\u221a":[1,1,Yi.ORD,{stretchy:!0}],"\u221b":fn.ORD11,"\u221c":fn.ORD11,"\u2220":fn.ORD,"\u2221":fn.ORD,"\u2222":fn.ORD,"\u222b":fn.INTEGRAL,"\u222c":fn.INTEGRAL,"\u222d":fn.INTEGRAL,"\u222e":fn.INTEGRAL,"\u222f":fn.INTEGRAL,"\u2230":fn.INTEGRAL,"\u2231":fn.INTEGRAL,"\u2232":fn.INTEGRAL,"\u2233":fn.INTEGRAL,"\u22c0":fn.OP,"\u22c1":fn.OP,"\u22c2":fn.OP,"\u22c3":fn.OP,"\u2308":fn.OPEN,"\u230a":fn.OPEN,"\u2329":fn.OPEN,"\u2772":fn.OPEN,"\u27e6":fn.OPEN,"\u27e8":fn.OPEN,"\u27ea":fn.OPEN,"\u27ec":fn.OPEN,"\u27ee":fn.OPEN,"\u2980":[0,0,Yi.ORD,{fence:!0,stretchy:!0}],"\u2983":fn.OPEN,"\u2985":fn.OPEN,"\u2987":fn.OPEN,"\u2989":fn.OPEN,"\u298b":fn.OPEN,"\u298d":fn.OPEN,"\u298f":fn.OPEN,"\u2991":fn.OPEN,"\u2993":fn.OPEN,"\u2995":fn.OPEN,"\u2997":fn.OPEN,"\u29fc":fn.OPEN,"\u2a00":fn.OP,"\u2a01":fn.OP,"\u2a02":fn.OP,"\u2a03":fn.OP,"\u2a04":fn.OP,"\u2a05":fn.OP,"\u2a06":fn.OP,"\u2a07":fn.OP,"\u2a08":fn.OP,"\u2a09":fn.OP,"\u2a0a":fn.OP,"\u2a0b":fn.INTEGRAL2,"\u2a0c":fn.INTEGRAL,"\u2a0d":fn.INTEGRAL2,"\u2a0e":fn.INTEGRAL2,"\u2a0f":fn.INTEGRAL2,"\u2a10":fn.OP,"\u2a11":fn.OP,"\u2a12":fn.OP,"\u2a13":fn.OP,"\u2a14":fn.OP,"\u2a15":fn.INTEGRAL2,"\u2a16":fn.INTEGRAL2,"\u2a17":fn.INTEGRAL2,"\u2a18":fn.INTEGRAL2,"\u2a19":fn.INTEGRAL2,"\u2a1a":fn.INTEGRAL2,"\u2a1b":fn.INTEGRAL2,"\u2a1c":fn.INTEGRAL2,"\u2afc":fn.OP,"\u2aff":fn.OP},postfix:{"!!":mn(1,0),"!":[1,0,Yi.CLOSE,null],'"':fn.ACCENT,"&":fn.ORD,")":fn.CLOSE,"++":mn(0,0),"--":mn(0,0),"..":mn(0,0),"...":fn.ORD,"'":fn.ACCENT,"]":fn.CLOSE,"^":fn.WIDEACCENT,_:fn.WIDEACCENT,"`":fn.ACCENT,"|":fn.CLOSE,"}":fn.CLOSE,"~":fn.WIDEACCENT,"||":[0,0,Yi.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,Yi.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xa8":fn.ACCENT,\u00aa:fn.ACCENT,"\xaf":fn.WIDEACCENT,"\xb0":fn.ORD,"\xb2":fn.ACCENT,"\xb3":fn.ACCENT,"\xb4":fn.ACCENT,"\xb8":fn.ACCENT,"\xb9":fn.ACCENT,\u00ba:fn.ACCENT,\u02c6:fn.WIDEACCENT,\u02c7:fn.WIDEACCENT,\u02c9:fn.WIDEACCENT,\u02ca:fn.ACCENT,\u02cb:fn.ACCENT,\u02cd:fn.WIDEACCENT,"\u02d8":fn.ACCENT,"\u02d9":fn.ACCENT,"\u02da":fn.ACCENT,"\u02dc":fn.WIDEACCENT,"\u02dd":fn.ACCENT,"\u02f7":fn.WIDEACCENT,"\u0302":fn.WIDEACCENT,"\u0311":fn.ACCENT,"\u03f6":fn.REL,"\u2016":[0,0,Yi.ORD,{fence:!0,stretchy:!0}],"\u2019":[0,0,Yi.CLOSE,{fence:!0}],"\u201a":fn.ACCENT,"\u201b":fn.ACCENT,"\u201d":[0,0,Yi.CLOSE,{fence:!0}],"\u201e":fn.ACCENT,"\u201f":fn.ACCENT,"\u2032":fn.ORD,"\u2033":fn.ORD,"\u2034":fn.ORD,"\u2035":fn.ORD,"\u2036":fn.ORD,"\u2037":fn.ORD,"\u203e":fn.WIDEACCENT,"\u2057":fn.ORD,"\u20db":fn.ACCENT,"\u20dc":fn.ACCENT,"\u2309":fn.CLOSE,"\u230b":fn.CLOSE,"\u232a":fn.CLOSE,"\u23b4":fn.WIDEACCENT,"\u23b5":fn.WIDEACCENT,"\u23dc":fn.WIDEACCENT,"\u23dd":fn.WIDEACCENT,"\u23de":fn.WIDEACCENT,"\u23df":fn.WIDEACCENT,"\u23e0":fn.WIDEACCENT,"\u23e1":fn.WIDEACCENT,"\u25a0":fn.BIN3,"\u25a1":fn.BIN3,"\u25aa":fn.BIN3,"\u25ab":fn.BIN3,"\u25ad":fn.BIN3,"\u25ae":fn.BIN3,"\u25af":fn.BIN3,"\u25b0":fn.BIN3,"\u25b1":fn.BIN3,"\u25b2":fn.BIN4,"\u25b4":fn.BIN4,"\u25b6":fn.BIN4,"\u25b7":fn.BIN4,"\u25b8":fn.BIN4,"\u25bc":fn.BIN4,"\u25be":fn.BIN4,"\u25c0":fn.BIN4,"\u25c1":fn.BIN4,"\u25c2":fn.BIN4,"\u25c4":fn.BIN4,"\u25c5":fn.BIN4,"\u25c6":fn.BIN4,"\u25c7":fn.BIN4,"\u25c8":fn.BIN4,"\u25c9":fn.BIN4,"\u25cc":fn.BIN4,"\u25cd":fn.BIN4,"\u25ce":fn.BIN4,"\u25cf":fn.BIN4,"\u25d6":fn.BIN4,"\u25d7":fn.BIN4,"\u25e6":fn.BIN4,"\u266d":fn.ORD02,"\u266e":fn.ORD02,"\u266f":fn.ORD02,"\u2773":fn.CLOSE,"\u27e7":fn.CLOSE,"\u27e9":fn.CLOSE,"\u27eb":fn.CLOSE,"\u27ed":fn.CLOSE,"\u27ef":fn.CLOSE,"\u2980":[0,0,Yi.ORD,{fence:!0,stretchy:!0}],"\u2984":fn.CLOSE,"\u2986":fn.CLOSE,"\u2988":fn.CLOSE,"\u298a":fn.CLOSE,"\u298c":fn.CLOSE,"\u298e":fn.CLOSE,"\u2990":fn.CLOSE,"\u2992":fn.CLOSE,"\u2994":fn.CLOSE,"\u2996":fn.CLOSE,"\u2998":fn.CLOSE,"\u29fd":fn.CLOSE},infix:{"!=":fn.BIN4,"#":fn.ORD,$:fn.ORD,"%":[3,3,Yi.ORD,null],"&&":fn.BIN4,"":fn.ORD,"*":fn.BIN3,"**":mn(1,1),"*=":fn.BIN4,"+":fn.BIN4,"+=":fn.BIN4,",":[0,3,Yi.PUNCT,{linebreakstyle:"after",separator:!0}],"-":fn.BIN4,"-=":fn.BIN4,"->":fn.BIN5,".":[0,3,Yi.PUNCT,{linebreakstyle:"after",separator:!0}],"/":fn.ORD11,"//":mn(1,1),"/=":fn.BIN4,":":[1,2,Yi.REL,null],":=":fn.BIN4,";":[0,3,Yi.PUNCT,{linebreakstyle:"after",separator:!0}],"<":fn.REL,"<=":fn.BIN5,"<>":mn(1,1),"=":fn.REL,"==":fn.BIN4,">":fn.REL,">=":fn.BIN5,"?":[1,1,Yi.CLOSE,null],"@":fn.ORD11,"\\":fn.ORD,"^":fn.ORD11,_:fn.ORD11,"|":[2,2,Yi.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,Yi.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,Yi.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xb1":fn.BIN4,"\xb7":fn.BIN4,"\xd7":fn.BIN4,"\xf7":fn.BIN4,\u02b9:fn.ORD,"\u0300":fn.ACCENT,"\u0301":fn.ACCENT,"\u0303":fn.WIDEACCENT,"\u0304":fn.ACCENT,"\u0306":fn.ACCENT,"\u0307":fn.ACCENT,"\u0308":fn.ACCENT,"\u030c":fn.ACCENT,"\u0332":fn.WIDEACCENT,"\u0338":fn.REL4,"\u2015":[0,0,Yi.ORD,{stretchy:!0}],"\u2017":[0,0,Yi.ORD,{stretchy:!0}],"\u2020":fn.BIN3,"\u2021":fn.BIN3,"\u2022":fn.BIN4,"\u2026":fn.INNER,"\u2043":fn.BIN4,"\u2044":fn.TALLBIN,"\u2061":fn.NONE,"\u2062":fn.NONE,"\u2063":[0,0,Yi.NONE,{linebreakstyle:"after",separator:!0}],"\u2064":fn.NONE,"\u20d7":fn.ACCENT,\u2111:fn.ORD,\u2113:fn.ORD,\u2118:fn.ORD,\u211c:fn.ORD,"\u2190":fn.WIDEREL,"\u2191":fn.RELSTRETCH,"\u2192":fn.WIDEREL,"\u2193":fn.RELSTRETCH,"\u2194":fn.WIDEREL,"\u2195":fn.RELSTRETCH,"\u2196":fn.RELSTRETCH,"\u2197":fn.RELSTRETCH,"\u2198":fn.RELSTRETCH,"\u2199":fn.RELSTRETCH,"\u219a":fn.RELACCENT,"\u219b":fn.RELACCENT,"\u219c":fn.WIDEREL,"\u219d":fn.WIDEREL,"\u219e":fn.WIDEREL,"\u219f":fn.WIDEREL,"\u21a0":fn.WIDEREL,"\u21a1":fn.RELSTRETCH,"\u21a2":fn.WIDEREL,"\u21a3":fn.WIDEREL,"\u21a4":fn.WIDEREL,"\u21a5":fn.RELSTRETCH,"\u21a6":fn.WIDEREL,"\u21a7":fn.RELSTRETCH,"\u21a8":fn.RELSTRETCH,"\u21a9":fn.WIDEREL,"\u21aa":fn.WIDEREL,"\u21ab":fn.WIDEREL,"\u21ac":fn.WIDEREL,"\u21ad":fn.WIDEREL,"\u21ae":fn.RELACCENT,"\u21af":fn.RELSTRETCH,"\u21b0":fn.RELSTRETCH,"\u21b1":fn.RELSTRETCH,"\u21b2":fn.RELSTRETCH,"\u21b3":fn.RELSTRETCH,"\u21b4":fn.RELSTRETCH,"\u21b5":fn.RELSTRETCH,"\u21b6":fn.RELACCENT,"\u21b7":fn.RELACCENT,"\u21b8":fn.REL,"\u21b9":fn.WIDEREL,"\u21ba":fn.REL,"\u21bb":fn.REL,"\u21bc":fn.WIDEREL,"\u21bd":fn.WIDEREL,"\u21be":fn.RELSTRETCH,"\u21bf":fn.RELSTRETCH,"\u21c0":fn.WIDEREL,"\u21c1":fn.WIDEREL,"\u21c2":fn.RELSTRETCH,"\u21c3":fn.RELSTRETCH,"\u21c4":fn.WIDEREL,"\u21c5":fn.RELSTRETCH,"\u21c6":fn.WIDEREL,"\u21c7":fn.WIDEREL,"\u21c8":fn.RELSTRETCH,"\u21c9":fn.WIDEREL,"\u21ca":fn.RELSTRETCH,"\u21cb":fn.WIDEREL,"\u21cc":fn.WIDEREL,"\u21cd":fn.RELACCENT,"\u21ce":fn.RELACCENT,"\u21cf":fn.RELACCENT,"\u21d0":fn.WIDEREL,"\u21d1":fn.RELSTRETCH,"\u21d2":fn.WIDEREL,"\u21d3":fn.RELSTRETCH,"\u21d4":fn.WIDEREL,"\u21d5":fn.RELSTRETCH,"\u21d6":fn.RELSTRETCH,"\u21d7":fn.RELSTRETCH,"\u21d8":fn.RELSTRETCH,"\u21d9":fn.RELSTRETCH,"\u21da":fn.WIDEREL,"\u21db":fn.WIDEREL,"\u21dc":fn.WIDEREL,"\u21dd":fn.WIDEREL,"\u21de":fn.REL,"\u21df":fn.REL,"\u21e0":fn.WIDEREL,"\u21e1":fn.RELSTRETCH,"\u21e2":fn.WIDEREL,"\u21e3":fn.RELSTRETCH,"\u21e4":fn.WIDEREL,"\u21e5":fn.WIDEREL,"\u21e6":fn.WIDEREL,"\u21e7":fn.RELSTRETCH,"\u21e8":fn.WIDEREL,"\u21e9":fn.RELSTRETCH,"\u21ea":fn.RELSTRETCH,"\u21eb":fn.RELSTRETCH,"\u21ec":fn.RELSTRETCH,"\u21ed":fn.RELSTRETCH,"\u21ee":fn.RELSTRETCH,"\u21ef":fn.RELSTRETCH,"\u21f0":fn.WIDEREL,"\u21f1":fn.REL,"\u21f2":fn.REL,"\u21f3":fn.RELSTRETCH,"\u21f4":fn.RELACCENT,"\u21f5":fn.RELSTRETCH,"\u21f6":fn.WIDEREL,"\u21f7":fn.RELACCENT,"\u21f8":fn.RELACCENT,"\u21f9":fn.RELACCENT,"\u21fa":fn.RELACCENT,"\u21fb":fn.RELACCENT,"\u21fc":fn.RELACCENT,"\u21fd":fn.WIDEREL,"\u21fe":fn.WIDEREL,"\u21ff":fn.WIDEREL,"\u2201":mn(1,2,Yi.ORD),"\u2205":fn.ORD,"\u2206":fn.BIN3,"\u2208":fn.REL,"\u2209":fn.REL,"\u220a":fn.REL,"\u220b":fn.REL,"\u220c":fn.REL,"\u220d":fn.REL,"\u220e":fn.BIN3,"\u2212":fn.BIN4,"\u2213":fn.BIN4,"\u2214":fn.BIN4,"\u2215":fn.TALLBIN,"\u2216":fn.BIN4,"\u2217":fn.BIN4,"\u2218":fn.BIN4,"\u2219":fn.BIN4,"\u221d":fn.REL,"\u221e":fn.ORD,"\u221f":fn.REL,"\u2223":fn.REL,"\u2224":fn.REL,"\u2225":fn.REL,"\u2226":fn.REL,"\u2227":fn.BIN4,"\u2228":fn.BIN4,"\u2229":fn.BIN4,"\u222a":fn.BIN4,"\u2234":fn.REL,"\u2235":fn.REL,"\u2236":fn.REL,"\u2237":fn.REL,"\u2238":fn.BIN4,"\u2239":fn.REL,"\u223a":fn.BIN4,"\u223b":fn.REL,"\u223c":fn.REL,"\u223d":fn.REL,"\u223d\u0331":fn.BIN3,"\u223e":fn.REL,"\u223f":fn.BIN3,"\u2240":fn.BIN4,"\u2241":fn.REL,"\u2242":fn.REL,"\u2242\u0338":fn.REL,"\u2243":fn.REL,"\u2244":fn.REL,"\u2245":fn.REL,"\u2246":fn.REL,"\u2247":fn.REL,"\u2248":fn.REL,"\u2249":fn.REL,"\u224a":fn.REL,"\u224b":fn.REL,"\u224c":fn.REL,"\u224d":fn.REL,"\u224e":fn.REL,"\u224e\u0338":fn.REL,"\u224f":fn.REL,"\u224f\u0338":fn.REL,"\u2250":fn.REL,"\u2251":fn.REL,"\u2252":fn.REL,"\u2253":fn.REL,"\u2254":fn.REL,"\u2255":fn.REL,"\u2256":fn.REL,"\u2257":fn.REL,"\u2258":fn.REL,"\u2259":fn.REL,"\u225a":fn.REL,"\u225b":fn.REL,"\u225c":fn.REL,"\u225d":fn.REL,"\u225e":fn.REL,"\u225f":fn.REL,"\u2260":fn.REL,"\u2261":fn.REL,"\u2262":fn.REL,"\u2263":fn.REL,"\u2264":fn.REL,"\u2265":fn.REL,"\u2266":fn.REL,"\u2266\u0338":fn.REL,"\u2267":fn.REL,"\u2268":fn.REL,"\u2269":fn.REL,"\u226a":fn.REL,"\u226a\u0338":fn.REL,"\u226b":fn.REL,"\u226b\u0338":fn.REL,"\u226c":fn.REL,"\u226d":fn.REL,"\u226e":fn.REL,"\u226f":fn.REL,"\u2270":fn.REL,"\u2271":fn.REL,"\u2272":fn.REL,"\u2273":fn.REL,"\u2274":fn.REL,"\u2275":fn.REL,"\u2276":fn.REL,"\u2277":fn.REL,"\u2278":fn.REL,"\u2279":fn.REL,"\u227a":fn.REL,"\u227b":fn.REL,"\u227c":fn.REL,"\u227d":fn.REL,"\u227e":fn.REL,"\u227f":fn.REL,"\u227f\u0338":fn.REL,"\u2280":fn.REL,"\u2281":fn.REL,"\u2282":fn.REL,"\u2282\u20d2":fn.REL,"\u2283":fn.REL,"\u2283\u20d2":fn.REL,"\u2284":fn.REL,"\u2285":fn.REL,"\u2286":fn.REL,"\u2287":fn.REL,"\u2288":fn.REL,"\u2289":fn.REL,"\u228a":fn.REL,"\u228b":fn.REL,"\u228c":fn.BIN4,"\u228d":fn.BIN4,"\u228e":fn.BIN4,"\u228f":fn.REL,"\u228f\u0338":fn.REL,"\u2290":fn.REL,"\u2290\u0338":fn.REL,"\u2291":fn.REL,"\u2292":fn.REL,"\u2293":fn.BIN4,"\u2294":fn.BIN4,"\u2295":fn.BIN4,"\u2296":fn.BIN4,"\u2297":fn.BIN4,"\u2298":fn.BIN4,"\u2299":fn.BIN4,"\u229a":fn.BIN4,"\u229b":fn.BIN4,"\u229c":fn.BIN4,"\u229d":fn.BIN4,"\u229e":fn.BIN4,"\u229f":fn.BIN4,"\u22a0":fn.BIN4,"\u22a1":fn.BIN4,"\u22a2":fn.REL,"\u22a3":fn.REL,"\u22a4":fn.ORD55,"\u22a5":fn.REL,"\u22a6":fn.REL,"\u22a7":fn.REL,"\u22a8":fn.REL,"\u22a9":fn.REL,"\u22aa":fn.REL,"\u22ab":fn.REL,"\u22ac":fn.REL,"\u22ad":fn.REL,"\u22ae":fn.REL,"\u22af":fn.REL,"\u22b0":fn.REL,"\u22b1":fn.REL,"\u22b2":fn.REL,"\u22b3":fn.REL,"\u22b4":fn.REL,"\u22b5":fn.REL,"\u22b6":fn.REL,"\u22b7":fn.REL,"\u22b8":fn.REL,"\u22b9":fn.REL,"\u22ba":fn.BIN4,"\u22bb":fn.BIN4,"\u22bc":fn.BIN4,"\u22bd":fn.BIN4,"\u22be":fn.BIN3,"\u22bf":fn.BIN3,"\u22c4":fn.BIN4,"\u22c5":fn.BIN4,"\u22c6":fn.BIN4,"\u22c7":fn.BIN4,"\u22c8":fn.REL,"\u22c9":fn.BIN4,"\u22ca":fn.BIN4,"\u22cb":fn.BIN4,"\u22cc":fn.BIN4,"\u22cd":fn.REL,"\u22ce":fn.BIN4,"\u22cf":fn.BIN4,"\u22d0":fn.REL,"\u22d1":fn.REL,"\u22d2":fn.BIN4,"\u22d3":fn.BIN4,"\u22d4":fn.REL,"\u22d5":fn.REL,"\u22d6":fn.REL,"\u22d7":fn.REL,"\u22d8":fn.REL,"\u22d9":fn.REL,"\u22da":fn.REL,"\u22db":fn.REL,"\u22dc":fn.REL,"\u22dd":fn.REL,"\u22de":fn.REL,"\u22df":fn.REL,"\u22e0":fn.REL,"\u22e1":fn.REL,"\u22e2":fn.REL,"\u22e3":fn.REL,"\u22e4":fn.REL,"\u22e5":fn.REL,"\u22e6":fn.REL,"\u22e7":fn.REL,"\u22e8":fn.REL,"\u22e9":fn.REL,"\u22ea":fn.REL,"\u22eb":fn.REL,"\u22ec":fn.REL,"\u22ed":fn.REL,"\u22ee":fn.ORD55,"\u22ef":fn.INNER,"\u22f0":fn.REL,"\u22f1":[5,5,Yi.INNER,null],"\u22f2":fn.REL,"\u22f3":fn.REL,"\u22f4":fn.REL,"\u22f5":fn.REL,"\u22f6":fn.REL,"\u22f7":fn.REL,"\u22f8":fn.REL,"\u22f9":fn.REL,"\u22fa":fn.REL,"\u22fb":fn.REL,"\u22fc":fn.REL,"\u22fd":fn.REL,"\u22fe":fn.REL,"\u22ff":fn.REL,"\u2305":fn.BIN3,"\u2306":fn.BIN3,"\u2322":fn.REL4,"\u2323":fn.REL4,"\u2329":fn.OPEN,"\u232a":fn.CLOSE,"\u23aa":fn.ORD,"\u23af":[0,0,Yi.ORD,{stretchy:!0}],"\u23b0":fn.OPEN,"\u23b1":fn.CLOSE,"\u2500":fn.ORD,"\u25b3":fn.BIN4,"\u25b5":fn.BIN4,"\u25b9":fn.BIN4,"\u25bd":fn.BIN4,"\u25bf":fn.BIN4,"\u25c3":fn.BIN4,"\u25ef":fn.BIN3,"\u2660":fn.ORD,"\u2661":fn.ORD,"\u2662":fn.ORD,"\u2663":fn.ORD,"\u2758":fn.REL,"\u27f0":fn.RELSTRETCH,"\u27f1":fn.RELSTRETCH,"\u27f5":fn.WIDEREL,"\u27f6":fn.WIDEREL,"\u27f7":fn.WIDEREL,"\u27f8":fn.WIDEREL,"\u27f9":fn.WIDEREL,"\u27fa":fn.WIDEREL,"\u27fb":fn.WIDEREL,"\u27fc":fn.WIDEREL,"\u27fd":fn.WIDEREL,"\u27fe":fn.WIDEREL,"\u27ff":fn.WIDEREL,"\u2900":fn.RELACCENT,"\u2901":fn.RELACCENT,"\u2902":fn.RELACCENT,"\u2903":fn.RELACCENT,"\u2904":fn.RELACCENT,"\u2905":fn.RELACCENT,"\u2906":fn.RELACCENT,"\u2907":fn.RELACCENT,"\u2908":fn.REL,"\u2909":fn.REL,"\u290a":fn.RELSTRETCH,"\u290b":fn.RELSTRETCH,"\u290c":fn.WIDEREL,"\u290d":fn.WIDEREL,"\u290e":fn.WIDEREL,"\u290f":fn.WIDEREL,"\u2910":fn.WIDEREL,"\u2911":fn.RELACCENT,"\u2912":fn.RELSTRETCH,"\u2913":fn.RELSTRETCH,"\u2914":fn.RELACCENT,"\u2915":fn.RELACCENT,"\u2916":fn.RELACCENT,"\u2917":fn.RELACCENT,"\u2918":fn.RELACCENT,"\u2919":fn.RELACCENT,"\u291a":fn.RELACCENT,"\u291b":fn.RELACCENT,"\u291c":fn.RELACCENT,"\u291d":fn.RELACCENT,"\u291e":fn.RELACCENT,"\u291f":fn.RELACCENT,"\u2920":fn.RELACCENT,"\u2921":fn.RELSTRETCH,"\u2922":fn.RELSTRETCH,"\u2923":fn.REL,"\u2924":fn.REL,"\u2925":fn.REL,"\u2926":fn.REL,"\u2927":fn.REL,"\u2928":fn.REL,"\u2929":fn.REL,"\u292a":fn.REL,"\u292b":fn.REL,"\u292c":fn.REL,"\u292d":fn.REL,"\u292e":fn.REL,"\u292f":fn.REL,"\u2930":fn.REL,"\u2931":fn.REL,"\u2932":fn.REL,"\u2933":fn.RELACCENT,"\u2934":fn.REL,"\u2935":fn.REL,"\u2936":fn.REL,"\u2937":fn.REL,"\u2938":fn.REL,"\u2939":fn.REL,"\u293a":fn.RELACCENT,"\u293b":fn.RELACCENT,"\u293c":fn.RELACCENT,"\u293d":fn.RELACCENT,"\u293e":fn.REL,"\u293f":fn.REL,"\u2940":fn.REL,"\u2941":fn.REL,"\u2942":fn.RELACCENT,"\u2943":fn.RELACCENT,"\u2944":fn.RELACCENT,"\u2945":fn.RELACCENT,"\u2946":fn.RELACCENT,"\u2947":fn.RELACCENT,"\u2948":fn.RELACCENT,"\u2949":fn.REL,"\u294a":fn.RELACCENT,"\u294b":fn.RELACCENT,"\u294c":fn.REL,"\u294d":fn.REL,"\u294e":fn.WIDEREL,"\u294f":fn.RELSTRETCH,"\u2950":fn.WIDEREL,"\u2951":fn.RELSTRETCH,"\u2952":fn.WIDEREL,"\u2953":fn.WIDEREL,"\u2954":fn.RELSTRETCH,"\u2955":fn.RELSTRETCH,"\u2956":fn.RELSTRETCH,"\u2957":fn.RELSTRETCH,"\u2958":fn.RELSTRETCH,"\u2959":fn.RELSTRETCH,"\u295a":fn.WIDEREL,"\u295b":fn.WIDEREL,"\u295c":fn.RELSTRETCH,"\u295d":fn.RELSTRETCH,"\u295e":fn.WIDEREL,"\u295f":fn.WIDEREL,"\u2960":fn.RELSTRETCH,"\u2961":fn.RELSTRETCH,"\u2962":fn.RELACCENT,"\u2963":fn.REL,"\u2964":fn.RELACCENT,"\u2965":fn.REL,"\u2966":fn.RELACCENT,"\u2967":fn.RELACCENT,"\u2968":fn.RELACCENT,"\u2969":fn.RELACCENT,"\u296a":fn.RELACCENT,"\u296b":fn.RELACCENT,"\u296c":fn.RELACCENT,"\u296d":fn.RELACCENT,"\u296e":fn.RELSTRETCH,"\u296f":fn.RELSTRETCH,"\u2970":fn.RELACCENT,"\u2971":fn.RELACCENT,"\u2972":fn.RELACCENT,"\u2973":fn.RELACCENT,"\u2974":fn.RELACCENT,"\u2975":fn.RELACCENT,"\u2976":fn.RELACCENT,"\u2977":fn.RELACCENT,"\u2978":fn.RELACCENT,"\u2979":fn.RELACCENT,"\u297a":fn.RELACCENT,"\u297b":fn.RELACCENT,"\u297c":fn.RELACCENT,"\u297d":fn.RELACCENT,"\u297e":fn.REL,"\u297f":fn.REL,"\u2981":fn.BIN3,"\u2982":fn.BIN3,"\u2999":fn.BIN3,"\u299a":fn.BIN3,"\u299b":fn.BIN3,"\u299c":fn.BIN3,"\u299d":fn.BIN3,"\u299e":fn.BIN3,"\u299f":fn.BIN3,"\u29a0":fn.BIN3,"\u29a1":fn.BIN3,"\u29a2":fn.BIN3,"\u29a3":fn.BIN3,"\u29a4":fn.BIN3,"\u29a5":fn.BIN3,"\u29a6":fn.BIN3,"\u29a7":fn.BIN3,"\u29a8":fn.BIN3,"\u29a9":fn.BIN3,"\u29aa":fn.BIN3,"\u29ab":fn.BIN3,"\u29ac":fn.BIN3,"\u29ad":fn.BIN3,"\u29ae":fn.BIN3,"\u29af":fn.BIN3,"\u29b0":fn.BIN3,"\u29b1":fn.BIN3,"\u29b2":fn.BIN3,"\u29b3":fn.BIN3,"\u29b4":fn.BIN3,"\u29b5":fn.BIN3,"\u29b6":fn.BIN4,"\u29b7":fn.BIN4,"\u29b8":fn.BIN4,"\u29b9":fn.BIN4,"\u29ba":fn.BIN4,"\u29bb":fn.BIN4,"\u29bc":fn.BIN4,"\u29bd":fn.BIN4,"\u29be":fn.BIN4,"\u29bf":fn.BIN4,"\u29c0":fn.REL,"\u29c1":fn.REL,"\u29c2":fn.BIN3,"\u29c3":fn.BIN3,"\u29c4":fn.BIN4,"\u29c5":fn.BIN4,"\u29c6":fn.BIN4,"\u29c7":fn.BIN4,"\u29c8":fn.BIN4,"\u29c9":fn.BIN3,"\u29ca":fn.BIN3,"\u29cb":fn.BIN3,"\u29cc":fn.BIN3,"\u29cd":fn.BIN3,"\u29ce":fn.REL,"\u29cf":fn.REL,"\u29cf\u0338":fn.REL,"\u29d0":fn.REL,"\u29d0\u0338":fn.REL,"\u29d1":fn.REL,"\u29d2":fn.REL,"\u29d3":fn.REL,"\u29d4":fn.REL,"\u29d5":fn.REL,"\u29d6":fn.BIN4,"\u29d7":fn.BIN4,"\u29d8":fn.BIN3,"\u29d9":fn.BIN3,"\u29db":fn.BIN3,"\u29dc":fn.BIN3,"\u29dd":fn.BIN3,"\u29de":fn.REL,"\u29df":fn.BIN3,"\u29e0":fn.BIN3,"\u29e1":fn.REL,"\u29e2":fn.BIN4,"\u29e3":fn.REL,"\u29e4":fn.REL,"\u29e5":fn.REL,"\u29e6":fn.REL,"\u29e7":fn.BIN3,"\u29e8":fn.BIN3,"\u29e9":fn.BIN3,"\u29ea":fn.BIN3,"\u29eb":fn.BIN3,"\u29ec":fn.BIN3,"\u29ed":fn.BIN3,"\u29ee":fn.BIN3,"\u29ef":fn.BIN3,"\u29f0":fn.BIN3,"\u29f1":fn.BIN3,"\u29f2":fn.BIN3,"\u29f3":fn.BIN3,"\u29f4":fn.REL,"\u29f5":fn.BIN4,"\u29f6":fn.BIN4,"\u29f7":fn.BIN4,"\u29f8":fn.BIN3,"\u29f9":fn.BIN3,"\u29fa":fn.BIN3,"\u29fb":fn.BIN3,"\u29fe":fn.BIN4,"\u29ff":fn.BIN4,"\u2a1d":fn.BIN3,"\u2a1e":fn.BIN3,"\u2a1f":fn.BIN3,"\u2a20":fn.BIN3,"\u2a21":fn.BIN3,"\u2a22":fn.BIN4,"\u2a23":fn.BIN4,"\u2a24":fn.BIN4,"\u2a25":fn.BIN4,"\u2a26":fn.BIN4,"\u2a27":fn.BIN4,"\u2a28":fn.BIN4,"\u2a29":fn.BIN4,"\u2a2a":fn.BIN4,"\u2a2b":fn.BIN4,"\u2a2c":fn.BIN4,"\u2a2d":fn.BIN4,"\u2a2e":fn.BIN4,"\u2a2f":fn.BIN4,"\u2a30":fn.BIN4,"\u2a31":fn.BIN4,"\u2a32":fn.BIN4,"\u2a33":fn.BIN4,"\u2a34":fn.BIN4,"\u2a35":fn.BIN4,"\u2a36":fn.BIN4,"\u2a37":fn.BIN4,"\u2a38":fn.BIN4,"\u2a39":fn.BIN4,"\u2a3a":fn.BIN4,"\u2a3b":fn.BIN4,"\u2a3c":fn.BIN4,"\u2a3d":fn.BIN4,"\u2a3e":fn.BIN4,"\u2a3f":fn.BIN4,"\u2a40":fn.BIN4,"\u2a41":fn.BIN4,"\u2a42":fn.BIN4,"\u2a43":fn.BIN4,"\u2a44":fn.BIN4,"\u2a45":fn.BIN4,"\u2a46":fn.BIN4,"\u2a47":fn.BIN4,"\u2a48":fn.BIN4,"\u2a49":fn.BIN4,"\u2a4a":fn.BIN4,"\u2a4b":fn.BIN4,"\u2a4c":fn.BIN4,"\u2a4d":fn.BIN4,"\u2a4e":fn.BIN4,"\u2a4f":fn.BIN4,"\u2a50":fn.BIN4,"\u2a51":fn.BIN4,"\u2a52":fn.BIN4,"\u2a53":fn.BIN4,"\u2a54":fn.BIN4,"\u2a55":fn.BIN4,"\u2a56":fn.BIN4,"\u2a57":fn.BIN4,"\u2a58":fn.BIN4,"\u2a59":fn.REL,"\u2a5a":fn.BIN4,"\u2a5b":fn.BIN4,"\u2a5c":fn.BIN4,"\u2a5d":fn.BIN4,"\u2a5e":fn.BIN4,"\u2a5f":fn.BIN4,"\u2a60":fn.BIN4,"\u2a61":fn.BIN4,"\u2a62":fn.BIN4,"\u2a63":fn.BIN4,"\u2a64":fn.BIN4,"\u2a65":fn.BIN4,"\u2a66":fn.REL,"\u2a67":fn.REL,"\u2a68":fn.REL,"\u2a69":fn.REL,"\u2a6a":fn.REL,"\u2a6b":fn.REL,"\u2a6c":fn.REL,"\u2a6d":fn.REL,"\u2a6e":fn.REL,"\u2a6f":fn.REL,"\u2a70":fn.REL,"\u2a71":fn.BIN4,"\u2a72":fn.BIN4,"\u2a73":fn.REL,"\u2a74":fn.REL,"\u2a75":fn.REL,"\u2a76":fn.REL,"\u2a77":fn.REL,"\u2a78":fn.REL,"\u2a79":fn.REL,"\u2a7a":fn.REL,"\u2a7b":fn.REL,"\u2a7c":fn.REL,"\u2a7d":fn.REL,"\u2a7d\u0338":fn.REL,"\u2a7e":fn.REL,"\u2a7e\u0338":fn.REL,"\u2a7f":fn.REL,"\u2a80":fn.REL,"\u2a81":fn.REL,"\u2a82":fn.REL,"\u2a83":fn.REL,"\u2a84":fn.REL,"\u2a85":fn.REL,"\u2a86":fn.REL,"\u2a87":fn.REL,"\u2a88":fn.REL,"\u2a89":fn.REL,"\u2a8a":fn.REL,"\u2a8b":fn.REL,"\u2a8c":fn.REL,"\u2a8d":fn.REL,"\u2a8e":fn.REL,"\u2a8f":fn.REL,"\u2a90":fn.REL,"\u2a91":fn.REL,"\u2a92":fn.REL,"\u2a93":fn.REL,"\u2a94":fn.REL,"\u2a95":fn.REL,"\u2a96":fn.REL,"\u2a97":fn.REL,"\u2a98":fn.REL,"\u2a99":fn.REL,"\u2a9a":fn.REL,"\u2a9b":fn.REL,"\u2a9c":fn.REL,"\u2a9d":fn.REL,"\u2a9e":fn.REL,"\u2a9f":fn.REL,"\u2aa0":fn.REL,"\u2aa1":fn.REL,"\u2aa1\u0338":fn.REL,"\u2aa2":fn.REL,"\u2aa2\u0338":fn.REL,"\u2aa3":fn.REL,"\u2aa4":fn.REL,"\u2aa5":fn.REL,"\u2aa6":fn.REL,"\u2aa7":fn.REL,"\u2aa8":fn.REL,"\u2aa9":fn.REL,"\u2aaa":fn.REL,"\u2aab":fn.REL,"\u2aac":fn.REL,"\u2aad":fn.REL,"\u2aae":fn.REL,"\u2aaf":fn.REL,"\u2aaf\u0338":fn.REL,"\u2ab0":fn.REL,"\u2ab0\u0338":fn.REL,"\u2ab1":fn.REL,"\u2ab2":fn.REL,"\u2ab3":fn.REL,"\u2ab4":fn.REL,"\u2ab5":fn.REL,"\u2ab6":fn.REL,"\u2ab7":fn.REL,"\u2ab8":fn.REL,"\u2ab9":fn.REL,"\u2aba":fn.REL,"\u2abb":fn.REL,"\u2abc":fn.REL,"\u2abd":fn.REL,"\u2abe":fn.REL,"\u2abf":fn.REL,"\u2ac0":fn.REL,"\u2ac1":fn.REL,"\u2ac2":fn.REL,"\u2ac3":fn.REL,"\u2ac4":fn.REL,"\u2ac5":fn.REL,"\u2ac6":fn.REL,"\u2ac7":fn.REL,"\u2ac8":fn.REL,"\u2ac9":fn.REL,"\u2aca":fn.REL,"\u2acb":fn.REL,"\u2acc":fn.REL,"\u2acd":fn.REL,"\u2ace":fn.REL,"\u2acf":fn.REL,"\u2ad0":fn.REL,"\u2ad1":fn.REL,"\u2ad2":fn.REL,"\u2ad3":fn.REL,"\u2ad4":fn.REL,"\u2ad5":fn.REL,"\u2ad6":fn.REL,"\u2ad7":fn.REL,"\u2ad8":fn.REL,"\u2ad9":fn.REL,"\u2ada":fn.REL,"\u2adb":fn.REL,"\u2add":fn.REL,"\u2add\u0338":fn.REL,"\u2ade":fn.REL,"\u2adf":fn.REL,"\u2ae0":fn.REL,"\u2ae1":fn.REL,"\u2ae2":fn.REL,"\u2ae3":fn.REL,"\u2ae4":fn.REL,"\u2ae5":fn.REL,"\u2ae6":fn.REL,"\u2ae7":fn.REL,"\u2ae8":fn.REL,"\u2ae9":fn.REL,"\u2aea":fn.REL,"\u2aeb":fn.REL,"\u2aec":fn.REL,"\u2aed":fn.REL,"\u2aee":fn.REL,"\u2aef":fn.REL,"\u2af0":fn.REL,"\u2af1":fn.REL,"\u2af2":fn.REL,"\u2af3":fn.REL,"\u2af4":fn.BIN4,"\u2af5":fn.BIN4,"\u2af6":fn.BIN4,"\u2af7":fn.REL,"\u2af8":fn.REL,"\u2af9":fn.REL,"\u2afa":fn.REL,"\u2afb":fn.BIN4,"\u2afd":fn.BIN4,"\u2afe":fn.BIN3,"\u2b45":fn.RELSTRETCH,"\u2b46":fn.RELSTRETCH,"\u3008":fn.OPEN,"\u3009":fn.CLOSE,"\ufe37":fn.WIDEACCENT,"\ufe38":fn.WIDEACCENT}};function yn(t,e){return t.length!==e.length?e.length-t.length:t===e?0:t<e?-1:1}function Nn(t){return t.replace(/([\^$(){}.+*?\-|[\]:\\])/g,"\\$1")}function _n(t){return Array.from(t).map(t=>t.codePointAt(0))}function vn(t){return String.fromCodePoint(...t)}function wn(t){return!!t.match(/%\s*$/)}function Cn(t){return t.trim().split(/\s+/)}function kn(t){return t.replace(/\\U(?:([0-9A-Fa-f]{4})|\{\s*([0-9A-Fa-f]{1,6})\s*\})|\\./g,(t,e,s)=>"\\\\"===t?"\\":String.fromCodePoint(parseInt(e||s,16)))}function An(t){return`&#x${t.codePointAt(0).toString(16).toUpperCase()};`}En.infix["^"]=fn.WIDEREL,En.infix._=fn.WIDEREL,En.infix["\u2adc"]=fn.REL;class Tn extends nn{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return null===this._texClass?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(t){this._texClass=t}get kind(){return"mo"}get isEmbellished(){return!0}coreParent(){let t=null,e=this;const s=this.factory.getNodeClass("math");for(;e&&e.isEmbellished&&e.coreMO()===this&&!(e instanceof s);)t=e,e=e.parent;return t||this}coreText(t){if(!t)return"";if(t.isEmbellished)return t.coreMO().getText();for(;((t.isKind("mrow")||t.isKind("TeXAtom")||t.isKind("mstyle")||t.isKind("mphantom"))&&1===t.childNodes.length||t.isKind("munderover"))&&t.childNodes[0];)t=t.childNodes[0];return t.isToken?t.getText():""}hasSpacingAttributes(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")}get isAccent(){let t=!1;const e=this.coreParent().parent;if(e){const s=e.isKind("mover")?e.childNodes[e.over].coreMO()?"accent":"":e.isKind("munder")?e.childNodes[e.under].coreMO()?"accentunder":"":e.isKind("munderover")?this===e.childNodes[e.over].coreMO()?"accent":this===e.childNodes[e.under].coreMO()?"accentunder":"":"";if(s){t=void 0!==e.attributes.getExplicit(s)?t:this.attributes.get("accent")}}return t}setTeXclass(t){const{form:e,fence:s}=this.attributes.getList("form","fence");return void 0===this.getProperty("texClass")&&this.hasSpacingAttributes()?null:(s&&this.texClass===Yi.REL&&("prefix"===e&&(this.texClass=Yi.OPEN),"postfix"===e&&(this.texClass=Yi.CLOSE)),this.adjustTeXclass(t))}adjustTeXclass(t){const e=this.texClass;let s=this.prevClass;if(e===Yi.NONE)return t;if(t?(!t.getProperty("autoOP")||e!==Yi.BIN&&e!==Yi.REL||(s=t.texClass=Yi.ORD),s=this.prevClass=t.texClass||Yi.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):s=this.prevClass=Yi.NONE,e!==Yi.BIN||s!==Yi.NONE&&s!==Yi.BIN&&s!==Yi.OP&&s!==Yi.REL&&s!==Yi.OPEN&&s!==Yi.PUNCT)if(s!==Yi.BIN||e!==Yi.REL&&e!==Yi.CLOSE&&e!==Yi.PUNCT){if(e===Yi.BIN){let t=null,e=this.parent;for(;e&&e.parent&&e.isEmbellished&&(1===e.childNodes.length||!e.isKind("mrow")&&e.core()===t);)t=e,e=e.parent;t=t||this,e.childNodes[e.childNodes.length-1]===t&&(this.texClass=Yi.ORD)}}else t.texClass=this.prevClass=Yi.ORD;else this.texClass=Yi.ORD;return this}setInheritedAttributes(t={},e=!1,s=0,r=!1){super.setInheritedAttributes(t,e,s,r);const i=this.getText();this.checkOperatorTable(i),this.checkPseudoScripts(i),this.checkPrimes(i),this.checkMathAccent(i)}getOperatorDef(t){const[e,s,r]=this.handleExplicitForm(this.getForms());this.attributes.setInherited("form",e);const i=this.constructor,n=i.OPTABLE,o=n[e][t]||n[s][t]||n[r][t];if(o)return o;this.setProperty("noDictDef",!0);const a=this.attributes.get("movablelimits");if((!!t.match(i.opPattern)||a)&&void 0===this.getProperty("texClass"))return mn(1,2,Yi.OP);const c=bn(t),[l,h]=i.MMLSPACING[c[2]];return mn(l,h,c[2])}checkOperatorTable(t){const e=this.getOperatorDef(t);void 0===this.getProperty("texClass")&&(this.texClass=e[2]);for(const t of Object.keys(e[3]||{}))this.attributes.setInherited(t,e[3][t]);this.lspace=((e[0]||-1)+1)/18,this.rspace=((e[1]||-1)+1)/18}getForms(){let t=null,e=this.parent,s=this.Parent;for(;s&&s.isEmbellished;)t=e,e=s.parent,s=s.Parent;if(t=t||this,e&&e.isKind("mrow")&&1!==e.nonSpaceLength()){if(e.firstNonSpace()===t)return["prefix","infix","postfix"];if(e.lastNonSpace()===t)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]}handleExplicitForm(t){if(this.attributes.isSet("form")){const e=this.attributes.get("form");t=[e].concat(t.filter(t=>t!==e))}return t}checkPseudoScripts(t){const e=this.constructor.pseudoScripts;if(!t.match(e))return;const s=this.coreParent().Parent,r=!s||!(s.isKind("msubsup")&&!s.isKind("msub"));this.setProperty("pseudoscript",r),r&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}checkPrimes(t){const e=this.constructor.primes;if(!t.match(e))return;const s=this.constructor.remapPrimes,r=vn(_n(t).map(t=>s[t]));this.setProperty("primes",r)}checkMathAccent(t){const e=this.Parent;if(void 0!==this.getProperty("mathaccent")||!e||!e.isKind("munderover"))return;const[s,r,i]=e.childNodes;if(s.isEmbellished&&s.coreMO()===this)return;const n=!(!r||!r.isEmbellished||r.coreMO()!==this),o=!(!i||!i.isEmbellished||r.coreMO()!==this);(n||o)&&(this.isMathAccent(t)?this.setProperty("mathaccent",!0):this.isMathAccentWithWidth(t)&&this.setProperty("mathaccent",!1))}isMathAccent(t=this.getText()){const e=this.constructor.mathaccents;return!!t.match(e)}isMathAccentWithWidth(t=this.getText()){const e=this.constructor.mathaccentsWithWidth;return!!t.match(e)}}Tn.defaults=Object.assign(Object.assign({},nn.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"100%",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),Tn.MMLSPACING=xn,Tn.OPTABLE=En,Tn.pseudoScripts=new RegExp(["^[\"'*`","\xaa","\xb0","\xb2-\xb4","\xb9","\xba","\u2018-\u201f","\u2032-\u2037\u2057","\u2070\u2071","\u2074-\u207f","\u2080-\u208e","]+$"].join("")),Tn.primes=new RegExp(["^[\"'","\u2018-\u201f","]+$"].join("")),Tn.opPattern=/^[a-zA-Z]{2,}$/,Tn.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},Tn.mathaccents=new RegExp(["^[","\xb4\u0301\u02ca","`\u0300\u02cb","\xa8\u0308","~\u0303\u02dc","\xaf\u0304\u02c9","\u02d8\u0306","\u02c7\u030c","^\u0302\u02c6","\u20d0\u20d1","\u20d6\u20d7\u20e1","\u02d9\u0307","\u02da\u030a","\u20db","\u20dc","]$"].join("")),Tn.mathaccentsWithWidth=new RegExp(["^[","\u2190\u2192\u2194","\u23dc\u23dd","\u23de\u23df","]$"].join(""));class Mn extends nn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"mtext"}get isSpacelike(){return!!this.getText().match(/^\s*$/)&&!this.attributes.hasOneOf(Mn.NONSPACELIKE)}}Mn.NONSPACELIKE=["style","mathbackground","background"],Mn.defaults=Object.assign({},nn.defaults);class Sn extends nn{constructor(){super(...arguments),this.texclass=Yi.NONE}setTeXclass(t){return t}get kind(){return"mspace"}get arity(){return 0}get isSpacelike(){return!this.attributes.hasExplicit("linebreak")&&this.canBreak}get hasNewline(){const t=this.attributes.get("linebreak");return this.canBreak&&("newline"===t||"indentingnewline"===t)}get canBreak(){return!this.attributes.hasOneOf(Sn.NONSPACELIKE)&&"-"!==String(this.attributes.get("width")).trim().charAt(0)}}Sn.NONSPACELIKE=["height","depth","style","mathbackground","background"],Sn.defaults=Object.assign(Object.assign({},nn.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class Ln extends nn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"ms"}}Ln.defaults=Object.assign(Object.assign({},nn.defaults),{lquote:'"',rquote:'"'});class In extends rn{constructor(){super(...arguments),this._core=null}get kind(){return"mrow"}get isSpacelike(){for(const t of this.childNodes)if(!t.isSpacelike)return!1;return!0}get isEmbellished(){let t=!1,e=0;for(const s of this.childNodes){if(s)if(s.isEmbellished){if(t)return!1;t=!0,this._core=e}else if(!s.isSpacelike)return!1;e++}return t}core(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core]:this}coreMO(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core].coreMO():this}nonSpaceLength(){let t=0;for(const e of this.childNodes)e&&!e.isSpacelike&&t++;return t}firstNonSpace(){for(const t of this.childNodes)if(t&&!t.isSpacelike)return t;return null}lastNonSpace(){let t=this.childNodes.length;for(;--t>=0;){const e=this.childNodes[t];if(e&&!e.isSpacelike)return e}return null}setTeXclass(t){if(null!=this.getProperty("open")||null!=this.getProperty("close")){this.getPrevClass(t),t=null;for(const e of this.childNodes)t=e.setTeXclass(t);return null==this.texClass&&(this.texClass=Yi.INNER),this}for(const e of this.childNodes)t=e.setTeXclass(t);return this.childNodes[0]&&this.updateTeXclass(this.childNodes[0]),t}}In.defaults=Object.assign({},rn.defaults);class Rn extends In{get kind(){return"inferredMrow"}get isInferred(){return!0}get notParent(){return!0}toString(){return"["+this.childNodes.join(",")+"]"}}Rn.defaults=In.defaults;class On extends an{get kind(){return"mfrac"}get arity(){return 2}get linebreakContainer(){return!0}get linebreakAlign(){return""}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}setChildInheritedAttributes(t,e,s,r){(!e||s>0)&&s++;const i=this.attributes.get("numalign"),n=this.attributes.get("denomalign"),o=this.addInheritedAttributes(Object.assign({},t),{numalign:i,indentshift:"0",indentalignfirst:i,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),a=this.addInheritedAttributes(Object.assign({},t),{denalign:n,indentshift:"0",indentalignfirst:n,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"});this.childNodes[0].setInheritedAttributes(o,!1,s,r),this.childNodes[1].setInheritedAttributes(a,!1,s,!0)}}On.defaults=Object.assign(Object.assign({},an.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1});class Pn extends rn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"msqrt"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}setChildInheritedAttributes(t,e,s,r){this.childNodes[0].setInheritedAttributes(t,e,s,!0)}}Pn.defaults=Object.assign(Object.assign({},rn.defaults),{"data-vertical-align":"bottom"});class Dn extends rn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"mroot"}get arity(){return 2}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this}setChildInheritedAttributes(t,e,s,r){this.childNodes[0].setInheritedAttributes(t,e,s,!0),this.childNodes[1].setInheritedAttributes(t,!1,s+2,r)}}Dn.defaults=Object.assign(Object.assign({},rn.defaults),{"data-vertical-align":"bottom"});class Bn extends on{get kind(){return"mstyle"}get notParent(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length}setInheritedAttributes(t={},e=!1,s=0,r=!1){this.attributes.setInherited("displaystyle",e),this.attributes.setInherited("scriptlevel",s),super.setInheritedAttributes(t,e,s,r)}setChildInheritedAttributes(t,e,s,r){let i=this.attributes.getExplicit("scriptlevel");null!=i&&(i=i.toString(),i.match(/^\s*[-+]/)?s+=parseInt(i):s=parseInt(i),r=!1);const n=this.attributes.getExplicit("displaystyle");null!=n&&(e=!0===n,r=!1);const o=this.attributes.getExplicit("data-cramped");null!=o&&(r=o),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(t,e,s,r)}}Bn.defaults=Object.assign(Object.assign({},on.defaults),{scriptlevel:Xi,displaystyle:Xi,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",mathbackground:Xi,mathcolor:Xi,dir:Xi,infixlinebreakstyle:"before"});class Fn extends rn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"merror"}get arity(){return-1}get linebreakContainer(){return!0}}Fn.defaults=Object.assign({},rn.defaults);class qn extends on{get kind(){return"mpadded"}get linebreakContainer(){return!0}setTeXclass(t){return this.getProperty("vbox")?(this.getPrevClass(t),this.texClass=Yi.ORD,this.childNodes[0].setTeXclass(null),this):super.setTeXclass(t)}}qn.defaults=Object.assign(Object.assign({},on.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0});class jn extends on{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"mphantom"}}jn.defaults=Object.assign({},on.defaults);class Un extends rn{constructor(){super(...arguments),this.texclass=Yi.INNER,this.separators=[],this.open=null,this.close=null}get kind(){return"mfenced"}setTeXclass(t){this.getPrevClass(t),this.open&&(t=this.open.setTeXclass(t)),this.childNodes[0]&&(t=this.childNodes[0].setTeXclass(t));for(let e=1,s=this.childNodes.length;e<s;e++)this.separators[e-1]&&(t=this.separators[e-1].setTeXclass(t)),this.childNodes[e]&&(t=this.childNodes[e].setTeXclass(t));return this.close&&(t=this.close.setTeXclass(t)),this.updateTeXclass(this.open),t}setChildInheritedAttributes(t,e,s,r){this.addFakeNodes();for(const i of[this.open,this.close].concat(this.separators))i&&i.setInheritedAttributes(t,e,s,r);super.setChildInheritedAttributes(t,e,s,r)}addFakeNodes(){let{open:t,close:e,separators:s}=this.attributes.getList("open","close","separators");if(t=t.replace(/[ \t\n\r]/g,""),e=e.replace(/[ \t\n\r]/g,""),s=s.replace(/[ \t\n\r]/g,""),t&&(this.open=this.fakeNode(t,{fence:!0,form:"prefix"},Yi.OPEN)),s){for(;s.length<this.childNodes.length-1;)s+=s.charAt(s.length-1);let t=0;for(const e of this.childNodes.slice(1))e&&this.separators.push(this.fakeNode(s.charAt(t++)))}e&&(this.close=this.fakeNode(e,{fence:!0,form:"postfix"},Yi.CLOSE))}fakeNode(t,e={},s=null){const r=this.factory.create("text").setText(t),i=this.factory.create("mo",e,[r]);return i.texClass=s,i.parent=this,i}}Un.defaults=Object.assign(Object.assign({},rn.defaults),{open:"(",close:")",separators:","});class Hn extends rn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"menclose"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}Hn.defaults=Object.assign(Object.assign({},rn.defaults),{notation:"longdiv"});class Gn extends rn{get kind(){return"maction"}get arity(){return 1}get selected(){const t=this.attributes.get("selection"),e=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[e]||this.factory.create("mrow")}get isEmbellished(){return this.selected.isEmbellished}get isSpacelike(){return this.selected.isSpacelike}core(){return this.selected.core()}coreMO(){return this.selected.coreMO()}verifyAttributes(t){super.verifyAttributes(t),"toggle"!==this.attributes.get("actiontype")&&this.attributes.hasExplicit("selection")&&this.attributes.unset("selection")}setTeXclass(t){"tooltip"===this.attributes.get("actiontype")&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);const e=this.selected;return t=e.setTeXclass(t),this.updateTeXclass(e),t}nextToggleSelection(){let t=Math.max(1,parseInt(this.attributes.get("selection"))+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)}setChildInheritedAttributes(t,e,s,r){var i,n;"tooltip"===this.attributes.get("actiontype").toLowerCase()?(null===(i=this.childNodes[0])||void 0===i||i.setInheritedAttributes(t,e,s,r),null===(n=this.childNodes[1])||void 0===n||n.setInheritedAttributes(t,!1,1,!1)):super.setChildInheritedAttributes(t,e,s,r)}}Gn.defaults=Object.assign(Object.assign({},rn.defaults),{actiontype:"toggle",selection:1});class zn extends an{get kind(){return"msubsup"}get arity(){return 3}get base(){return 0}get sub(){return 1}get sup(){return 2}setChildInheritedAttributes(t,e,s,r){const i=this.childNodes;i[0].setInheritedAttributes(t,e,s,r),i[1].setInheritedAttributes(t,!1,s+1,r||1===this.sub),i[2]&&i[2].setInheritedAttributes(t,!1,s+1,r||2===this.sub)}}zn.defaults=Object.assign(Object.assign({},an.defaults),{subscriptshift:"",superscriptshift:""});class Wn extends zn{get kind(){return"msub"}get arity(){return 2}}Wn.defaults=Object.assign({},zn.defaults);class Vn extends zn{get kind(){return"msup"}get arity(){return 2}get sup(){return 1}get sub(){return 2}}Vn.defaults=Object.assign({},zn.defaults);class Xn extends an{get kind(){return"munderover"}get arity(){return 3}get base(){return 0}get under(){return 1}get over(){return 2}get linebreakContainer(){return!0}setChildInheritedAttributes(t,e,s,r){const i=this.childNodes;i[0].setInheritedAttributes(t,e,s,r||!!i[this.over]);const n=!(e||!i[0].coreMO().attributes.get("movablelimits")),o=this.constructor.ACCENTS;i[1].setInheritedAttributes(t,!1,this.getScriptlevel(o[1],n,s),r||1===this.under),this.setInheritedAccent(1,o[1],e,s,r,n),i[2]&&(i[2].setInheritedAttributes(t,!1,this.getScriptlevel(o[2],n,s),r||2===this.under),this.setInheritedAccent(2,o[2],e,s,r,n))}getScriptlevel(t,e,s){return!e&&this.attributes.get(t)||s++,s}setInheritedAccent(t,e,s,r,i,n){const o=this.childNodes[t];if(!this.attributes.hasExplicit(e)&&o.isEmbellished){const t=o.coreMO().attributes.get("accent");this.attributes.setInherited(e,t),t!==this.attributes.getDefault(e)&&o.setInheritedAttributes({},s,this.getScriptlevel(e,n,r),i)}}}Xn.defaults=Object.assign(Object.assign({},an.defaults),{accent:!1,accentunder:!1,align:"center"}),Xn.ACCENTS=["","accentunder","accent"];class $n extends Xn{get kind(){return"munder"}get arity(){return 2}}$n.defaults=Object.assign({},Xn.defaults);class Jn extends Xn{get kind(){return"mover"}get arity(){return 2}get over(){return 1}get under(){return 2}}Jn.defaults=Object.assign({},Xn.defaults),Jn.ACCENTS=["","accent","accentunder"];class Kn extends zn{get kind(){return"mmultiscripts"}get arity(){return 1}setChildInheritedAttributes(t,e,s,r){this.childNodes[0].setInheritedAttributes(t,e,s,r);let i=!1;for(let e=1,n=0;e<this.childNodes.length;e++){const o=this.childNodes[e];if(o.isKind("mprescripts")){if(!i&&(i=!0,e%2==0)){const t=this.factory.create("none");this.childNodes.splice(e,0,t),t.parent=this,e++}}else{const e=r||n%2==0;o.setInheritedAttributes(t,!1,s+1,e),n++}}this.childNodes.length%2==(i?1:0)&&(this.appendChild(this.factory.create("none")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(t,!1,s+1,r))}verifyChildren(t){let e=!1;const s=t.fixMmultiscripts;for(let r=0;r<this.childNodes.length;r++){const i=this.childNodes[r];i.isKind("mprescripts")&&(e?i.mError(i.kind+" can only appear once in "+this.kind,t,!0):(e=!0,r%2!=0||s||this.mError("There must be an equal number of prescripts of each type",t)))}this.childNodes.length%2!=(e?1:0)||s||this.mError("There must be an equal number of scripts of each type",t),super.verifyChildren(t)}}Kn.defaults=Object.assign({},zn.defaults);class Yn extends rn{get kind(){return"mprescripts"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}Yn.defaults=Object.assign({},rn.defaults);class Qn extends rn{get kind(){return"none"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}Qn.defaults=Object.assign({},rn.defaults);class Zn extends rn{constructor(){super(...arguments),this.properties={useHeight:!0},this.texclass=Yi.ORD}get kind(){return"mtable"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setInheritedAttributes(t,e,s,r){for(const e of sn)t[e]&&this.attributes.setInherited(e,t[e][1]),this.attributes.hasExplicit(e)&&this.attributes.unset(e);super.setInheritedAttributes(t,e,s,r)}setChildInheritedAttributes(t,e,s,r){for(const t of this.childNodes)t.isKind("mtr")||this.replaceChild(this.factory.create("mtr"),t).appendChild(t);e=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),t=this.addInheritedAttributes(t,{columnalign:this.attributes.get("columnalign"),rowalign:"center","data-break-align":this.attributes.get("data-break-align")});const i=this.attributes.getExplicit("data-cramped"),n=Cn(this.attributes.get("rowalign"));for(const r of this.childNodes)t.rowalign[1]=n.shift()||t.rowalign[1],r.setInheritedAttributes(t,e,s,!!i)}verifyChildren(t){let e=null;const s=this.factory;for(let r=0;r<this.childNodes.length;r++){const i=this.childNodes[r];if(i.isKind("mtr"))e=null;else{const n=i.isKind("mtd");if(e?(this.removeChild(i),r--):e=this.replaceChild(s.create("mtr"),i),e.appendChild(n?i:s.create("mtd",{},[i])),!t.fixMtables){i.parent.removeChild(i),i.parent=this,n&&e.appendChild(s.create("mtd"));const r=i.mError("Children of "+this.kind+" must be mtr or mlabeledtr",t,n);e.childNodes[e.childNodes.length-1].appendChild(r)}}}super.verifyChildren(t)}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}}Zn.defaults=Object.assign(Object.assign({},rn.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em","data-break-align":"top"});class to extends rn{get kind(){return"mtr"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,e,s,r){for(const t of this.childNodes)t.isKind("mtd")||this.replaceChild(this.factory.create("mtd"),t).appendChild(t);const i=Cn(this.attributes.get("columnalign")),n=Cn(this.attributes.get("data-break-align"));1===this.arity&&(i.unshift(this.parent.attributes.get("side")),n.unshift("top")),t=this.addInheritedAttributes(t,{rowalign:this.attributes.get("rowalign"),columnalign:"center","data-break-align":"top"});for(const o of this.childNodes)t.columnalign[1]=i.shift()||t.columnalign[1],t["data-vertical-align"]=[this.kind,n.shift()||t["data-break-align"][1]],o.setInheritedAttributes(t,e,s,r)}verifyChildren(t){if(!this.parent||this.parent.isKind("mtable")){for(const e of this.childNodes)if(!e.isKind("mtd")){this.replaceChild(this.factory.create("mtd"),e).appendChild(e),t.fixMtables||e.mError("Children of "+this.kind+" must be mtd",t)}super.verifyChildren(t)}else this.mError(this.kind+" can only be a child of an mtable",t,!0)}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}}to.defaults=Object.assign(Object.assign({},rn.defaults),{rowalign:Xi,columnalign:Xi,groupalign:Xi,"data-break-align":"top"});class eo extends to{get kind(){return"mlabeledtr"}get arity(){return 1}}class so extends an{get kind(){return"mtd"}get arity(){return-1}get linebreakContainer(){return!0}get linebreakAlign(){return"columnalign"}verifyChildren(t){!this.parent||this.parent.isKind("mtr")?super.verifyChildren(t):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",t,!0)}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}}so.defaults=Object.assign(Object.assign({},an.defaults),{rowspan:1,columnspan:1,rowalign:Xi,columnalign:Xi,groupalign:Xi,"data-vertical-align":"top"});class ro extends on{get kind(){return"maligngroup"}get isSpacelike(){return!0}setChildInheritedAttributes(t,e,s,r){t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),super.setChildInheritedAttributes(t,e,s,r)}}ro.defaults=Object.assign(Object.assign({},on.defaults),{groupalign:Xi});class io extends rn{get kind(){return"malignmark"}get arity(){return 0}get isSpacelike(){return!0}}io.defaults=Object.assign(Object.assign({},rn.defaults),{edge:"left"});class no extends nn{constructor(){super(...arguments),this.texclass=Yi.ORD}get kind(){return"mglyph"}verifyAttributes(t){const{src:e,fontfamily:s,index:r}=this.attributes.getList("src","fontfamily","index");""!==e||""!==s&&""!==r?super.verifyAttributes(t):this.mError("mglyph must have either src or fontfamily and index attributes",t,!0)}}no.defaults=Object.assign(Object.assign({},nn.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"});class oo extends an{get kind(){return"semantics"}get arity(){return 1}get notParent(){return!0}}oo.defaults=Object.assign(Object.assign({},an.defaults),{definitionUrl:null,encoding:null});class ao extends rn{get kind(){return"annotation-xml"}setChildInheritedAttributes(){}}ao.defaults=Object.assign(Object.assign({},rn.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null});class co extends ao{constructor(){super(...arguments),this.properties={isChars:!0}}get kind(){return"annotation"}}co.defaults=Object.assign({},ao.defaults);class lo extends an{get kind(){return"TeXAtom"}get arity(){return-1}get notParent(){return!0}constructor(t,e,s){super(t,e,s),this.texclass=Yi.ORD,this.setProperty("texClass",this.texClass)}setTeXclass(t){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t)}adjustTeXclass(t){return t}}lo.defaults=Object.assign({},an.defaults),lo.prototype.adjustTeXclass=Tn.prototype.adjustTeXclass;class ho extends an{get kind(){return"MathChoice"}get arity(){return 4}get notParent(){return!0}setInheritedAttributes(t,e,s,r){const i=e?0:Math.max(0,Math.min(s,2))+1,n=this.childNodes[i]||this.factory.create("mrow");this.parent.replaceChild(n,this),n.setInheritedAttributes(t,e,s,r)}}ho.defaults=Object.assign({},an.defaults);class uo extends hn{get kind(){return"html"}getHTML(){return this.getXML()}setHTML(t,e=null){try{e.getAttribute(t,"data-mjx-hdw")}catch(s){t=e.node("span",{},[t])}return this.setXML(t,e)}getSerializedHTML(){return this.adaptor.outerHTML(this.xml)}textContent(){return this.adaptor.textContent(this.xml)}toString(){const t=this.adaptor.kind(this.xml);return`HTML=<${t}>...</${t}>`}verifyTree(t){!this.parent||this.parent.isToken||this.mError("HTML can only be a child of a token element",t,!0)}}const po={[dn.prototype.kind]:dn,[un.prototype.kind]:un,[pn.prototype.kind]:pn,[Tn.prototype.kind]:Tn,[Mn.prototype.kind]:Mn,[Sn.prototype.kind]:Sn,[Ln.prototype.kind]:Ln,[In.prototype.kind]:In,[Rn.prototype.kind]:Rn,[On.prototype.kind]:On,[Pn.prototype.kind]:Pn,[Dn.prototype.kind]:Dn,[Bn.prototype.kind]:Bn,[Fn.prototype.kind]:Fn,[qn.prototype.kind]:qn,[jn.prototype.kind]:jn,[Un.prototype.kind]:Un,[Hn.prototype.kind]:Hn,[Gn.prototype.kind]:Gn,[Wn.prototype.kind]:Wn,[Vn.prototype.kind]:Vn,[zn.prototype.kind]:zn,[$n.prototype.kind]:$n,[Jn.prototype.kind]:Jn,[Xn.prototype.kind]:Xn,[Kn.prototype.kind]:Kn,[Yn.prototype.kind]:Yn,[Qn.prototype.kind]:Qn,[Zn.prototype.kind]:Zn,[eo.prototype.kind]:eo,[to.prototype.kind]:to,[so.prototype.kind]:so,[ro.prototype.kind]:ro,[io.prototype.kind]:io,[no.prototype.kind]:no,[oo.prototype.kind]:oo,[co.prototype.kind]:co,[ao.prototype.kind]:ao,[lo.prototype.kind]:lo,[ho.prototype.kind]:ho,[ln.prototype.kind]:ln,[hn.prototype.kind]:hn,[uo.prototype.kind]:uo};class mo extends Vi{get MML(){return this.node}}mo.defaultNodes=po;class fo{constructor(){this.bits=0}static allocate(...t){for(const e of t){if(this.has(e))throw new Error("Bit already allocated for "+e);if(this.next===fo.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(e,this.next),this.next<<=1}}static has(t){return this.names.has(t)}set(t){this.bits|=this.getBit(t)}clear(t){this.bits&=~this.getBit(t)}isSet(t){return!!(this.bits&this.getBit(t))}reset(){this.bits=0}getBit(t){const e=this.constructor.names.get(t);if(!e)throw new Error("Unknown bit-field name: "+t);return e}}function go(...t){const e=class extends fo{};return e.allocate(...t),e}function bo(t){return new Promise(function e(s,r){const i=t=>{var i;t.retry instanceof Promise?t.retry.then(()=>e(s,r)).catch(t=>r(t)):(null===(i=t.restart)||void 0===i?void 0:i.isCallback)?MathJax.Callback.After(()=>e(s,r),t.restart):r(t)};try{const e=t();e instanceof Promise?e.then(t=>s(t)).catch(t=>i(t)):s(e)}catch(t){i(t)}})}function xo(t){const e=new Error("MathJax retry -- an asynchronous action is required; try using one of the promise-based functions and await its resolution.");throw e.retry=t,e}fo.MAXBIT=1<<31,fo.next=1,fo.names=new Map;var Eo=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};class yo extends Qr{static create(t){const e=new this;for(const s of Object.keys(t)){const[r,i]=this.action(s,t[s]);i&&e.add(r,i)}return e}static action(t,e){let s,r,i=!0;const n=e[0];if(1===e.length||"boolean"==typeof e[1])2===e.length&&(i=e[1]),[s,r]=this.methodActions(t);else if("string"==typeof e[1])if("string"==typeof e[2]){4===e.length&&(i=e[3]);const[t,n]=e.slice(1);[s,r]=this.methodActions(t,n)}else 3===e.length&&(i=e[2]),[s,r]=this.methodActions(e[1]);else 4===e.length&&(i=e[3]),[s,r]=e.slice(1);return[{id:t,renderDoc:s,renderMath:r,convert:i},n]}static methodActions(t,e=t){return[e=>(t&&e[t](),!1),(t,s)=>(e&&t[e](s),!1)]}renderDoc(t,e=Gi.UNPROCESSED){for(const s of this.items)if(s.priority>=e&&s.item.renderDoc(t))return}renderMath(t,e,s=Gi.UNPROCESSED){for(const r of this.items)if(r.priority>=s&&r.item.renderMath(t,e))return}renderConvert(t,e,s=Gi.LAST){for(const r of this.items){if(r.priority>s)return;if(r.item.convert&&r.item.renderMath(t,e))return}}findID(t){for(const e of this.items)if(e.item.id===t)return e.item;return null}}const No={all:!1,processed:!1,inputJax:null,outputJax:null},_o={all:!0,processed:!0,inputJax:[],outputJax:[]};class vo extends Pi{compile(t){return null}}class wo extends Di{typeset(t,e=null){return null}escaped(t,e){return null}}class Co extends ji{}class ko{constructor(t,e,s){const r=this.constructor;this.document=t,this.options=Ei(xi({},r.OPTIONS),s),this.math=new(this.options.MathList||Co),this.renderActions=yo.create(this.options.renderActions),this._actionPromises=[],this._readyPromise=Promise.resolve(),this.processed=new ko.ProcessBits,this.outputJax=this.options.OutputJax||new wo;let i=this.options.InputJax||[new vo];Array.isArray(i)||(i=[i]),this.inputJax=i,this.adaptor=e,this.outputJax.setAdaptor(e),this.inputJax.map(t=>t.setAdaptor(e)),this.mmlFactory=this.options.MmlFactory||new mo,this.inputJax.map(t=>t.setMmlFactory(this.mmlFactory)),this.outputJax.initialize(),this.inputJax.map(t=>t.initialize())}get kind(){return this.constructor.KIND}addRenderAction(t,...e){const[s,r]=yo.action(t,e);this.renderActions.add(s,r)}removeRenderAction(t){const e=this.renderActions.findID(t);e&&this.renderActions.remove(e)}render(){return this.clearPromises(),this.renderActions.renderDoc(this),this}renderPromise(){return this.whenReady(()=>bo(()=>Eo(this,void 0,void 0,function*(){return this.render(),yield this.actionPromises(),this.clearPromises(),this})))}rerender(t=Gi.RERENDER){return this.state(t-1),this.render(),this}rerenderPromise(t=Gi.RERENDER){return this.whenReady(()=>bo(()=>Eo(this,void 0,void 0,function*(){return this.rerender(t),yield this.actionPromises(),this.clearPromises(),this})))}convert(t,e={}){let{format:s,display:r,end:i,ex:n,em:o,containerWidth:a,scale:c,family:l}=Ei({format:this.inputJax[0].name,display:!0,end:Gi.LAST,em:16,ex:8,containerWidth:null,scale:1,family:""},e);null===a&&(a=80*n);const h=this.inputJax.reduce((t,e)=>e.name===s?e:t,null),d=new this.options.MathItem(t,h,r);return d.start.node=this.adaptor.body(this.document),d.setMetrics(o,n,a,c),l&&this.outputJax.options.mtextInheritFont&&(d.outputData.mtextFamily=l),l&&this.outputJax.options.merrorInheritFont&&(d.outputData.merrorFamily=l),this.clearPromises(),d.convert(this,i),d.typesetRoot||d.root}convertPromise(t,e={}){return this.whenReady(()=>bo(()=>Eo(this,void 0,void 0,function*(){const s=this.convert(t,e);return yield this.actionPromises(),this.clearPromises(),s})))}whenReady(t){return this._readyPromise=this._readyPromise.catch(t=>{}).then(()=>{const e=this._readyPromise;this._readyPromise=Promise.resolve();const s=t(),r=this._readyPromise.then(()=>s);return this._readyPromise=e,r})}actionPromises(){return Promise.all(this._actionPromises)}clearPromises(){this._actionPromises=[]}savePromise(t){this._actionPromises.push(t)}findMath(t=null){return this.processed.set("findMath"),this}compile(){if(!this.processed.isSet("compile")){const t=[];for(const e of this.math)this.compileMath(e),void 0!==e.inputData.recompile&&t.push(e);for(const e of t){const t=e.inputData.recompile;e.state(t.state),e.inputData.recompile=t,this.compileMath(e)}this.processed.set("compile")}return this}compileMath(t){try{t.compile(this)}catch(e){if(e.retry||e.restart)throw e;this.options.compileError(this,t,e),t.inputData.error=e}}compileError(t,e){t.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":e.message,title:e.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),t.display&&t.root.attributes.set("display","block"),t.inputData.error=e.message}typeset(){if(!this.processed.isSet("typeset")){for(const t of this.math)try{t.typeset(this)}catch(e){if(e.retry||e.restart)throw e;this.options.typesetError(this,t,e),t.outputData.error=e}this.processed.set("typeset")}return this}typesetError(t,e){t.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":e.message,title:e.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),t.display&&this.adaptor.setAttributes(t.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),t.outputData.error=e.message}getMetrics(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this}updateDocument(){if(!this.processed.isSet("updateDocument")){for(const t of this.math.reversed())t.updateDocument(this);this.processed.set("updateDocument")}return this}removeFromDocument(t=!1){return this}state(t,e=!1){for(const s of this.math)s.state(t,e);return t<Gi.INSERTED&&this.processed.clear("updateDocument"),t<Gi.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),t<Gi.COMPILED&&this.processed.clear("compile"),t<Gi.FINDMATH&&this.processed.clear("findMath"),this}reset(t={processed:!0}){return(t=Ei(Object.assign({},No),t)).all&&Object.assign(t,_o),t.processed&&this.processed.reset(),t.inputJax&&this.inputJax.forEach(e=>e.reset(...t.inputJax)),t.outputJax&&this.outputJax.reset(...t.outputJax),this}clear(){return this.reset(),this.math.clear(),this}done(){return Promise.resolve()}concat(t){return this.math.merge(t),this}clearMathItemsWithin(t){const e=this.getMathItemsWithin(t);for(const t of e.slice(0).reverse())t.clear();return this.math.remove(...e),e}getMathItemsWithin(t){Array.isArray(t)||(t=[t]);const e=this.adaptor,s=[],r=e.getElements(t,this.document);t:for(const t of this.math)for(const i of r)if(t.start.node&&e.contains(i,t.start.node)){s.push(t);continue t}return s}}ko.KIND="MathDocument",ko.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:Co,MathItem:class extends Hi{},compileError:(t,e,s)=>{t.compileError(e,s)},typesetError:(t,e,s)=>{t.typesetError(e,s)},renderActions:pi({find:[Gi.FINDMATH,"findMath","",!1],compile:[Gi.COMPILED],metrics:[Gi.METRICS,"getMetrics","",!1],typeset:[Gi.TYPESET],update:[Gi.INSERTED,"updateDocument",!1]})},ko.ProcessBits=go("findMath","compile","getMetrics","typeset","updateDocument");class Ao extends ko{}class To{constructor(t,e=5){this.documentClass=Ao,this.adaptor=t,this.priority=e}get name(){return this.constructor.NAME}handlesDocument(t){return!1}create(t,e){return new this.documentClass(t,this.adaptor,e)}}To.NAME="generic";class Mo extends Qr{register(t){return this.add(t,t.priority)}unregister(t){this.remove(t)}handlesDocument(t){for(const e of this){const s=e.item;if(s.handlesDocument(t))return s}throw new Error("Can't find handler for document")}document(t,e=null){return this.handlesDocument(t).create(t,e)}}class So{static methodName(t){return"visit"+(t.charAt(0).toUpperCase()+t.substring(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"}constructor(t){this.nodeHandlers=new Map;for(const e of t.getKinds()){const t=this[So.methodName(e)];t&&this.nodeHandlers.set(e,t)}}visitTree(t,...e){return this.visitNode(t,...e)}visitNode(t,...e){return(this.nodeHandlers.get(t.kind)||this.visitDefault).call(this,t,...e)}visitDefault(t,...e){if("childNodes"in t)for(const s of t.childNodes)this.visitNode(s,...e)}setNodeHandler(t,e){this.nodeHandlers.set(t,e)}removeNodeHandler(t){this.nodeHandlers.delete(t)}}const Lo="data-mjx-";class Io extends So{constructor(t=null){t||(t=new mo),super(t)}visitTextNode(t,...e){}visitXMLNode(t,...e){}visitHtmlNode(t,...e){}getKind(t){const e=t.kind;return vi(e,this.constructor.rename,e)}getAttributeList(t){const e=this.constructor,s=vi(t.kind,e.defaultAttributes,{}),r=Object.assign({},s,this.getDataAttributes(t),t.attributes.getAllAttributes()),i=e.variants;return Object.hasOwn(r,"mathvariant")&&(Object.hasOwn(i,r.mathvariant)?r.mathvariant=i[r.mathvariant]:t.getProperty("ignore-variant")&&delete r.mathvariant),r}getDataAttributes(t){const e={},s=t.attributes.getExplicit("mathvariant"),r=this.constructor.variants;s&&(t.getProperty("ignore-variant")||Object.hasOwn(r,s))&&this.setDataAttribute(e,"variant",s),t.getProperty("variantForm")&&this.setDataAttribute(e,"alternate","1"),t.getProperty("pseudoscript")&&this.setDataAttribute(e,"pseudoscript","true"),!1===t.getProperty("autoOP")&&this.setDataAttribute(e,"auto-op","false");const i=t.getProperty("vbox");i&&this.setDataAttribute(e,"vbox",i);const n=t.getProperty("scriptalign");n&&this.setDataAttribute(e,"script-align",n);const o=t.getProperty("mathaccent");void 0!==o&&(o&&!t.isMathAccent()||!o&&!t.isMathAccentWithWidth())&&this.setDataAttribute(e,"mathaccent",o.toString());const a=t.getProperty("texClass");if(void 0!==a){let s=!0;if(a===Yi.OP&&t.isKind("mi")){const e=t.getText();s=!(e.length>1&&e.match(un.operatorName))}s&&this.setDataAttribute(e,"texclass",a<0?"NONE":Qi[a])}return t.getProperty("smallmatrix")&&this.setDataAttribute(e,"smallmatrix","true"),e}setDataAttribute(t,e,s){t[Lo+e]=s}}Io.rename={TeXAtom:"mrow"},Io.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"},Io.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}};class Ro extends Io{constructor(){super(...arguments),this.document=null}visitTree(t,e){this.document=e;const s=e.createElement("top");return this.visitNode(t,s),this.document=null,s.firstChild}visitTextNode(t,e){e.appendChild(this.document.createTextNode(t.getText()))}visitXMLNode(t,e){e.appendChild(t.getXML().cloneNode(!0))}visitHtmlNode(t,e){e.appendChild(t.getHTML().cloneNode(!0))}visitInferredMrowNode(t,e){for(const s of t.childNodes)this.visitNode(s,e)}visitDefault(t,e){const s=this.document.createElement(this.getKind(t));this.addAttributes(t,s);for(const e of t.childNodes)this.visitNode(e,s);e.appendChild(s)}addAttributes(t,e){const s=this.getAttributeList(t);for(const t of Object.keys(s))e.setAttribute(t,s[t].toString())}}class Oo extends Io{visitTree(t){return this.visitNode(t,"")}visitTextNode(t,e){return this.quoteHTML(t.getText())}visitXMLNode(t,e){return e+t.getSerializedXML()}visitHtmlNode(t,e){return t.getSerializedHTML()}visitInferredMrowNode(t,e){const s=[];for(const r of t.childNodes)s.push(this.visitNode(r,e));return s.join("\n")}visitAnnotationNode(t,e){const s=this.childNodeMml(t,"","");return`${e}<annotation${this.getAttributes(t)}>${s}</annotation>`}visitDefault(t,e){const s=this.getKind(t),[r,i]=t.isToken||0===t.childNodes.length?["",""]:["\n",e],n=this.childNodeMml(t,e+"  ",r),o=n.match(/\S/)?r+n+i:"";return`${e}<${s}${this.getAttributes(t)}>${o}</${s}>`}childNodeMml(t,e,s){let r="";for(const i of t.childNodes)r+=this.visitNode(i,e)+s;return r}getAttributes(t){const e=[],s=this.getAttributeList(t);for(const t of Object.keys(s)){const r=String(s[t]);void 0!==r&&e.push(t+'="'+this.quoteHTML(r)+'"')}return e.length?" "+e.join(" "):""}quoteHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,this.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,this.toEntity)}toEntity(t){return An(t)}}class Po{get kind(){return this.node.kind}constructor(t,e){this.factory=t,this.node=e}wrap(t){return this.factory.wrap(t)}walkTree(t,e){if(t(this,e),"childNodes"in this)for(const s of this.childNodes)s&&s.walkTree(t,e);return e}}class Do extends Wi{wrap(t,...e){return this.create(t.kind,t,...e)}}const Bo={version:jr,context:Jr,handlers:new Mo,document:function(t,e){return Bo.handlers.document(t,e)},handleRetriesFor:bo,retryAfter:xo,asyncLoad:null,asyncIsSynchronous:!1};class Fo extends Hi{get adaptor(){return this.inputJax.adaptor}constructor(t,e,s=!0,r={node:null,n:0,delim:""},i={node:null,n:0,delim:""}){super(t,e,s,r,i)}updateDocument(t){if(this.state()<Gi.INSERTED){if(this.inputJax.processStrings){let t=this.start.node;if(t===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(t=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,t);else{for(this.start.n&&(t=this.adaptor.split(t,this.start.n));t!==this.end.node;){const e=this.adaptor.next(t);this.adaptor.remove(t),t=e}this.adaptor.insert(this.typesetRoot,t),this.end.n<this.adaptor.value(t).length&&this.adaptor.split(t,this.end.n),this.adaptor.remove(t)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(Gi.INSERTED)}}updateStyleSheet(t){t.addStyleSheet()}removeFromDocument(t=!1){if(super.removeFromDocument(t),this.state()>=Gi.TYPESET){const e=this.adaptor,s=this.start.node;let r=e.text("");if(t){const t=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)r=e.text(t);else{const s=e.parse(t,"text/html");r=e.firstChild(e.body(s))}}e.parent(s)&&e.replace(r,s),this.start.node=this.end.node=r,this.start.n=this.end.n=0}}}class qo extends ji{}class jo{constructor(t=null){const e=this.constructor;this.options=Ei(xi({},e.OPTIONS),t),this.init(),this.getPatterns()}init(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]}getPatterns(){const t=mi(this.options.skipHtmlTags),e=mi(this.options.ignoreHtmlClass),s=mi(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+t.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+e.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+s+")(?: |$)")}pushString(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]}extendString(t,e){this.snodes.push([t,e.length]),this.string+=e}handleText(t,e){return e||this.extendString(t,this.adaptor.value(t)),this.adaptor.next(t)}handleTag(t,e){if(!e){const e=this.options.includeHtmlTags[this.adaptor.kind(t)];e instanceof Function?this.extendString(t,e(t,this.adaptor)):this.extendString(t,e)}return this.adaptor.next(t)}handleContainer(t,e){this.pushString();const s=this.adaptor.getAttribute(t,"class")||"",r=this.adaptor.kind(t)||"",i=this.processHtmlClass.exec(s);let n=t;return!this.adaptor.firstChild(t)||this.adaptor.getAttribute(t,"data-MJX")||!i&&this.skipHtmlTags.exec(r)?n=this.adaptor.next(t):(this.adaptor.next(t)&&this.stack.push([this.adaptor.next(t),e]),n=this.adaptor.firstChild(t),e=(e||this.ignoreHtmlClass.exec(s))&&!i),[n,e]}handleOther(t,e){return this.pushString(),this.adaptor.next(t)}find(t){this.init();const e=this.adaptor.next(t);let s=!1;const r=this.options.includeHtmlTags;for(;t&&t!==e;){const e=this.adaptor.kind(t);"#text"===e?t=this.handleText(t,s):Object.hasOwn(r,e)?t=this.handleTag(t,s):e?[t,s]=this.handleContainer(t,s):t=this.handleOther(t,s),!t&&this.stack.length&&(this.pushString(),[t,s]=this.stack.pop())}this.pushString();const i=[this.strings,this.nodes];return this.init(),i}}jo.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","math","select","option","mjx-container"],includeHtmlTags:pi({br:"\n",wbr:"","#comment":""}),ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"},zi("STYLES",Gi.INSERTED+1);class Uo extends ko{constructor(t,e,s){const[r,i]=_i(s,jo.OPTIONS);super(t,e,r),this.domStrings=this.options.DomStrings||new jo(i),this.domStrings.adaptor=e,this.styles=[]}findPosition(t,e,s,r){const i=this.adaptor,n=1/(r[t].length||1);let o=t;for(const[a,c]of r[t]){if(e<=c&&"#text"===i.kind(a))return{i:o,node:a,n:Math.max(e,0),delim:s};e-=c,o+=n}return{node:null,n:0,delim:s}}mathItem(t,e,s){const r=t.math,i=this.findPosition(t.n,t.start.n,t.open,s),n=this.findPosition(t.n,t.end.n,t.close,s);return new this.options.MathItem(r,e,t.display,i,n)}findMath(t){if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,t=Ei({elements:this.options.elements||[this.adaptor.body(this.document)]},t);const e=this.adaptor.getElements(t.elements,this.document);for(const t of this.inputJax){const s=t.processStrings?this.findMathFromStrings(t,e):this.findMathFromDOM(t,e);this.math.merge(s)}this.processed.set("findMath")}return this}findMathFromStrings(t,e){const s=[],r=[];for(const t of e){const[e,i]=this.domStrings.find(t);s.push(...e),r.push(...i)}const i=new this.options.MathList;for(const e of t.findMath(s))i.push(this.mathItem(e,t,r));return i}findMathFromDOM(t,e){const s=[];for(const r of e)for(const e of t.findMath(r))s.push(new this.options.MathItem(e.math,t,e.display,e.start,e.end));return new this.options.MathList(...s)}updateDocument(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),super.updateDocument(),this.processed.set("updateDocument")),this}addPageElements(){const t=this.adaptor,e=t.body(this.document),s=this.documentPageElements();if(s){const r=t.firstChild(e);r?t.insert(s,r):t.append(e,s)}}addStyleSheet(){const t=this.documentStyleSheet(),e=this.adaptor;if(t&&!e.parent(t)){const s=e.head(this.document),r=this.findSheet(s,e.getAttribute(t,"id"));r?e.replace(t,r):e.append(s,t)}}findSheet(t,e){if(e)for(const s of this.adaptor.tags(t,"style"))if(this.adaptor.getAttribute(s,"id")===e)return s;return null}removeFromDocument(t=!1){if(this.processed.isSet("updateDocument"))for(const e of this.math)e.state()>=Gi.INSERTED&&e.state(Gi.TYPESET,t);return this.processed.clear("updateDocument"),this}documentStyleSheet(){return this.outputJax.styleSheet(this)}documentPageElements(){return this.outputJax.pageElements(this)}addStyles(t){this.styles.push(t),"insertStyles"in this.outputJax&&this.outputJax.insertStyles(t)}getStyles(){return this.styles}}Uo.KIND="HTML",Uo.OPTIONS=Object.assign(Object.assign({},ko.OPTIONS),{renderActions:pi(Object.assign(Object.assign({},ko.OPTIONS.renderActions),{styles:[Gi.STYLES,"","updateStyleSheet",!1]})),MathList:qo,MathItem:Fo,DomStrings:null});class Ho extends To{constructor(){super(...arguments),this.documentClass=Uo}handlesDocument(t){const e=this.adaptor;if("string"==typeof t)try{t=e.parse(t,"text/html")}catch(t){}return t instanceof e.window.Document||t instanceof e.window.HTMLElement||t instanceof e.window.DocumentFragment}create(t,e){const s=this.adaptor;if("string"==typeof t)t=s.parse(t,"text/html");else if(t instanceof s.window.HTMLElement||t instanceof s.window.DocumentFragment){const e=t;t=s.parse("","text/html"),s.append(s.body(t),e)}return super.create(t,e)}}function Go(t){const e=new Ho(t);return Bo.handlers.register(e),e}function zo(t){return Bo.asyncLoad?new Promise((e,s)=>{const r=Bo.asyncLoad(t);r instanceof Promise?r.then(t=>e(t)).catch(t=>s(t)):e(r)}):Promise.reject(`Can't load '${t}': No mathjax.asyncLoad method specified`)}const Wo=1e6,Vo={px:1,in:96,cm:96/2.54,mm:96/25.4},Xo={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},$o={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:Wo};function Jo(t,e=0,s=1,r=16){if("string"!=typeof t&&(t=String(t)),""===t||null==t)return e;if($o[t])return $o[t];const i=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!i||""===i[0])return e;const n=parseFloat(i[1]||"1"),o=i[2];return Object.hasOwn(Vo,o)?n*Vo[o]/r/s:Object.hasOwn(Xo,o)?n*Xo[o]:"%"===o?n/100*e:n*e}function Ko(t){return(100*t).toFixed(1).replace(/\.?0+$/,"")+"%"}function Yo(t){return Math.abs(t)<.001?"0":t.toFixed(3).replace(/\.?0+$/,"")+"em"}function Qo(t,e=-Wo,s=16){return t*=s,e&&t<e&&(t=e),Math.abs(t)<.1?"0":t.toFixed(1).replace(/\.0$/,"")+"px"}class Zo{static zero(){return new Zo({h:0,d:0,w:0})}static empty(){return new Zo}constructor(t={w:0,h:-Wo,d:-Wo}){this.w=t.w||0,this.h="h"in t?t.h:-Wo,this.d="d"in t?t.d:-Wo,this.L=this.R=this.ic=this.oc=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=""}empty(){return this.w=0,this.h=this.d=-Wo,this}clean(){this.w===-Wo&&(this.w=0),this.h===-Wo&&(this.h=0),this.d===-Wo&&(this.d=0)}rescale(t){this.w*=t,this.h*=t,this.d*=t}combine(t,e=0,s=0){const r=t.rscale,i=e+r*(t.w+t.L+t.R),n=s+r*t.h,o=r*t.d-s;i>this.w&&(this.w=i),n>this.h&&(this.h=n),o>this.d&&(this.d=o)}append(t){const e=t.rscale;this.w+=e*(t.w+t.L+t.R),e*t.h>this.h&&(this.h=e*t.h),e*t.d>this.d&&(this.d=e*t.d)}updateFrom(t){this.h=t.h,this.d=t.d,this.w=t.w,t.pwidth&&(this.pwidth=t.pwidth)}copy(){const t=new Zo;return Object.assign(t,this),t}}Zo.fullWidth="100%",Zo.boxSides=[["Top",0,"h"],["Right",1,"w"],["Bottom",2,"d"],["Left",3,"w"]];const ta={loadMissingEntities:!0},ea={ApplyFunction:"\u2061",Backslash:"\u2216",Because:"\u2235",Breve:"\u02d8",Cap:"\u22d2",CenterDot:"\xb7",CircleDot:"\u2299",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",Congruent:"\u2261",ContourIntegral:"\u222e",Coproduct:"\u2210",Cross:"\u2a2f",Cup:"\u22d3",CupCap:"\u224d",Dagger:"\u2021",Del:"\u2207",Delta:"\u0394",Diamond:"\u22c4",DifferentialD:"\u2146",DotEqual:"\u2250",DoubleDot:"\xa8",DoubleRightTee:"\u22a8",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",DownLeftVector:"\u21bd",DownRightVector:"\u21c1",DownTee:"\u22a4",Downarrow:"\u21d3",Element:"\u2208",EqualTilde:"\u2242",Equilibrium:"\u21cc",Exists:"\u2203",ExponentialE:"\u2147",FilledVerySmallSquare:"\u25aa",ForAll:"\u2200",Gamma:"\u0393",Gg:"\u22d9",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Hacek:"\u02c7",Hat:"^",HumpDownHump:"\u224e",HumpEqual:"\u224f",Im:"\u2111",ImaginaryI:"\u2148",Integral:"\u222b",Intersection:"\u22c2",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",Lambda:"\u039b",Larr:"\u219e",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",LeftArrowRightArrow:"\u21c6",LeftCeiling:"\u2308",LeftDownVector:"\u21c3",LeftFloor:"\u230a",LeftRightArrow:"\u2194",LeftTee:"\u22a3",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpVector:"\u21bf",LeftVector:"\u21bc",Leftarrow:"\u21d0",Leftrightarrow:"\u21d4",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",Ll:"\u22d8",Lleftarrow:"\u21da",LongLeftArrow:"\u27f5",LongLeftRightArrow:"\u27f7",LongRightArrow:"\u27f6",Longleftarrow:"\u27f8",Longleftrightarrow:"\u27fa",Longrightarrow:"\u27f9",Lsh:"\u21b0",MinusPlus:"\u2213",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotPrecedes:"\u2280",NotPrecedesSlantEqual:"\u22e0",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsSlantEqual:"\u22e1",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotVerticalBar:"\u2224",Omega:"\u03a9",OverBar:"\u203e",OverBrace:"\u23de",PartialD:"\u2202",Phi:"\u03a6",Pi:"\u03a0",PlusMinus:"\xb1",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",Product:"\u220f",Proportional:"\u221d",Psi:"\u03a8",Rarr:"\u21a0",Re:"\u211c",ReverseEquilibrium:"\u21cb",RightAngleBracket:"\u27e9",RightArrow:"\u2192",RightArrowLeftArrow:"\u21c4",RightCeiling:"\u2309",RightDownVector:"\u21c2",RightFloor:"\u230b",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpVector:"\u21be",RightVector:"\u21c0",Rightarrow:"\u21d2",Rrightarrow:"\u21db",Rsh:"\u21b1",Sigma:"\u03a3",SmallCircle:"\u2218",Sqrt:"\u221a",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",Star:"\u22c6",Subset:"\u22d0",SubsetEqual:"\u2286",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",SuchThat:"\u220b",Sum:"\u2211",Superset:"\u2283",SupersetEqual:"\u2287",Supset:"\u22d1",Therefore:"\u2234",Theta:"\u0398",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",UnderBar:"_",UnderBrace:"\u23df",Union:"\u22c3",UnionPlus:"\u228e",UpArrow:"\u2191",UpDownArrow:"\u2195",UpTee:"\u22a5",Uparrow:"\u21d1",Updownarrow:"\u21d5",Upsilon:"\u03a5",Vdash:"\u22a9",Vee:"\u22c1",VerticalBar:"\u2223",VerticalTilde:"\u2240",Vvdash:"\u22aa",Wedge:"\u22c0",Xi:"\u039e",amp:"&",acute:"\xb4",aleph:"\u2135",alpha:"\u03b1",amalg:"\u2a3f",and:"\u2227",ang:"\u2220",angmsd:"\u2221",angsph:"\u2222",ape:"\u224a",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",beta:"\u03b2",beth:"\u2136",between:"\u226c",bigcirc:"\u25ef",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",blacklozenge:"\u29eb",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",bowtie:"\u22c8",boxdl:"\u2510",boxdr:"\u250c",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxur:"\u2514",bsol:"\\",bull:"\u2022",cap:"\u2229",check:"\u2713",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledR:"\xae",circledS:"\u24c8",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",clubs:"\u2663",colon:":",comp:"\u2201",ctdot:"\u22ef",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cup:"\u222a",curarr:"\u21b7",curlyvee:"\u22ce",curlywedge:"\u22cf",dagger:"\u2020",daleth:"\u2138",ddarr:"\u21ca",deg:"\xb0",delta:"\u03b4",digamma:"\u03dd",div:"\xf7",divideontimes:"\u22c7",dot:"\u02d9",doteqdot:"\u2251",dotplus:"\u2214",dotsquare:"\u22a1",dtdot:"\u22f1",ecir:"\u2256",efDot:"\u2252",egs:"\u2a96",ell:"\u2113",els:"\u2a95",empty:"\u2205",epsi:"\u03b5",epsiv:"\u03f5",erDot:"\u2253",eta:"\u03b7",eth:"\xf0",flat:"\u266d",fork:"\u22d4",frown:"\u2322",gEl:"\u2a8c",gamma:"\u03b3",gap:"\u2a86",gimel:"\u2137",gnE:"\u2269",gnap:"\u2a8a",gne:"\u2a88",gnsim:"\u22e7",gt:">",gtdot:"\u22d7",harrw:"\u21ad",hbar:"\u210f",hellip:"\u2026",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",imath:"\u0131",infin:"\u221e",intcal:"\u22ba",iota:"\u03b9",jmath:"\u0237",kappa:"\u03ba",kappav:"\u03f0",lEg:"\u2a8b",lambda:"\u03bb",lap:"\u2a85",larrlp:"\u21ab",larrtl:"\u21a2",lbrace:"{",lbrack:"[",le:"\u2264",leftleftarrows:"\u21c7",leftthreetimes:"\u22cb",lessdot:"\u22d6",lmoust:"\u23b0",lnE:"\u2268",lnap:"\u2a89",lne:"\u2a87",lnsim:"\u22e6",longmapsto:"\u27fc",looparrowright:"\u21ac",lowast:"\u2217",loz:"\u25ca",lt:"<",ltimes:"\u22c9",ltri:"\u25c3",macr:"\xaf",malt:"\u2720",mho:"\u2127",mu:"\u03bc",multimap:"\u22b8",nLeftarrow:"\u21cd",nLeftrightarrow:"\u21ce",nRightarrow:"\u21cf",nVDash:"\u22af",nVdash:"\u22ae",natur:"\u266e",nearr:"\u2197",nharr:"\u21ae",nlarr:"\u219a",not:"\xac",nrarr:"\u219b",nu:"\u03bd",nvDash:"\u22ad",nvdash:"\u22ac",nwarr:"\u2196",omega:"\u03c9",omicron:"\u03bf",or:"\u2228",osol:"\u2298",period:".",phi:"\u03c6",phiv:"\u03d5",pi:"\u03c0",piv:"\u03d6",prap:"\u2ab7",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",prime:"\u2032",psi:"\u03c8",quot:'"',rarrtl:"\u21a3",rbrace:"}",rbrack:"]",rho:"\u03c1",rhov:"\u03f1",rightrightarrows:"\u21c9",rightthreetimes:"\u22cc",ring:"\u02da",rmoust:"\u23b1",rtimes:"\u22ca",rtri:"\u25b9",scap:"\u2ab8",scnE:"\u2ab6",scnap:"\u2aba",scnsim:"\u22e9",sdot:"\u22c5",searr:"\u2198",sect:"\xa7",sharp:"\u266f",sigma:"\u03c3",sigmav:"\u03c2",simne:"\u2246",smile:"\u2323",spades:"\u2660",sub:"\u2282",subE:"\u2ac5",subnE:"\u2acb",subne:"\u228a",supE:"\u2ac6",supnE:"\u2acc",supne:"\u228b",swarr:"\u2199",tau:"\u03c4",theta:"\u03b8",thetav:"\u03d1",tilde:"\u02dc",times:"\xd7",triangle:"\u25b5",triangleq:"\u225c",upsi:"\u03c5",upuparrows:"\u21c8",veebar:"\u22bb",vellip:"\u22ee",weierp:"\u2118",xi:"\u03be",yen:"\xa5",zeta:"\u03b6",zigrarr:"\u21dd",nbsp:"\xa0",rsquo:"\u2019",lsquo:"\u2018"},sa={};function ra(t,e){Object.assign(ea,t),sa[e]=!0}function ia(t){delete ea[t]}function na(t){return t.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,oa)}function oa(t,e){if("#"===e.charAt(0))return aa(e.slice(1));if(ea[e])return ea[e];if(ta.loadMissingEntities){const t=e.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:e.charAt(0).toLowerCase();sa[t]||(sa[t]=!0,xo(zo("./util/entities/"+t+".js")))}return t}function aa(t){const e="x"===t.charAt(0)?parseInt(t.slice(1),16):parseInt(t);return String.fromCodePoint(e)}class ca{get cssText(){return this.getStyleString()}constructor(t=null){this.styles={},this.addStyles(t)}addStyles(t){if(t)for(const e of Object.keys(t))this.styles[e]||(this.styles[e]={}),Object.assign(this.styles[e],t[e])}removeStyles(...t){for(const e of t)delete this.styles[e]}clear(){this.styles={}}getStyleString(){return this.getStyleRules().join("\n\n")}getStyleRules(){const t=Object.keys(this.styles),e=new Array(t.length);let s=0;for(const r of t)e[s++]=r+" {\n"+this.getStyleDefString(this.styles[r])+"\n}";return e}getStyleDefString(t){const e=Object.keys(t),s=new Array(e.length);let r=0;for(const i of e)s[r++]="  "+i+": "+t[i]+";";return s.join("\n")}}const la=["top","right","bottom","left"],ha=["width","style","color"];function da(t){const e=t.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),s=[];for(;e.length>1;)e.shift(),s.push(e.shift());return s}function ua(t){const e=da(this.styles[t]);0===e.length&&e.push(""),1===e.length&&e.push(e[0]),2===e.length&&e.push(e[0]),3===e.length&&e.push(e[1]);for(const s of Ea.connect[t].children)this.setStyle(this.childName(t,s),e.shift())}const pa=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,ma=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function fa(t){const e={width:"",style:"",color:""};for(const s of da(this.styles[t]))s.match(pa)&&""===e.width?e.width=s:s.match(ma)&&""===e.style?e.style=s:e.color=s;for(const s of Ea.connect[t].children)this.setStyle(this.childName(t,s),e[s])}function ga(t){const e=[];for(const s of Ea.connect[t].children){const r=this.styles[this.childName(t,s)];r&&e.push(r)}e.length?this.styles[t]=e.join(" "):delete this.styles[t]}const ba={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[\\d.]+%|[\\d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[\\d.]+(?:%|[a-z]+)?))?$")};function xa(t,e){for(const s of Ea.connect[t].children){const r=this.childName(t,s);if(Array.isArray(e[s])){const t=e[s];t.length&&(this.styles[r]=t.join(" "))}else""!==e[s]&&(this.styles[r]=e[s])}}class Ea{constructor(t=""){this.parse(t)}sanitizeValue(t){const e=this.constructor.pattern;if(!t.match(e.sanitize))return t;const s=(t=t.replace(e.value,"$1")).replace(/\\./g,"").replace(/(['"]).*?\1/g,"").replace(/[^'"]/g,"");return s.length&&(t+=s.charAt(0)),t}get cssText(){var t,e;const s=[];for(const r of Object.keys(this.styles)){const i=this.parentName(r),n=r.replace(/.*-/,"");this.styles[i]&&(null===(e=null===(t=Ea.connect[i])||void 0===t?void 0:t.children)||void 0===e?void 0:e.includes(n))||s.push(`${r}: ${this.styles[r]};`)}return s.join(" ")}get styleList(){return Object.assign({},this.styles)}set(t,e){var s,r;for(t=this.normalizeName(t),this.setStyle(t,String(e)),Ea.connect[t]&&!Ea.connect[t].combine&&(this.combineChildren(t),delete this.styles[t]);t.match(/-/);){const e=t;if(t=this.parentName(t),!Ea.connect[e]&&!(null===(r=null===(s=Ea.connect[t])||void 0===s?void 0:s.children)||void 0===r?void 0:r.includes(e.substring(t.length+1))))break;Ea.connect[t].combine.call(this,t)}}get(t){return t=this.normalizeName(t),Object.hasOwn(this.styles,t)?this.styles[t]:""}setStyle(t,e){this.styles[t]=this.sanitizeValue(e),Ea.connect[t]&&Ea.connect[t].children&&Ea.connect[t].split.call(this,t),""===e&&delete this.styles[t]}combineChildren(t){const e=this.parentName(t);for(const s of Ea.connect[t].children){const t=this.childName(e,s);Ea.connect[t].combine.call(this,t)}}parentName(t){const e=t.replace(/-[^-]*$/,"");return t===e?"":e}childName(t,e){return e.match(/-/)?e:(Ea.connect[t]&&!Ea.connect[t].combine&&(e+=t.replace(/.*-/,"-"),t=this.parentName(t)),t+"-"+e)}normalizeName(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}parse(t=""){const e=this.constructor.pattern;this.styles={};const s=t.replace(/\n/g," ").replace(e.comment,"").split(e.style);for(;s.length>1;){const[t,e,r]=s.splice(0,3);if(t.match(/[^\s\n;]/))return;this.set(e,r)}}}function ya(t){return t.reduce((t,e)=>t+e,0)}function Na(t){return t.reduce((t,e)=>Math.max(t,e),0)}if(Ea.pattern={sanitize:/['";]/,value:/^((:?'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$).*/,style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},Ea.connect={padding:{children:la,split:ua,combine:function(t){const e=Ea.connect[t].children,s=[];for(const r of e){const e=this.styles[t+"-"+r];if(!e)return void delete this.styles[t];s.push(e)}s[3]===s[1]&&(s.pop(),s[2]===s[0]&&(s.pop(),s[1]===s[0]&&s.pop())),this.styles[t]=s.join(" ")}},border:{children:la,split:function(t){for(const e of Ea.connect[t].children)this.setStyle(this.childName(t,e),this.styles[t])},combine:function(t){const e=[...Ea.connect[t].children],s=this.styles[this.childName(t,e.shift())];for(const r of e)if(this.styles[this.childName(t,r)]!==s)return void delete this.styles[t];this.styles[t]=s}},"border-top":{children:ha,split:fa,combine:ga},"border-right":{children:ha,split:fa,combine:ga},"border-bottom":{children:ha,split:fa,combine:ga},"border-left":{children:ha,split:fa,combine:ga},"border-width":{children:la,split:ua,combine:null},"border-style":{children:la,split:ua,combine:null},"border-color":{children:la,split:ua,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:function(t){const e=da(this.styles[t]),s={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};for(const t of e){s.family||(s.family=t);for(const e of Object.keys(ba))if((Array.isArray(s[e])||""===s[e])&&t.match(ba[e]))if(s.family===t&&(s.family=""),"size"===e){const[r,i]=t.split(/\//);s[e]=r,i&&(s["line-height"]=i)}else""===s.size&&(Array.isArray(s[e])?s[e].push(t):""===s[e]&&(s[e]=t))}xa.call(this,t,s),delete this.styles[t]},combine:function(t){}}},MathJax.loader&&MathJax.loader.checkVersion("core",jr,"core"),Vr({_:{adaptors:{HTMLAdaptor:l,browserAdaptor:h},components:{global:t},core:{DOMAdaptor:c,FindMath:d,Handler:ot,HandlerList:at,InputJax:u,MathDocument:nt,MathItem:g,MathList:f,MmlTree:{Attributes:E,MML:et,MathMLVisitor:ht,MmlFactory:st,MmlNode:N,MmlNodes:{HtmlNode:tt,TeXAtom:Q,maction:U,maligngroup:$,malignmark:J,math:_,mathchoice:Z,menclose:j,merror:D,mfenced:q,mfrac:I,mglyph:K,mi:v,mmultiscripts:z,mn:w,mo:A,mpadded:B,mphantom:F,mroot:O,mrow:L,ms:S,mspace:M,msqrt:R,mstyle:P,msubsup:H,mtable:W,mtd:X,mtext:T,mtr:V,munderover:G,semantics:Y},MmlVisitor:lt,OperatorDictionary:C,SerializedMmlVisitor:dt},OutputJax:p,Tree:{Factory:b,Node:y,NodeFactory:x,Visitor:ct,Wrapper:ut,WrapperFactory:pt}},handlers:{html_ts:yt,html:{HTMLDocument:xt,HTMLDomStrings:bt,HTMLHandler:Et,HTMLMathItem:ft,HTMLMathList:gt}},mathjax:mt,util:{AsyncLoad:Nt,BBox:vt,BitField:rt,Entities:wt,FunctionList:i,LinkedList:m,Options:o,PrioritizedList:r,Retries:it,StyleJson:Ct,Styles:kt,context:e,lengths:_t,numeric:At,string:k}}}),MathJax.startup&&(MathJax.startup.registerConstructor("HTMLHandler",Ho),MathJax.startup.registerConstructor("browserAdaptor",Ri),MathJax.startup.useHandler("HTMLHandler"),MathJax.startup.useAdaptor("browserAdaptor")),MathJax.loader){const t=MathJax.config.loader;MathJax._.mathjax.mathjax.asyncLoad=e=>"node:"===e.substring(0,5)?t.require(e):MathJax.loader.load(e).then(t=>t[0])}const _a="http://www.w3.org/1998/Math/MathML";class va extends Oi{findMath(t){const e=new Set;this.findMathNodes(t,e),this.findMathPrefixed(t,e);const s=this.adaptor.root(this.adaptor.document);return"html"===this.adaptor.kind(s)&&0===e.size&&this.findMathNS(t,e),this.processMath(e)}findMathNodes(t,e){for(const s of this.adaptor.tags(t,"math"))e.add(s)}findMathPrefixed(t,e){const s=this.adaptor.root(this.adaptor.document);for(const r of this.adaptor.allAttributes(s))if("xmlns:"===r.name.substring(0,6)&&r.value===_a){const s=r.name.substring(6);for(const r of this.adaptor.tags(t,s+":math"))e.add(r)}}findMathNS(t,e){for(const s of this.adaptor.tags(t,"math",_a))e.add(s)}processMath(t){const e=this.adaptor,s=[];for(const r of t.values()){if("mjx-assistive-mml"===e.kind(e.parent(r)))continue;const t="block"===e.getAttribute(r,"display")||"display"===e.getAttribute(r,"mode"),i={node:r,n:0,delim:""},n={node:r,n:0,delim:""};s.push({math:e.outerHTML(r),start:i,end:n,display:t})}return s}}va.OPTIONS={};class wa{constructor(t={}){const e=this.constructor;this.options=Ei(xi({},e.OPTIONS),t)}setMmlFactory(t){this.factory=t}compile(t){const e=this.makeNode(t);return e.verifyTree(this.options.verify),e.setInheritedAttributes({},!1,0,!1),e.walkTree(this.markMrows),e}makeNode(t){const e=this.adaptor;let s=!1;const r=e.kind(t).replace(/^.*:/,"");let i=e.getAttribute(t,"data-mjx-texclass")||"";i&&(i=this.filterAttribute("data-mjx-texclass",i)||"");let n=i&&"mrow"===r?"TeXAtom":r;for(const o of this.filterClassList(e.allClasses(t)))o.match(/^MJX-TeXAtom-/)&&"mrow"===r?(i=o.substring(12),n="TeXAtom"):"MJX-fixedlimits"===o&&(s=!0);return this.factory.getNodeClass(n)?this.createMml(n,t,i,s):this.unknownNode(n,t)}createMml(t,e,s,r){const i=this.factory.create(t);return"TeXAtom"!==t||"OP"!==s||r||(i.setProperty("movesupsub",!0),i.attributes.setInherited("movablelimits",!0)),s&&(i.texClass=Yi[s],i.setProperty("texClass",i.texClass)),this.addAttributes(i,e),this.checkClass(i,e),this.addChildren(i,e),i}unknownNode(t,e){return this.factory.getNodeClass("html")&&this.options.allowHtmlInTokenNodes?this.factory.create("html").setHTML(e,this.adaptor):(this.error('Unknown node type "'+t+'"'),null)}addAttributes(t,e){let s=!1;for(const r of this.adaptor.allAttributes(e)){const e=r.name,i=this.filterAttribute(e,r.value);if(null!==i&&"xmlns"!==e)if("data-mjx-"===e.substring(0,9))switch(e.substring(9)){case"alternate":t.setProperty("variantForm",!0);break;case"variant":t.attributes.set("mathvariant",i),t.setProperty("ignore-variant",!0),s=!0;break;case"smallmatrix":t.setProperty("smallmatrix",!0),t.setProperty("useHeight",!1);break;case"mathaccent":t.setProperty("mathaccent","true"===i);break;case"auto-op":t.setProperty("autoOP","true"===i);break;case"script-align":t.setProperty("scriptalign",i);break;case"vbox":t.setProperty("vbox",i);break;default:t.attributes.set(e,i)}else if("class"!==e){const r=i.toLowerCase();"true"===r||"false"===r?t.attributes.set(e,"true"===r):s&&"mathvariant"===e||t.attributes.set(e,i)}}}filterAttribute(t,e){return e}filterClassList(t){return t}addChildren(t,e){if(0===t.arity)return;const s=this.adaptor;for(const r of s.childNodes(e)){const e=s.kind(r);if("#comment"!==e)if("#text"===e)this.addText(t,r);else if(t.isKind("annotation-xml"))t.appendChild(this.factory.create("XML").setXML(r,s));else{const e=t.appendChild(this.makeNode(r));0===e.arity&&s.childNodes(r).length&&!e.isKind("html")&&(this.options.fixMisplacedChildren?this.addChildren(t,r):e.mError("There should not be children for "+e.kind+" nodes",this.options.verify,!0))}}t.isToken&&this.trimSpace(t)}addText(t,e){let s=this.adaptor.value(e);(t.isToken||t.getProperty("isChars"))&&t.arity?(t.isToken&&(s=na(s),s=this.normalizeSpace(s)),t.appendChild(this.factory.create("text").setText(s))):s.match(/\S/)&&this.error('Unexpected text node "'+s+'"')}checkClass(t,e){const s=[];for(const r of this.filterClassList(this.adaptor.allClasses(e)))"MJX-"===r.substring(0,4)?"MJX-variant"===r?t.setProperty("variantForm",!0):"MJX-TeXAtom"!==r.substring(0,11)&&t.attributes.set("mathvariant",this.fixCalligraphic(r.substring(3))):s.push(r);s.length&&t.attributes.set("class",s.join(" "))}fixCalligraphic(t){return t.replace(/caligraphic/,"calligraphic")}markMrows(t){if(t.isKind("mrow")&&!t.isInferred&&t.childNodes.length>=2){const e=t.childNodes[0],s=t.childNodes[t.childNodes.length-1];e.isKind("mo")&&e.attributes.get("fence")&&e.attributes.get("stretchy")&&s.isKind("mo")&&s.attributes.get("fence")&&s.attributes.get("stretchy")&&(e.childNodes.length&&t.setProperty("open",e.getText()),s.childNodes.length&&t.setProperty("close",s.getText()))}}normalizeSpace(t){return t.replace(/[\t\n\r]/g," ").replace(/  +/g," ")}trimSpace(t){let e=t.childNodes[0];e&&(e.isKind("text")&&e.setText(e.getText().replace(/^ +/,"")),e=t.childNodes[t.childNodes.length-1],e.isKind("text")&&e.setText(e.getText().replace(/ +$/,"")))}error(t){throw new Error(t)}}wa.OPTIONS={MmlFactory:null,allowHtmlInTokenNodes:!1,fixMisplacedChildren:!0,verify:Object.assign({},rn.verifyDefaults),translateEntities:!0};class Ca extends Pi{constructor(t={}){const[e,s,r]=_i(t,va.OPTIONS,wa.OPTIONS);super(e),this.findMathML=this.options.FindMathML||new va(s),this.mathml=this.options.MathMLCompile||new wa(r),this.mmlFilters=new Zr(this.options.mmlFilters)}setAdaptor(t){super.setAdaptor(t),this.findMathML.adaptor=t,this.mathml.adaptor=t}setMmlFactory(t){super.setMmlFactory(t),this.mathml.setMmlFactory(t)}get processStrings(){return!1}compile(t,e){let s=t.start.node;if(!s||!t.end.node||this.options.forceReparse||"#text"===this.adaptor.kind(s)){let r=this.executeFilters(this.preFilters,t,e,(t.math||"<math></math>").trim());"html"===this.options.parseAs&&(r=`<html><head></head><body>${r}</body></html>`);const i=this.checkForErrors(this.adaptor.parse(r,"text/"+this.options.parseAs)),n=this.adaptor.body(i);1!==this.adaptor.childNodes(n).length&&this.error("MathML must consist of a single element"),s=this.adaptor.remove(this.adaptor.firstChild(n)),"math"!==this.adaptor.kind(s).replace(/^[a-z]+:/,"")&&this.error("MathML must be formed by a <math> element, not <"+this.adaptor.kind(s)+">")}s=this.executeFilters(this.mmlFilters,t,e,s);let r=this.mathml.compile(s);return r=this.executeFilters(this.postFilters,t,e,r),t.display="block"===r.attributes.get("display"),r}checkForErrors(t){const e=this.adaptor.tags(this.adaptor.body(t),"parsererror")[0];return e&&(""===this.adaptor.textContent(e)&&this.error("Error processing MathML"),this.options.parseError.call(this,e)),t}error(t){throw new Error(t)}findMath(t){return this.findMathML.findMath(t)}}Ca.NAME="MathML",Ca.OPTIONS=xi({parseAs:"html",forceReparse:!1,mmlFilters:[],FindMathML:null,MathMLCompile:null,parseError:function(t){this.error(this.adaptor.textContent(t).replace(/\n.*/g,""))}},Pi.OPTIONS),MathJax.loader&&MathJax.loader.checkVersion("input/mml",jr,"input"),Vr({_:{input:{mathml_ts:St,mathml:{FindMathML:Tt,MathMLCompile:Mt}}}}),MathJax.loader&&MathJax.loader.pathFilters.add(t=>(t.name=t.name.replace(/\/util\/entities\/.*?\.js/,"/input/mml/entities.js"),!0)),MathJax.startup&&(MathJax.startup.registerConstructor("mml",Ca),MathJax.startup.useInput("mml"));const ka={None:"",Vertical:"v",Horizontal:"h"},Aa=ka.Vertical,Ta=ka.Horizontal;var Ma=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};const Sa={dir:ka.None};function La(t,e,s){return s?xi(t,{[e]:s})[e]:t[e]}class Ia{get CLASS(){return this.constructor}static charOptions(t,e){const s=t[e];if(!Array.isArray(s))throw Error(`Character data hasn't been loaded for 0x${e.toString(16).toUpperCase()}`);return 3===s.length&&(s[3]={}),s[3]}static defineDynamicFiles(t,e=""){const s={};return(t||[]).forEach(([t,r,i])=>{s[t]={extension:e,file:t,variants:r,delimiters:i||[],promise:null,failed:!1,setup:e=>{s[t].failed=!0}}}),s}static dynamicSetup(t,e,s,r={},i=null){const n=t?this.dynamicExtensions.get(t):null;(t?n.files:this.dynamicFiles)[e].setup=e=>{Object.keys(s).forEach(t=>e.defineChars(t,s[t])),e.defineDelimiters(r),t&&this.adjustDelimiters(e.delimiters,Object.keys(r),n.sizeN,n.stretchN),i&&e.addDynamicFontCss(i)}}static adjustDelimiters(t,e,s,r){e.forEach(e=>{const i=t[parseInt(e)];"dir"in i&&(i.variants&&(i.variants=this.adjustArrayIndices(i.variants,s)),i.stretchv&&(i.stretchv=this.adjustArrayIndices(i.stretchv,r)))})}static adjustArrayIndices(t,e){return t.map(t=>t<0?e-1-t:t)}static addExtension(t,e=""){const s={name:t.name,prefix:e||`[${t.name}-extension]/${this.JAX.toLowerCase()}/dynamic`,files:this.defineDynamicFiles(t.ranges,t.name),sizeN:this.defaultSizeVariants.length,stretchN:this.defaultStretchVariants.length};this.dynamicExtensions.set(t.name,s);for(const[e,s]of[["options","OPTIONS"],["variants","defaultVariants"],["variantSmp","VariantSmp"],["cssFonts","defaultCssFonts"],["accentMap","defaultAccentMap"],["moMap","defaultMoMap"],["mnMap","defaultMnMap"],["parameters","defaultParams"],["chars","defaultChars"],["sizeVariants","defaultSizeVariants"],["stretchVariants","defaultStretchVariants"]])La(this,s,t[e]);t.delimiters&&(Object.assign(this.defaultDelimiters,t.delimiters),this.adjustDelimiters(this.defaultDelimiters,Object.keys(t.delimiters),s.sizeN,s.stretchN))}constructor(t=null){this.variant={},this.delimiters={},this.cssFontMap={},this.cssFontPrefix="",this.remapChars={},this.skewIcFactor=.75;const e=this.CLASS;this.options=Ei(xi({},e.OPTIONS),t),this.params=Object.assign({},e.defaultParams),this.sizeVariants=[...e.defaultSizeVariants],this.stretchVariants=[...e.defaultStretchVariants],this.defineCssFonts(e.defaultCssFonts),this.cssFamilyPrefix=e.defaultCssFamilyPrefix,this.createVariants(e.defaultVariants),this.defineDelimiters(e.defaultDelimiters),Object.keys(e.defaultChars).forEach(t=>this.defineChars(t,e.defaultChars[t])),this.defineRemap("accent",e.defaultAccentMap),this.defineRemap("mo",e.defaultMoMap),this.defineRemap("mn",e.defaultMnMap),this.defineDynamicCharacters(e.dynamicFiles),e.dynamicExtensions.forEach(t=>this.defineDynamicCharacters(t.files))}setOptions(t){xi(this.options,t)}addExtension(t,e=""){const s=this.constructor.JAX.toLowerCase(),r={name:t.name,prefix:e||`[${t.name}-extension]/${s}/dynamic`,files:this.CLASS.defineDynamicFiles(t.ranges,e),sizeN:this.sizeVariants.length,stretchN:this.stretchVariants.length};this.CLASS.dynamicExtensions.set(t.name,r),xi(this.options,t.options||{}),xi(this.params,t.parameters||{}),La(this,"sizeVariants",t.sizeVariants),La(this,"stretchVariants",t.stretchVariants),La(this.constructor,"VariantSmp",t.variantSmp),this.defineCssFonts(La({cssFonts:{}},"cssFonts",t.cssFonts)),this.createVariants(La({variants:[]},"variants",t.variants)),t.delimiters&&(this.defineDelimiters(La({delimiters:{}},"delimiters",t.delimiters)),this.CLASS.adjustDelimiters(this.delimiters,Object.keys(t.delimiters),r.sizeN,r.stretchN));for(const e of Object.keys(t.chars||{}))this.defineChars(e,t.chars[e]);return this.defineRemap("accent",t.accentMap),this.defineRemap("mo",t.moMap),this.defineRemap("mn",t.mnMap),t.ranges&&this.defineDynamicCharacters(r.files),[]}get styles(){return this._styles}set styles(t){this._styles=t}createVariant(t,e=null,s=null){const r={linked:[],chars:Object.create(e?this.variant[e].chars:{})};this.variant[s]&&(Object.assign(r.chars,this.variant[s].chars),this.variant[s].linked.push(r.chars),r.chars=Object.create(r.chars)),this.remapSmpChars(r.chars,t),this.variant[t]=r}remapSmpChars(t,e){const s=this.CLASS;let r=s.VariantSmp[e];if("string"==typeof r&&(r=s.VariantSmp[r]),!r)return;const i=s.SmpRemap,n=[null,null,s.SmpRemapGreekU,s.SmpRemapGreekL];for(const[e,o,a]of s.SmpRanges){const s=r[e];if(s){for(let e=o;e<=a;e++){if(930===e)continue;const r=s+e-o;t[e]=this.smpChar(i[r]||r)}if(n[e])for(const r of Object.keys(n[e]).map(t=>parseInt(t)))t[r]=this.smpChar(s+n[e][r])}}const o=r[5]||{};for(const e of Object.keys(o))t[e]=this.smpChar(r[5][e])}smpChar(t){return[,,,{smp:t}]}createVariants(t){for(const e of t)this.createVariant(e[0],e[1],e[2])}defineChars(t,e){const s=this.variant[t];Object.assign(s.chars,e);for(const t of s.linked)Object.assign(t,e)}defineCssFonts(t){Object.assign(this.cssFontMap,t);for(const e of Object.keys(t))"unknown"===this.cssFontMap[e][0]&&(this.cssFontMap[e][0]=this.options.unknownFamily)}defineDelimiters(t){Object.assign(this.delimiters,t)}defineRemap(t,e){e&&(Object.hasOwn(this.remapChars,t)||(this.remapChars[t]={}),Object.assign(this.remapChars[t],e))}defineDynamicCharacters(t){for(const e of Object.keys(t)){const s=t[e];for(const t of Object.keys(s.variants))this.defineChars(t,this.flattenRanges(s.variants[t],s));this.defineDelimiters(this.flattenRanges(s.delimiters,s))}}flattenRanges(t,e){const s={};for(const r of t)if(Array.isArray(r))for(let t=r[0];t<=r[1];t++)s[t]=e;else s[r]=e;return s}dynamicFileName(t){const e=t.extension?this.CLASS.dynamicExtensions.get(t.extension).prefix:this.options.dynamicPrefix;return t.file.match(/^(?:[/[]|[a-z]+:\/\/|[a-z]:)/i)?t.file:e+"/"+t.file.replace(/(\.js)?$/,".js")}loadDynamicFile(t){return Ma(this,void 0,void 0,function*(){return t.failed?Promise.reject(new Error(`dynamic file '${t.file}' failed to load`)):(t.promise||(t.promise=zo(this.dynamicFileName(t)).catch(e=>{t.failed=!0,console.warn(e)})),t.promise.then(()=>t.setup(this)))})}loadDynamicFiles(){const t=this.CLASS.dynamicFiles,e=Object.keys(t).map(e=>this.loadDynamicFile(t[e]));for(const t of this.CLASS.dynamicExtensions.values())e.push(...Object.keys(t.files).map(e=>this.loadDynamicFile(t.files[e])));return Promise.all(e)}loadDynamicFilesSync(){if(!Bo.asyncIsSynchronous)throw Error("MathJax(loadDynamicFilesSync): mathjax.asyncLoad must be specified and synchronous\n    Try importing #js/../components/require.mjs and #js/util/asyncLoad/node.js");const t=this.CLASS.dynamicFiles;Object.keys(t).forEach(e=>this.loadDynamicFileSync(t[e]));for(const t of this.CLASS.dynamicExtensions.values())Object.keys(t.files).forEach(e=>this.loadDynamicFileSync(t.files[e]))}loadDynamicFileSync(t){if(!t.promise){t.promise=Promise.resolve();try{Bo.asyncLoad(this.dynamicFileName(t))}catch(e){t.failed=!0,console.warn(e)}t.setup(this)}}addDynamicFontCss(t,e){}getDelimiter(t){const e=this.delimiters[t];return e&&!("dir"in e)?(this.delimiters[t]=null,xo(this.loadDynamicFile(e)),null):e}getSizeVariant(t,e){const s=this.getDelimiter(t);return s&&s.variants&&(e=s.variants[e]),this.sizeVariants[e]}getStretchVariant(t,e){const s=this.getDelimiter(t);return this.stretchVariants[s.stretchv?s.stretchv[e]:0]}getStretchVariants(t){return[0,1,2,3].map(e=>this.getStretchVariant(t,e))}getChar(t,e){const s=this.variant[t].chars[e];if(s&&!Array.isArray(s)){const r=this.variant[t];return delete r.chars[e],r.linked.forEach(t=>delete t[e]),xo(this.loadDynamicFile(s)),null}return s}getVariant(t){return this.variant[t]}getCssFont(t){return this.cssFontMap[t]||["serif",!1,!1]}getFamily(t){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+t:t}getRemappedChar(t,e){return(this.remapChars[t]||{})[e]}}Ia.OPTIONS={unknownFamily:"serif",dynamicPrefix:"."},Ia.JAX="common",Ia.NAME="",Ia.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"],["-smallop","normal"],["-largeop","normal"],["-tex-calligraphic","italic"],["-tex-bold-calligraphic","bold-italic"],["-tex-oldstyle","normal"],["-tex-bold-oldstyle","bold"],["-tex-mathit","italic"],["-tex-variant","normal"]],Ia.defaultCssFonts={normal:["unknown",!1,!1],bold:["unknown",!1,!0],italic:["unknown",!0,!1],"bold-italic":["unknown",!0,!0],"double-struck":["unknown",!1,!0],fraktur:["unknown",!1,!1],"bold-fraktur":["unknown",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1],"-smallop":["unknown",!1,!1],"-largeop":["unknown",!1,!1],"-tex-calligraphic":["cursive",!0,!1],"-tex-bold-calligraphic":["cursive",!0,!0],"-tex-oldstyle":["unknown",!1,!1],"-tex-bold-oldstyle":["unknown",!1,!0],"-tex-mathit":["unknown",!0,!1],"-tex-variant":["unknown",!1,!1]},Ia.defaultCssFamilyPrefix="",Ia.VariantSmp={bold:[119808,119834,120488,120514,120782,{988:120778,989:120779}],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},Ia.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],Ia.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ia.SmpRemapGreekU={8711:25,1012:17},Ia.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},Ia.defaultAccentMap={94:"\u02c6",126:"\u02dc",768:"\u02cb",769:"\u02ca",770:"\u02c6",771:"\u02dc",772:"\u02c9",774:"\u02d8",775:"\u02d9",776:"\xa8",778:"\u02da",780:"\u02c7",8594:"\u20d7"},Ia.defaultMoMap={45:"\u2212"},Ia.defaultMnMap={45:"\u2212"},Ia.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.06,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,rule_factor:1.25,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033,extender_factor:.333},Ia.defaultDelimiters={},Ia.defaultChars={},Ia.defaultSizeVariants=[],Ia.defaultStretchVariants=[],Ia.dynamicFiles={},Ia.dynamicExtensions=new Map;class Ra extends Zo{static from(t,e,s=null){const r=new this;return Object.assign(r,t),r.lineLeading=e,s&&(r.indentData=s),r}constructor(t,e=null){super(t),this.indentData=null,this.isFirst=!1,this.originalL=this.L,e&&(this.start=e)}append(t){this.isFirst&&(t.originalL+=t.L,t.L=0),t.indentData&&(this.indentData=t.indentData),this.lineLeading=t.lineLeading,super.append(t),this.isFirst=t.isFirst}copy(){const t=Ra.from(this,this.lineLeading);return t.indentData=this.indentData,t.lineLeading=this.lineLeading,t}getIndentData(t){let{indentalign:e,indentshift:s,indentalignfirst:r,indentshiftfirst:i,indentalignlast:n,indentshiftlast:o}=t.attributes.getAllAttributes();"indentalign"===r&&(r=t.attributes.getInherited("indentalign")),"indentshift"===i&&(i=t.attributes.getInherited("indentshift")),"indentalign"===n&&(n=e),"indentshift"===o&&(o=s),this.indentData=[[r,i],[e,s],[n,o]]}copyIndentData(t){return t.indentData.map(([t,e])=>[t,e])}}const Oa=1e6;class Pa extends So{breakToWidth(t,e){}}class Da extends Pa{constructor(){super(...arguments),this.PENALTY={newline:t=>0,nobreak:t=>Oa,goodbreak:t=>t-200*this.state.depth,badbreak:t=>t+200*this.state.depth,auto:t=>t},this.FACTORS={depth:t=>t+800*this.state.depth,width:t=>t+Math.floor((this.state.width-this.state.w)/this.state.width*2500),tail:t=>t+Math.floor(this.state.width/Math.max(1e-4,this.state.mathLeft-this.state.w)*500),open:(t,e)=>{const s=e.node.prevClass;if(s===Yi.BIN||s===Yi.REL||s===Yi.OP)return t+5e3;const r=this.getPrevious(e);if(r&&("postfix"!==r.attributes.get("form")||"nobreak"===r.attributes.get("linebreak")))return t+5e3;const i=e.node.Parent;if((null==i?void 0:i.isKind("mmultiscripts"))&&e.node===this.getFirstToken(i)){if(!!i.childNodes.filter(t=>t.isKind("mprescripts")).length)return Oa}return t-500},close:(t,e)=>{var s;const r=e.node.Parent;return!(null==r?void 0:r.isKind("msubsup"))||r.isKind("mmultiscripts")&&(null===(s=r.childNodes[1])||void 0===s?void 0:s.isKind("mprescripts"))||e.node!==this.getLastToken(r.childNodes[0])?t+500:Oa},space:(t,e)=>{const s=e;if(!s.canBreak)return Oa;const r=s.getBBox().w;return r<0?Oa:r<1?t:t-100*(r+4)},separator:t=>t+500,fuzz:t=>.99*t},this.TEXCLASS={[Yi.BIN]:t=>t-250,[Yi.REL]:t=>t-500}}breakToWidth(t,e){const s=this.state;this.state=this.createState(t),this.state.width=e;const r=t.breakCount;for(let s=0;s<=r;s++){(t.lineBBox[s]||t.getLineBBox(s)).w>e&&this.breakLineToWidth(t,s)}for(const[t,e]of this.state.breaks){if(null===e){const e=t.coreMO();e.setBreakStyle(e.node.attributes.get("linebreakstyle")||"before")}else t.setBreakAt(e);t.invalidateBBox()}this.state=s}createState(t){const e=t.getBBox().w;return{breaks:new Set,potential:[],width:0,w:0,prevWidth:0,prevBreak:null,depth:0,mathWidth:e,mathLeft:e}}breakLineToWidth(t,e){const s=this.state;s.potential=[],s.w=0,s.prevWidth=0,s.prevBreak=null,s.depth=0,this.visitNode(t,e)}addWidth(t,e=null){null===e&&(e=t.L+t.w+t.R),e&&(e*=t.rscale,this.state.w+=e,this.state.potential.length&&(this.state.potential[0][4]+=e),this.processBreak())}processBreak(){const t=this.state;for(;t.potential.length&&t.w>this.state.width;){const e=t.potential.pop(),[s,,r,i,n]=e;t.breaks.add(s),t.w=t.potential.reduce((t,e)=>t+e[4],i+n),t.prevBreak&&t.prevWidth+r<=t.width?(t.breaks.delete(t.prevBreak[0]),t.prevWidth+=r):t.prevWidth=r+i,t.potential.forEach(t=>t[2]-=r),t.prevBreak=e,t.mathLeft-=r}}pushBreak(t,e,s,r){var i;const n=this.state;if(!(e>=Oa||0===n.w&&0===n.prevWidth)){for(;n.potential.length&&n.potential[0][1]>this.FACTORS.fuzz(e);){const t=n.potential.shift();n.potential.length&&(n.potential[0][4]+=t[4])}n.potential.unshift([[t,r],e,n.w-((null===(i=n.prevBreak)||void 0===i?void 0:i[3])||0),s,0])}}getBorderLR(t){var e;const s=t.styleData;if(!s)return[0,0];const r=(null===(e=null==s?void 0:s.border)||void 0===e?void 0:e.width)||[0,0,0,0],i=(null==s?void 0:s.padding)||[0,0,0,0];return[r[3]+i[3],r[1]+i[1]]}getFirstToken(t){return t.isToken?t:this.getFirstToken(t.childNodes[0])}getLastToken(t){return t.isToken?t:this.getLastToken(t.childNodes[t.childNodes.length-1])}visitNode(t,e){t&&(this.state.depth++,t.node.isEmbellished&&!t.node.isKind("mo")?this.visitEmbellishedOperator(t,e):super.visitNode(t,e),this.state.depth--)}visitDefault(t,e){var s;const r=t.getLineBBox(e);if(t.node.isToken||t.node.linebreakContainer||!(null===(s=t.childNodes)||void 0===s?void 0:s[0]))this.addWidth(r);else{const[s,i]=this.getBorderLR(t);0===e&&this.addWidth(r,r.L+s),this.visitNode(t.childNodes[0],e),e===t.breakCount&&this.addWidth(r,r.R+i)}}visitEmbellishedOperator(t,e){const s=t.coreMO(),r=Ra.from(t.getOuterBBox(),t.linebreakOptions.lineleading);r.getIndentData(s.node);const i=s.getBreakStyle(s.node.attributes.get("linebreakstyle")),n=s.processIndent("",r.indentData[1][1],"",r.indentData[0][1],this.state.width)[1],o=this.moPenalty(s);if("before"===i)this.pushBreak(t,o,n-r.L,null),this.addWidth(r);else{this.addWidth(r);const e=("after"===i?0:s.multChar?s.multChar.getBBox().w:r.w)+n;this.pushBreak(t,o,e,null)}}visitMoNode(t,e){const s=t,r=Ra.from(s.getOuterBBox(),s.linebreakOptions.lineleading);r.getIndentData(s.node);const i=s.getBreakStyle(s.node.attributes.get("linebreakstyle")),n=s.processIndent("",r.indentData[1][1],"",r.indentData[0][1],this.state.width)[1],o=this.moPenalty(s);if("before"===i)this.pushBreak(t,o,n-r.L,null),this.addWidth(r);else{this.addWidth(r);const e=("after"===i?0:s.multChar?s.multChar.getBBox().w:r.w)+n;this.pushBreak(t,o,e,null)}}moPenalty(t){const{linebreak:e,fence:s,form:r}=t.node.attributes.getList("linebreak","fence","form"),i=this.FACTORS;let n=i.tail(i.width(0));const o=s&&"prefix"===r||t.node.texClass===Yi.OPEN,a=s&&"postfix"===r||t.node.texClass===Yi.CLOSE;return o&&(n=i.open(n,t),this.state.depth++),a&&(n=i.close(n,t),this.state.depth--),n=(this.TEXCLASS[t.node.texClass]||(t=>t))(n),(this.PENALTY[e]||(t=>t))(i.depth(n))}getPrevious(t){let e=t.node,s=e.parent,r=s.childIndex(e);for(;s&&(s.notParent||s.isKind("mrow"))&&0===r;)e=s,s=e.parent,r=s.childIndex(e);if(!s||!r)return null;const i=s.childNodes[r-1];return i.isEmbellished?i.coreMO():null}visitMspaceNode(t,e){const s=t.getLineBBox(e),r=t;if(r.canBreak){const e=this.mspacePenalty(r);s.getIndentData(t.node);const i=t.processIndent("",s.indentData[1][1],"",s.indentData[0][1],this.state.width)[1];this.pushBreak(t,e,i-s.w,null)}this.addWidth(s)}mspacePenalty(t){const e=t.node.attributes.get("linebreak"),s=this.FACTORS,r=s.space(s.tail(s.width(0)),t);return(this.PENALTY[e]||(t=>t))(s.depth(r))}visitMtextNode(t,e){if(!t.getText().match(/ /))return void this.visitDefault(t,e);const s=t;s.clearBreakPoints();const r=s.textWidth(" "),i=t.getBBox(),[n,o]=this.getBorderLR(t);this.addWidth(i,i.L+n);const a=s.childNodes;for(const e of a.keys()){const n=a[e];if(n.node.isKind("text")){const o=n.node.getText().split(/ /),a=o.pop();for(const n of o.keys())this.addWidth(i,s.textWidth(o[n])),this.pushBreak(t,this.mtextPenalty(),-r,[e,n+1]),this.addWidth(i,r);this.addWidth(i,s.textWidth(a))}else this.addWidth(n.getBBox())}this.addWidth(i,i.R+o)}mtextPenalty(){const t=this.FACTORS;return t.depth(t.tail(t.width(0)))}visitMrowNode(t,e){const s=t.lineBBox[e]||t.getLineBBox(e),[r,i]=s.start||[0,0],[n,o]=s.end||[t.childNodes.length-1,0],[a,c]=this.getBorderLR(t);this.addWidth(s,s.L+a);for(let e=r;e<=n;e++)this.visitNode(t.childNodes[e],e===r?i:e===n?o:0);this.addWidth(s,s.R+c)}visitInferredMrowNode(t,e){this.state.depth--,this.visitMrowNode(t,e),this.state.depth++}visitMfracNode(t,e){const s=t;!s.node.attributes.get("bevelled")&&s.getOuterBBox().w>this.state.width&&(this.breakToWidth(s.childNodes[0],this.state.width),this.breakToWidth(s.childNodes[1],this.state.width)),this.visitDefault(t,e)}visitMsqrtNode(t,e){if(t.getOuterBBox().w>this.state.width){const e=t,s=e.childNodes[e.base];this.breakToWidth(s,this.state.width-e.rootWidth()),e.getStretchedSurd()}this.visitDefault(t,e)}visitMrootNode(t,e){this.visitMsqrtNode(t,e)}visitMsubNode(t,e){this.visitDefault(t,e);const s=t,r=s.getOffset()[0],i=s.scriptChild.getOuterBBox(),[n,o]=this.getBorderLR(t);this.addWidth(s.getLineBBox(e),r+n+i.rscale*i.w+s.font.params.scriptspace+o)}visitMsupNode(t,e){this.visitDefault(t,e);const s=t,r=s.getOffset()[0],i=s.scriptChild.getOuterBBox(),[n,o]=this.getBorderLR(t);this.addWidth(s.getLineBBox(e),r+n+i.rscale*i.w+s.font.params.scriptspace+o)}visitMsubsupNode(t,e){this.visitDefault(t,e);const s=t,r=s.subChild.getOuterBBox(),i=s.supChild.getOuterBBox(),n=s.getAdjustedIc(),o=Math.max(r.rscale*r.w,n+i.rscale*i.w)+s.font.params.scriptspace,[a,c]=this.getBorderLR(t);this.addWidth(t.getLineBBox(e),a+o+c)}visitMmultiscriptsNode(t,e){const s=t,r=s.scriptData;if(r.numPrescripts){const i=Math.max(r.psup.rscale*r.psup.w,r.psub.rscale*r.psub.w);this.addWidth(t.getLineBBox(e),i+s.font.params.scriptspace)}if(this.visitDefault(t,e),r.numScripts){const i=Math.max(r.sup.rscale*r.sup.w,r.sub.rscale*r.sub.w);this.addWidth(t.getLineBBox(e),i+s.font.params.scriptspace)}}visitMfencedNode(t,e){const s=t,r=t.getLineBBox(e),[i,n]=this.getBorderLR(t);0===e&&this.addWidth(r,r.L+i),this.visitNode(s.mrow,e),e===t.breakCount&&this.addWidth(r,r.R+n)}visitMactionNode(t,e){const s=t,r=t.getLineBBox(e),[i,n]=this.getBorderLR(t);0===e&&this.addWidth(r,r.L+i),this.visitNode(s.selected,e),e===t.breakCount&&this.addWidth(r,r.R+n)}}!function(){for(const t of Object.keys(En.postfix)){const e=En.postfix[t][3];e&&e.fence&&(e.linebreakstyle="after")}En.infix["\u2061"]=[...En.infix["\u2061"]],En.infix["\u2061"][3]={linebreak:"nobreak"}}();const Ba="@mathjax/%%FONT%%-font";class Fa extends Di{get forceInlineBreaks(){return!1}constructor(t={},e=null,s=null){const[r,i]=t.fontData instanceof Ia?[t.fontData.constructor,t.fontData]:[t.fontData||s,null],[n,o]=_i(t,r.OPTIONS);super(n),this.factory=this.options.wrapperFactory||new e,this.factory.jax=this,this.styleJson=this.options.styleJson||new ca,this.font=i||new r(o),this.font.setOptions({mathmlSpacing:this.options.mathmlSpacing}),this.unknownCache=new Map;const a=this.options.linebreaks.LinebreakVisitor||Da;this.linebreaks=new a(this.factory)}setAdaptor(t){super.setAdaptor(t),"auto"===this.options.htmlHDW&&(this.options.htmlHDW=t.canMeasureNodes?"ignore":"force")}addExtension(t,e=""){return this.font.addExtension(t,e)}typeset(t,e){this.setDocument(e);const s=this.createNode();return this.toDOM(t,s,e),s}createNode(){const t=this.constructor.NAME;return this.html("mjx-container",{class:"MathJax",jax:t})}setScale(t,e){let s=this.getInitialScale()*this.options.scale;if("scale"===e.node.attributes.get("overflow")&&this.math.display){const t=e.getOuterBBox().w,r=this.math.metrics.containerWidth/this.pxPerEm;t>r&&t&&(s*=r/t)}1!==s&&this.adaptor.setStyle(t,"fontSize",Ko(s))}getInitialScale(){return this.math.metrics.scale}toDOM(t,e,s=null){var r;this.setDocument(s),this.math=t,this.container=e,this.pxPerEm=t.metrics.ex/this.font.params.x_height,this.executeFilters(this.preFilters,t,s,e),this.nodeMap=new Map,t.root.attributes.getAllInherited().overflow=this.options.displayOverflow;const i=t.root.attributes.get("overflow");this.adaptor.setAttribute(e,"overflow",i);"linebreak"===i&&this.getLinebreakWidth();const n=this.options.linebreaks.inline&&!t.display;let o=!!t.root.getProperty("inlineMarked");!o||n&&this.forceInlineBreaks===t.root.getProperty("inlineForced")||(this.unmarkInlineBreaks(t.root),t.root.removeProperty("inlineMarked"),t.root.removeProperty("inlineForced"),o=!1),n&&!o&&(this.markInlineBreaks(null===(r=t.root.childNodes)||void 0===r?void 0:r[0]),t.root.setProperty("inlineMarked",!0),t.root.setProperty("inlineForced",this.forceInlineBreaks)),t.root.setTeXclass(null);const a=this.factory.wrap(t.root);this.setScale(e,a),this.processMath(a,e),this.nodeMap=null,this.executeFilters(this.postFilters,t,s,e)}getBBox(t,e){this.setDocument(e),this.math=t,t.root.setTeXclass(null),this.nodeMap=new Map;const s=this.factory.wrap(t.root).getOuterBBox();return this.nodeMap=null,s}getLinebreakWidth(){const t=this.math.metrics.containerWidth/this.pxPerEm,e=this.math.root.attributes.get("maxwidth")||this.options.linebreaks.width;this.containerWidth=Jo(e,t,1,this.pxPerEm)}markInlineBreaks(t){if(!t)return;const e=this.forceInlineBreaks;let s=!1,r=!1,i="";for(const n of t.childNodes)if(i)r=this.markInlineBreak(r,e,i,t,n),i="",s=!1;else if(n.isEmbellished){if(n===t.childNodes[0])continue;const o=n.coreMO(),a=o.texClass,c=o.attributes.get("linebreak"),l=o.attributes.get("linebreakstyle");(a===Yi.BIN||a===Yi.REL||a===Yi.ORD&&o.hasSpacingAttributes()||"auto"!==c)&&"nobreak"!==c&&("before"===l?s&&"auto"===c||(r=this.markInlineBreak(r,e,c,t,n,o)):i=c),s="newline"===c&&"after"===l}else if(n.isKind("mspace")){const i=n.attributes.get("linebreak");"nobreak"!==i&&n.canBreak&&(r=this.markInlineBreak(r,e,i,t,n)),s="newline"===i}else s=!1,n.isKind("mstyle")&&!n.attributes.get("style")&&!n.attributes.hasExplicit("mathbackground")||n.isKind("semantics")?(this.markInlineBreaks(n.childNodes[0]),n.getProperty("process-breaks")&&(n.setProperty("inline-breaks",!0),n.childNodes[0].setProperty("inline-breaks",!0),t.parent.setProperty("process-breaks","true"))):n.isKind("mrow")&&n.attributes.get("data-semantic-added")&&(this.markInlineBreaks(n),n.getProperty("process-breaks")&&(n.setProperty("inline-breaks",!0),t.parent.setProperty("process-breaks","true")))}markInlineBreak(t,e,s,r,i,n=null){return i.setProperty("breakable",!0),e&&"newline"!==s?(i.setProperty("forcebreak",!0),null==n||n.setProperty("forcebreak",!0)):(i.removeProperty("forcebreak"),null==n||n.removeProperty("forcebreak"),"newline"===s&&i.setProperty("newline",!0)),t||(r.setProperty("process-breaks",!0),r.parent.setProperty("process-breaks",!0),t=!0),t}unmarkInlineBreaks(t){if(t&&(t.removeProperty("forcebreak"),t.removeProperty("breakable"),t.getProperty("process-breaks"))){t.removeProperty("process-breaks");for(const e of t.childNodes)this.unmarkInlineBreaks(e)}}getMetrics(t){this.setDocument(t);const e=this.adaptor,s=this.getMetricMaps(t);for(const r of t.math){const t=e.parent(r.start.node);if(r.state()<Gi.METRICS&&t){const e=s[r.display?1:0],{em:i,ex:n,containerWidth:o,scale:a,family:c}=e.get(t);r.setMetrics(i,n,o,a),this.options.mtextInheritFont&&(r.outputData.mtextFamily=c),this.options.merrorInheritFont&&(r.outputData.merrorFamily=c),r.state(Gi.METRICS)}}}getMetricsFor(t,e){const s=this.options.mtextInheritFont||this.options.merrorInheritFont,r=this.getTestElement(t,e),i=Object.assign(Object.assign({},this.measureMetrics(r,s)),{display:e});return this.adaptor.remove(r),i}getMetricMaps(t){const e=this.adaptor,s=[new Map,new Map];for(const r of t.math){const t=e.parent(r.start.node);if(t&&r.state()<Gi.METRICS){const e=s[r.display?1:0];e.has(t)||e.set(t,this.getTestElement(t,r.display))}}const r=this.options.mtextInheritFont||this.options.merrorInheritFont,i=[new Map,new Map];for(const t of i.keys())for(const e of s[t].keys())i[t].set(e,this.measureMetrics(s[t].get(e),r));for(const t of i.keys())for(const r of s[t].values())e.remove(r);return i}getTestElement(t,e){const s=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,float:"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,float:"right"}})]),this.testDisplay=s.clone(this.testInline),s.setStyle(this.testDisplay,"display","table"),s.setStyle(this.testDisplay,"margin-right",""),s.setStyle(s.firstChild(this.testDisplay),"display","none");const t=s.lastChild(this.testDisplay);s.setStyle(t,"display","table-cell"),s.setStyle(t,"width","10000em"),s.setStyle(t,"float","")}return s.append(t,s.clone(e?this.testDisplay:this.testInline))}measureMetrics(t,e){const s=this.adaptor,r=e?s.fontFamily(t):"",i=s.fontSize(t),[n,o]=s.nodeSize(s.childNode(t,1)),a=n?o/60:i*this.options.exFactor;return{em:i,ex:a,containerWidth:n?"table"===s.getStyle(t,"display")?s.nodeSize(s.lastChild(t))[0]-1:s.nodeBBox(s.lastChild(t)).left-s.nodeBBox(s.firstChild(t)).left-2:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?a/this.font.params.x_height/i:1),family:r}}styleSheet(t){if(this.setDocument(t),this.styleJson.clear(),this.styleJson.addStyles(this.constructor.commonStyles),"getStyles"in t)for(const e of t.getStyles())this.styleJson.addStyles(e);this.addWrapperStyles(this.styleJson),this.addFontStyles(this.styleJson);return this.html("style",{id:"MJX-styles"},[this.text("\n"+this.styleJson.cssText+"\n")])}addFontStyles(t){t.addStyles(this.font.styles)}addWrapperStyles(t){for(const e of this.factory.getKinds())this.addClassStyles(this.factory.getNodeClass(e),t)}addClassStyles(t,e){t.addStyles(e,this)}insertStyles(t){}setDocument(t){t&&(this.document=t,this.adaptor.document=t.document)}html(t,e={},s=[],r){return this.adaptor.node(t,e,s,r)}text(t){return this.adaptor.text(t)}fixed(t,e=3){return Math.abs(t)<6e-4?"0":t.toFixed(e).replace(/\.?0+$/,"")}measureText(t,e,s=["",!1,!1]){const r=this.unknownText(t,e);if("-explicitFont"===e){const t=this.cssFontStyles(s);this.adaptor.setAttributes(r,{style:t})}return this.measureTextNodeWithCache(r,t,e,s)}measureTextNodeWithCache(t,e,s,r=["",!1,!1]){"-explicitFont"===s&&(s=[r[0],r[1]?"T":"F",r[2]?"T":"F",""].join("-")),this.unknownCache.has(s)||this.unknownCache.set(s,new Map);const i=this.unknownCache.get(s),n=i.get(e);if(n)return n;const o=this.measureTextNode(t);return i.set(e,o),o}cssFontStyles(t,e={}){const[s,r,i]=t;return e["font-family"]=this.font.getFamily(s),r&&(e["font-style"]="italic"),i&&(e["font-weight"]="bold"),e}getFontData(t){return t||(t=new Ea),[this.font.getFamily(t.get("font-family")),"italic"===t.get("font-style"),"bold"===t.get("font-weight")]}}Fa.NAME="Common",Fa.OPTIONS=Object.assign(Object.assign({},Di.OPTIONS),{scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",displayOverflow:"overflow",linebreaks:{inline:!0,width:"100%",lineleading:.2,LinebreakVisitor:null},font:"",htmlHDW:"auto",wrapperFactory:null,fontData:null,fontPath:Ba,styleJson:null}),Fa.commonStyles={'mjx-container[overflow="scroll"][display]':{overflow:"auto clip","min-width":"initial !important"},'mjx-container[overflow="truncate"][display]':{overflow:"hidden clip","min-width":"initial !important"},"mjx-container[display]":{display:"block","text-align":"center","justify-content":"center",margin:"calc(1em - 2px) 0",padding:"2px 0"},'mjx-container[display][width="full"]':{display:"flex"},'mjx-container[justify="left"]':{"text-align":"left","justify-content":"left"},'mjx-container[justify="right"]':{"text-align":"right","justify-content":"right"}};class qa extends Do{constructor(){super(...arguments),this.jax=null}get Wrappers(){return this.node}}qa.defaultNodes={};const ja=2/18,Ua=5/18;function Ha(t,e,s){return e?t?ja:Ua:t?s<ja?0:ja:s}const Ga={[Yo(0)]:"0",[Yo(2/18)]:"1",[Yo(3/18)]:"2",[Yo(4/18)]:"3",[Yo(5/18)]:"4",[Yo(6/18)]:"5"};class za extends Po{static addStyles(t,e){t.addStyles(this.styles)}get jax(){return this.factory.jax}get adaptor(){return this.factory.jax.adaptor}get metrics(){return this.factory.jax.math.metrics}get containerWidth(){return this.jax.containerWidth}get linebreaks(){return this.jax.linebreaks}get linebreakOptions(){return this.jax.options.linebreaks}get fixesPWidth(){return!this.node.notParent&&!this.node.isToken}get breakCount(){if(this._breakCount<0){const t=this.node;this._breakCount=t.isEmbellished?this.coreMO().embellishedBreakCount:t.arity<0&&!t.linebreakContainer&&this.childNodes[0].isStack?this.childNodes[0].breakCount:0}return this._breakCount}breakTop(t,e){return this.node.linebreakContainer||!this.parent?t:this.parent.breakTop(t,this)}constructor(t,e,s=null){super(t,e),this.parent=null,this.dom=null,this.removedStyles=null,this.styles=null,this.styleData=null,this.variant="",this.bboxComputed=!1,this._breakCount=-1,this.lineBBox=[],this.stretch=Sa,this.font=null,this.parent=s,this.font=t.jax.font,this.bbox=Zo.zero(),this.getStyles(),this.getStyleData(),this.getVariant(),this.getScale(),this.getSpace(),this.childNodes=e.childNodes.map(t=>{const s=this.wrap(t);return s.bbox.pwidth&&(e.notParent||e.isKind("math"))&&(this.bbox.pwidth=Zo.fullWidth),s})}wrap(t,e=null){const s=this.factory.wrap(t,e||this);return e&&e.childNodes.push(s),this.jax.nodeMap.set(t,s),s}getBBox(t=!0){if(this.bboxComputed)return this.bbox;const e=t?this.bbox:Zo.zero();return this.computeBBox(e),this.bboxComputed=t,e}getOuterBBox(t=!0){var e;const s=this.getBBox(t);if(!this.styleData)return s;const r=this.styleData.padding,i=(null===(e=this.styleData.border)||void 0===e?void 0:e.width)||[0,0,0,0],n=s.copy();for(const[,t,e]of Zo.boxSides)n[e]+=r[t]+i[t];return n}getUnbrokenHD(){const t=this.breakCount+1;let e=0,s=0;for(let r=0;r<t;r++){const{h:t,d:i}=this.getLineBBox(r);t>e&&(e=t),i>s&&(s=i)}return[e,s]}computeBBox(t,e=!1){t.empty();for(const e of this.childNodes)t.append(e.getOuterBBox());t.clean(),this.fixesPWidth&&this.setChildPWidths(e)&&this.computeBBox(t,!0)}getLineBBox(t){if(!this.lineBBox[t]){const e=this.breakCount;if(e){const s=this.embellishedBBox(t)||this.computeLineBBox(t);this.lineBBox[t]=s,0===t&&(!this.node.isKind("mo")&&this.node.isEmbellished?s.originalL=this.getBBox().L:s.L=this.getBBox().L),t===e&&(s.R=this.getBBox().R)}else{const e=this.getOuterBBox();this.lineBBox[t]=Ra.from(e,this.linebreakOptions.lineleading)}}return this.lineBBox[t]}embellishedBBox(t){if(!this.node.isEmbellished||this.node.isKind("mo"))return null;const e=this.coreMO();return e.moLineBBox(t,e.embellishedBreakStyle,this.getOuterBBox())}computeLineBBox(t){return this.getChildLineBBox(this.childNodes[0],t)}getBreakNode(t){var e,s;if(!t.start)return[this,null];const[r,i]=t.start;if(this.node.isEmbellished)return[this,this.coreMO()];const n=(null===(s=null===(e=this.childNodes[0])||void 0===e?void 0:e.node)||void 0===s?void 0:s.isInferred)?this.childNodes[0].childNodes:this.childNodes;return this.node.isToken||!n[r]?[this,null]:n[r].getBreakNode(n[r].getLineBBox(i))}getChildLineBBox(t,e){const s=this.breakCount;let r=t.getLineBBox(e);return(this.styleData||this.bbox.L||this.bbox.R)&&(r=r.copy()),this.addMiddleBorders(r),0===e?(r.L+=this.bbox.L,this.addLeftBorders(r)):e===s&&(r.R+=this.bbox.R,this.addRightBorders(r)),r}addLeftBorders(t){var e;if(!this.styleData)return;const s=this.styleData.border,r=this.styleData.padding;t.w+=((null===(e=null==s?void 0:s.width)||void 0===e?void 0:e[3])||0)+((null==r?void 0:r[3])||0)}addMiddleBorders(t){var e,s;if(!this.styleData)return;const r=this.styleData.border,i=this.styleData.padding;t.h+=((null===(e=null==r?void 0:r.width)||void 0===e?void 0:e[0])||0)+((null==i?void 0:i[0])||0),t.d+=((null===(s=null==r?void 0:r.width)||void 0===s?void 0:s[2])||0)+((null==i?void 0:i[2])||0)}addRightBorders(t){var e;if(!this.styleData)return;const s=this.styleData.border,r=this.styleData.padding;t.w+=((null===(e=null==s?void 0:s.width)||void 0===e?void 0:e[1])||0)+((null==r?void 0:r[1])||0)}setChildPWidths(t,e=null,s=!0){if(t)return!1;s&&(this.bbox.pwidth="");let r=!1;for(const i of this.childNodes){const n=i.getBBox();n.pwidth&&i.setChildPWidths(t,null===e?n.w:e,s)&&(r=!0)}return r}breakToWidth(t){}invalidateBBox(t=!0){(this.bboxComputed||this._breakCount>=0)&&(this.bboxComputed=!1,this.lineBBox=[],this._breakCount=-1,this.parent&&t&&this.parent.invalidateBBox())}copySkewIC(t){var e,s,r;const i=this.childNodes[0];(null===(e=null==i?void 0:i.bbox)||void 0===e?void 0:e.sk)&&(t.sk=i.bbox.sk),(null===(s=null==i?void 0:i.bbox)||void 0===s?void 0:s.dx)&&(t.dx=i.bbox.dx);const n=this.childNodes[this.childNodes.length-1];(null===(r=null==n?void 0:n.bbox)||void 0===r?void 0:r.ic)&&(t.ic=n.bbox.ic,t.w+=t.ic)}getStyles(){const t=this.node.attributes.getExplicit("style");if(!t)return;const e=this.styles=new Ea(t);for(let t=0,s=za.removeStyles.length;t<s;t++){const s=za.removeStyles[t];e.get(s)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[s]=e.get(s),e.set(s,""))}}getStyleData(){if(!this.styles)return;const t=Array(4).fill(0),e=Array(4).fill(0),s=Array(4),r=Array(4);let i=!1,n=!1;for(const[o,a]of Zo.boxSides){const c="border"+o,l=this.styles.get(c+"Width");l&&(n=!0,e[a]=Math.max(0,this.length2em(l,1)),s[a]=this.styles.get(c+"Style")||"solid",r[a]=this.styles.get(c+"Color"));const h=this.styles.get("padding"+o);h&&(i=!0,t[a]=Math.max(0,this.length2em(h,1)))}this.styleData=i||n?{padding:t,border:n?{width:e,style:s,color:r}:null}:null}getVariant(){if(!this.node.isToken)return;const t=this.node.attributes;let e=t.get("mathvariant");if(t.hasExplicit("mathvariant"))this.font.getVariant(e)||(console.warn(`Invalid variant: ${e}`),e="normal");else{const s=t.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){const t=this.removedStyles;t.fontFamily&&(s.family=t.fontFamily),t.fontWeight&&(s.weight=t.fontWeight),t.fontStyle&&(s.style=t.fontStyle)}s.fontfamily&&(s.family=s.fontfamily),s.fontweight&&(s.weight=s.fontweight),s.fontstyle&&(s.style=s.fontstyle),s.weight&&s.weight.match(/^\d+$/)&&(s.weight=parseInt(s.weight)>600?"bold":"normal"),s.family?e=this.explicitVariant(s.family,s.weight,s.style):(this.node.getProperty("variantForm")&&(e="-tex-variant"),e=(za.BOLDVARIANTS[s.weight]||{})[e]||e,e=(za.ITALICVARIANTS[s.style]||{})[e]||e)}this.variant=e}explicitVariant(t,e,s){let r=this.styles;return r||(r=this.styles=new Ea),r.set("fontFamily",t),e&&r.set("fontWeight",e),s&&r.set("fontStyle",s),"-explicitFont"}getScale(){let t=1;const e=this.parent,s=e?e.bbox.scale:1,r=this.node.attributes,i=Math.min(r.get("scriptlevel"),2);let n=r.get("fontsize"),o=this.node.isToken||this.node.isKind("mstyle")?r.get("mathsize"):r.getInherited("mathsize");if(0!==i&&(t=Math.pow(r.get("scriptsizemultiplier"),i)),this.removedStyles&&this.removedStyles.fontSize&&!n&&(n=this.removedStyles.fontSize),n&&!r.hasExplicit("mathsize")&&(o=n),"1"!==o&&(t*=this.length2em(o,1,1)),0!==i){const e=this.length2em(r.get("scriptminsize"),.4,1);t<e&&(t=e)}this.bbox.scale=t,this.bbox.rscale=t/s}getSpace(){const t=this.isTopEmbellished(),e=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||e?t&&this.getMathMLSpacing():this.getTeXSpacing(t,e)}getMathMLSpacing(){const t=this.node.coreMO(),e=t.coreParent(),s=e.parent;if(!s||!s.isKind("mrow")||1===s.childNodes.length)return;const r=s.childIndex(e);if(null===r)return;const i=t.getProperty("noDictDef"),n=t.attributes,o=n.get("scriptlevel")>0;if(this.bbox.L=n.isSet("lspace")?Math.max(0,this.length2em(n.get("lspace"))):Ha(o,i,t.lspace),this.bbox.R=n.isSet("rspace")?Math.max(0,this.length2em(n.get("rspace"))):Ha(o,i,t.rspace),!r)return;const a=s.childNodes[r-1];if(!a.isEmbellished)return;const c=this.jax.nodeMap.get(a).getBBox();c.R&&(this.bbox.L=Math.max(0,this.bbox.L-c.R))}getTeXSpacing(t,e){if(!e){const t=this.node.texSpacing();t&&(this.bbox.L=this.length2em(t))}if(t||e){const t=this.node.coreMO().attributes;t.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(t.get("lspace")))),t.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(t.get("rspace"))))}}isTopEmbellished(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)}core(){return this.jax.nodeMap.get(this.node.core())}coreMO(){return this.jax.nodeMap.get(this.node.coreMO())}coreRScale(){let t=this.bbox.rscale,e=this.coreMO();for(;e!==this&&e;)t*=e.bbox.rscale,e=e.parent;return t}getRScale(){let t=1,e=this;for(;e;)t*=e.bbox.rscale,e=e.parent;return t}getText(){let t="";if(this.node.isToken)for(const e of this.node.childNodes)e instanceof ln&&(t+=e.getText());return t}canStretch(t){if(this.stretch=Sa,this.node.isEmbellished){const e=this.core();e&&e.node!==this.node&&e.canStretch(t)&&(this.stretch=e.stretch)}return this.stretch.dir!==ka.None}getAlignShift(){let{indentalign:t,indentshift:e,indentalignfirst:s,indentshiftfirst:r}=this.node.attributes.getAllAttributes();return"indentalign"!==s&&(t=s),"indentshift"!==r&&(e=r),this.processIndent(t,e)}processIndent(t,e,s="",r="",i=this.metrics.containerWidth){if(!this.jax.math.display)return["left",0];s&&"auto"!==s||(s=this.jax.math.root.getProperty("inlineMarked")?"left":this.jax.options.displayAlign),r&&"auto"!==r||(r=this.jax.math.root.getProperty("inlineMarked")?"0":this.jax.options.displayIndent),"auto"===t&&(t=s),"auto"===e&&(e=r,"right"!==t||e.match(/^\s*0[a-z]*\s*$/)||(e=("-"+e.trim()).replace(/^--/,"")));return[t,this.length2em(e,i)]}getAlignX(t,e,s){return"right"===s?t-(e.w+e.R)*e.rscale:"left"===s?e.L*e.rscale:(t-e.w*e.rscale)/2}getAlignY(t,e,s,r,i){return"top"===i?t-s:"bottom"===i?r-e:"center"===i?(t-s-(e-r))/2:0}getWrapWidth(t){return this.childNodes[t].getBBox().w}getChildAlign(t){return"left"}percent(t){return Ko(t)}em(t){return Yo(t)}px(t,e=-Wo){return Qo(t,e,this.metrics.em)}length2em(t,e=1,s=null){null===s&&(s=this.bbox.scale);const r=this.font.params.rule_thickness,i=vi(t,{medium:1,thin:2/3,thick:5/3},0);return i?i*r:Jo(t,e,s,this.jax.pxPerEm)}unicodeChars(t,e=this.variant){let s=_n(t);const r=this.font.getVariant(e);if(r&&r.chars){const t=r.chars;s=s.map(e=>{var s,r;return(null===(r=null===(s=t[e])||void 0===s?void 0:s[3])||void 0===r?void 0:r.smp)||e})}return s}remapChars(t){return t}mmlText(t){return this.node.factory.create("text").setText(t)}mmlNode(t,e={},s=[]){return this.node.factory.create(t,e,s)}createMo(t){const e=this.node.factory,s=e.create("text").setText(t),r=e.create("mo",{stretchy:!0},[s]);r.inheritAttributesFrom(this.node),r.parent=this.node.parent;const i=this.wrap(r);return i.parent=this,i}getVariantChar(t,e){const s=this.font.getChar(t,e)||[0,0,0,{unknown:!0}];return 3===s.length&&(s[3]={}),s}html(t,e={},s=[]){return this.jax.html(t,e,s)}}za.kind="unknown",za.styles={},za.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],za.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},za.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},za.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}};const Wa={"70.7%":"s","70%":"s","50%":"ss","60%":"Tn","85%":"sm","120%":"lg","144%":"Lg","173%":"LG","207%":"hg","249%":"HG"};class Va extends za{toCHTML(t){this.toEmbellishedCHTML(t)||this.addChildren(this.standardChtmlNodes(t))}toEmbellishedCHTML(t){if(t.length<=1||!this.node.isEmbellished)return!1;const e=this.adaptor;t.forEach(t=>e.append(t,this.html("mjx-linestrut")));const s=this.coreMO().embellishedBreakStyle,r=[];for(const[i,n]of[[t[0],"before"],[t[1],"after"]])s!==n?(this.toCHTML([i]),r.push(this.dom[0]),"after"===n&&e.removeAttribute(this.dom[0],"space")):r.push(this.createChtmlNodes([i])[0]);return this.dom=r,!0}addChildren(t){for(const e of this.childNodes)e.toCHTML(t)}standardChtmlNodes(t){this.markUsed();const e=this.createChtmlNodes(t);return this.handleStyles(),this.handleScale(),this.handleBorders(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),e}markUsed(){this.jax.wrapperUsage.add(this.kind)}createChtmlNodes(t){this.dom=t.map(t=>this.html("mjx-"+this.node.kind)),t=this.handleHref(t);for(const e of t.keys())this.adaptor.append(t[e],this.dom[e]);return this.dom}handleHref(t){const e=this.node.attributes.get("href");return e?t.map(t=>this.adaptor.append(t,this.html("a",{href:e}))):t}handleStyles(){if(!this.styles)return;const t=this.styles.cssText;if(t){const e=this.adaptor;this.dom.forEach(s=>e.setAttribute(s,"style",t));const s=this.styles.get("font-family");s&&this.dom.forEach(t=>e.setStyle(t,"font-family",this.font.cssFamilyPrefix+", "+s))}}handleScale(){this.dom.forEach(t=>this.setScale(t,this.bbox.rscale))}setScale(t,e){const s=Math.abs(e-1)<.001?1:e;if(t&&1!==s){const e=this.percent(s);Wa[e]?this.adaptor.setAttribute(t,"size",Wa[e]):this.adaptor.setStyle(t,"fontSize",e)}return t}handleSpace(){const t=this.adaptor,e=!!this.node.getProperty("breakable")&&!this.node.getProperty("newline"),s=this.dom.length-1;for(const r of[[this.getLineBBox(0).L,"space","marginLeft",0],[this.getLineBBox(s).R,"rspace","marginRight",s]]){const[s,i,n,o]=r,a=this.em(s);if(e&&"space"===i){const e=t.node("mjx-break",Ga[a]?{size:Ga[a]}:{style:`letter-spacing: ${this.em(s-1)}`},[t.text(" ")]);t.insert(e,this.dom[o])}else s&&(Ga[a]?t.setAttribute(this.dom[o],i,Ga[a]):t.setStyle(this.dom[o],n,a))}}handleBorders(){var t,e;const s=null===(t=this.styleData)||void 0===t?void 0:t.border,r=null===(e=this.styleData)||void 0===e?void 0:e.padding,i=this.dom.length-1;if(!s||!i)return;const n=this.adaptor;for(const t of this.dom.keys()){const e=this.dom[t];t&&(s.width[3]&&n.setStyle(e,"border-left"," none"),r[3]&&n.setStyle(e,"padding-left","0")),t!==i&&(s.width[1]&&n.setStyle(e,"border-right","none"),r[1]&&n.setStyle(e,"padding-right","0"))}}handleColor(){var t;const e=this.adaptor,s=this.node.attributes,r=s.getExplicit("mathcolor")||s.getExplicit("color"),i=s.getExplicit("mathbackground")||s.getExplicit("background")||(null===(t=this.styles)||void 0===t?void 0:t.get("background-color"));r&&this.dom.forEach(t=>e.setStyle(t,"color",r)),i&&this.dom.forEach(t=>e.setStyle(t,"backgroundColor",i))}handleAttributes(){const t=this.adaptor,e=this.node.attributes,s=e.getAllDefaults(),r=Va.skipAttributes;for(const i of e.getExplicitNames())if(!1===r[i]||!(i in s)&&!r[i]&&!t.hasAttribute(this.dom[0],i)){const s=e.getExplicit(i);this.dom.forEach(e=>t.setAttribute(e,i,s))}if(e.get("class")){const s=e.get("class").trim().split(/ +/);for(const e of s)this.dom.forEach(s=>t.addClass(s,e))}this.node.getProperty("inline-breaks")&&this.dom.forEach(e=>t.setAttribute(e,"inline-breaks","true"))}handlePWidth(){if(this.bbox.pwidth){const t=this.adaptor;this.bbox.pwidth===Zo.fullWidth?this.dom.forEach(e=>t.setAttribute(e,"width","full")):this.dom.forEach(e=>t.setStyle(e,"width",this.bbox.pwidth))}}setIndent(t,e,s){const r=this.adaptor;if("center"===e||"left"===e){const e=this.getBBox().L;r.setStyle(t,"margin-left",this.em(s+e))}if("center"===e||"right"===e){const e=this.getBBox().R;r.setStyle(t,"margin-right",this.em(-s+e))}}drawBBox(){const{w:t,h:e,d:s,R:r}=this.getOuterBBox(),i=this.html("mjx-box",{style:{opacity:.25,"margin-left":this.em(-t-r)}},[this.html("mjx-box",{style:{height:this.em(e),width:this.em(t),"background-color":"red"}}),this.html("mjx-box",{style:{height:this.em(s),width:this.em(t),"margin-left":this.em(-t),"vertical-align":this.em(-s),"background-color":"green"}})]),n=this.dom[0]||this.parent.dom[0],o=this.adaptor.getAttribute(n,"size");o&&this.adaptor.setAttribute(i,"size",o);const a=this.adaptor.getStyle(n,"fontSize");a&&this.adaptor.setStyle(i,"fontSize",a),this.adaptor.append(this.adaptor.parent(n),i),this.adaptor.setStyle(n,"backgroundColor","#FFEE00")}html(t,e={},s=[]){return this.jax.html(t,e,s)}text(t){return this.jax.text(t)}char(t){return this.font.charSelector(t).substring(1)}}function Xa(t){return class extends t{getWrapWidth(t){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm}computeBBox(t,e=!1){super.computeBBox(t,e);const s=this.node.attributes;if(!this.parent&&this.jax.math.display&&"linebreak"===s.get("overflow")){const e=this.containerWidth;t.w>e&&this.childNodes[0].breakToWidth(e),t.updateFrom(this.childNodes[0].getBBox())}}}}Va.kind="unknown",Va.autoStyle=!0;const $a=function(){var t;const e=Xa(Va);return(t=class extends e{handleDisplay(t){const e=this.adaptor,[s,r]=this.getAlignShift();if("center"!==s&&e.setAttribute(t,"justify",s),this.bbox.pwidth===Zo.fullWidth){if(e.setAttribute(t,"width","full"),this.jax.table){let{L:i,w:n,R:o}=this.jax.table.getOuterBBox();"right"===s?o=Math.max(o||-r,-r):"left"===s?i=Math.max(i||r,r):"center"===s&&(n+=2*Math.abs(r));const a=this.em(Math.max(0,i+n+o));e.setStyle(t,"min-width",a),e.setStyle(this.jax.table.dom[0],"min-width",a)}}else this.setIndent(this.dom[0],s,r)}handleInline(t){const e=this.adaptor,s=e.getStyle(this.dom[0],"margin-right");s&&(e.setStyle(this.dom[0],"margin-right",""),e.setStyle(t,"margin-right",s),e.setStyle(t,"width","0"))}toCHTML(t){super.toCHTML(t);const e=this.adaptor;"block"===this.node.attributes.get("display")?(e.setAttribute(this.dom[0],"display","true"),e.setAttribute(t[0],"display","true"),this.handleDisplay(t[0])):this.handleInline(t[0]),e.addClass(this.dom[0],`${this.font.cssFontPrefix}-N`)}setChildPWidths(t,e=null,s=!0){return!!this.parent&&super.setChildPWidths(t,e,s)}handleAttributes(){super.handleAttributes();const t=this.adaptor;this.node.getProperty("process-breaks")&&this.dom.forEach(e=>t.setAttribute(e,"breakable","true"))}}).kind=dn.prototype.kind,t.styles={"mjx-math":{"line-height":0,"text-align":"left","text-indent":0,"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","word-wrap":"normal","word-spacing":"normal",direction:"ltr",padding:"1px 0"},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},"mjx-math[breakable]":{display:"inline"},'mjx-container[jax="CHTML"] mjx-break':{"white-space":"normal","line-height":"0","clip-path":"rect(0 0 0 0)","font-family":"MJX-BRK !important"},'mjx-break[size="0"]':{"letter-spacing":"-0.999em"},'mjx-break[size="1"]':{"letter-spacing":"-0.889em"},'mjx-break[size="2"]':{"letter-spacing":"-0.833em"},'mjx-break[size="3"]':{"letter-spacing":"-0.778em"},'mjx-break[size="4"]':{"letter-spacing":"-0.722em"},'mjx-break[size="5"]':{"letter-spacing":"-0.667em"}},t}();function Ja(t){return class extends t{computeBBox(t,e=!1){super.computeBBox(t),this.copySkewIC(t)}}}const Ka=function(){var t;const e=Ja(Va);return(t=class extends e{}).kind=un.prototype.kind,t}();function Ya(t){return class extends t{get breakCount(){return this.breakStyle?1:0}get embellishedBreakCount(){return this.embellishedBreakStyle?1:0}get embellishedBreakStyle(){return this.breakStyle||this.getBreakStyle()}protoBBox(t){const e=this.stretch.dir!==ka.None;e&&null===this.size&&this.getStretchedVariant([0]),e&&this.size<0||(super.computeBBox(t),0!==t.w||!this.node.attributes.hasExplicit("fence")||""!==this.node.getText()||this.node.texClass!==Yi.OPEN&&this.node.texClass!==Yi.CLOSE||this.jax.options.mathmlSpacing||(t.R=this.font.params.nulldelimiterspace),this.copySkewIC(t))}getAccentOffset(){const t=Zo.empty();return this.protoBBox(t),-t.w/2}getCenterOffset(t=null){return t||(t=Zo.empty(),super.computeBBox(t)),(t.h+t.d)/2+this.font.params.axis_height-t.h}getStretchedVariant(t,e=!1){if(this.stretch.dir!==ka.None){let s=this.getWH(t);const r=this.getSize("minsize",0),i=this.getSize("maxsize",1/0),n=this.node.getProperty("mathaccent");s=Math.max(r,Math.min(i,s));const o=this.font.params.delimiterfactor/1e3,a=this.font.params.delimitershortfall,c=r||e?s:n?Math.min(s/o,s+a):Math.max(s*o,s-a),l=this.stretch,h=l.c||this.getText().codePointAt(0);let d=0;if(l.sizes)for(const t of l.sizes){if(t>=c)return n&&d&&d--,void this.setDelimSize(h,d);d++}l.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(t,this.checkExtendedHeight(s,l),l)):this.setDelimSize(h,d-1)}}setDelimSize(t,e){const s=this.stretch;this.variant=this.font.getSizeVariant(t,e),this.size=e;const r=s.schar&&s.schar[Math.min(e,s.schar.length-1)]||t;this.stretch=Object.assign(Object.assign({},s),{c:r}),this.childNodes[0].invalidateBBox()}getSize(t,e){const s=this.node.attributes;return s.isSet(t)&&(e=this.length2em(s.get(t),1,1)),e}getWH(t){if(0===t.length)return 0;if(1===t.length)return t[0];const[e,s]=t,r=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(e-r,s+r):e+s}getStretchBBox(t,e,s){Object.hasOwn(s,"min")&&s.min>e&&(e=s.min);let[r,i,n]=s.HDW;if(this.stretch.dir===ka.Vertical)[r,i]=this.getBaseline(t,e,s);else if(n=e,this.stretch.hd&&!this.jax.options.mathmlSpacing){const t=this.font.params.extender_factor;r=r*(1-t)+this.stretch.hd[0]*t,i=i*(1-t)+this.stretch.hd[1]*t}this.bbox.h=r,this.bbox.d=i,this.bbox.w=n}getBaseline(t,e,s){const r=2===t.length&&t[0]+t[1]===e,i=this.node.attributes.get("symmetric"),[n,o]=r?t:[e,0];let[a,c]=[n+o,0];if(i){const t=this.font.params.axis_height;r&&(a=2*Math.max(n-t,o+t)),c=a/2-t}else if(r)c=o;else{const[t,e]=s.HDW||[.75,.25];c=e*(a/(t+e))}return[a-c,c]}checkExtendedHeight(t,e){if(e.fullExt){const[s,r]=e.fullExt;t=r+Math.ceil(Math.max(0,t-r)/s)*s}return t}setBreakStyle(t=""){if(this.breakStyle=this.node.parent.isEmbellished&&!t?"":this.getBreakStyle(t),this.breakCount&&this.multChar){const t=this.parent.node.childIndex(this.node),e=this.parent.node.childNodes[t+1];e&&e.setTeXclass(this.multChar.node)}}getBreakStyle(t=""){const e=this.node.attributes;let s=t||("newline"===e.get("linebreak")||this.node.getProperty("forcebreak")?e.get("linebreakstyle"):"");return"infixlinebreakstyle"===s&&(s=e.get(s)),s}getMultChar(){const t=this.node.attributes.get("linebreakmultchar");t&&"\u2062"===this.getText()&&"\u2062"!==t&&(this.multChar=this.createMo(t))}constructor(t,e,s=null){super(t,e,s),this.size=null,this.isAccent=this.node.isAccent,this.getMultChar(),this.setBreakStyle()}computeBBox(t,e=!1){if(this.protoBBox(t),this.node.attributes.get("symmetric")&&this.stretch.dir!==ka.Horizontal){const e=this.getCenterOffset(t);t.h+=e,t.d-=e}this.node.getProperty("mathaccent")&&(this.stretch.dir===ka.None||this.size>=0)&&(t.w=0)}computeLineBBox(t){return this.moLineBBox(t,this.breakStyle)}moLineBBox(t,e,s=null){const r=this.node.attributes.get("lineleading"),i=this.length2em(r,this.linebreakOptions.lineleading);if(0===t&&"before"===e){const t=Ra.from(Zo.zero(),i);return t.originalL=this.bbox.L,this.bbox.L=0,t}let n=Ra.from(s||this.getOuterBBox(),i);return 1===t&&("after"===e?(n.w=n.h=n.d=0,n.isFirst=!0,this.bbox.R=0):"duplicate"===e?n.L=0:this.multChar&&(n=Ra.from(this.multChar.getOuterBBox(),i)),n.getIndentData(this.node)),n}canStretch(t){if(this.stretch.dir!==ka.None)return this.stretch.dir===t;if(!this.node.attributes.get("stretchy"))return!1;const e=this.getText();if(1!==Array.from(e).length)return!1;const s=this.font.getDelimiter(e.codePointAt(0));return this.stretch=s&&s.dir===t?s:Sa,this.stretch.dir!==ka.None}getVariant(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":this.node.attributes.hasExplicit("mathvariant")||!1!==this.node.getProperty("pseudoscript")?super.getVariant():this.variant="-tex-variant"}remapChars(t){const e=this.node.getProperty("primes");if(e)return _n(e);if(1===t.length){const e=this.node.coreParent().parent,s=this.isAccent&&!e.isKind("mrow")?"accent":"mo",r=this.font.getRemappedChar(s,t[0]);r&&(t=this.unicodeChars(r,this.variant))}return t}}}class Qa{constructor(){this.used=new Set,this.needsUpdate=[]}add(t){const e=JSON.stringify(t);this.used.has(e)||this.needsUpdate.push(t),this.used.add(e)}has(t){return this.used.has(JSON.stringify(t))}clear(){this.used.clear(),this.needsUpdate=[]}update(){const t=this.needsUpdate;return this.needsUpdate=[],t}}class Za extends Ia{constructor(){super(...arguments),this.charUsage=new Qa,this.delimUsage=new Qa,this.fontUsage={},this.newFonts=0}static charOptions(t,e){return super.charOptions(t,e)}static addFontURLs(t,e,s){for(const r of Object.keys(e)){const i=Object.assign({},e[r]);i.src=i.src.replace(/%%URL%%/,s),t[r]=i}}static addDynamicFontCss(t,e,s){const r={};for(const s of e){const e=s.slice(4);r[`@font-face /* ${e} */`]={"font-family":s,src:`url("%%URL%%/${s.toLowerCase()}.woff2") format("woff2")`},t[`.${e}`]={"font-family":`${this.defaultCssFamilyPrefix}, ${s}`}}this.addFontURLs(t,r,s)}static addExtension(t,e=""){super.addExtension(t,e),t.fonts&&this.addDynamicFontCss(this.defaultStyles,t.fonts,t.fontURL)}addExtension(t,e=""){if(super.addExtension(t,e),!t.fonts||!this.options.adaptiveCSS)return[];const s={},r=new ca;return this.constructor.addDynamicFontCss(s,t.fonts,t.fontURL),r.addStyles(s),r.getStyleRules()}adaptiveCSS(t){this.options.adaptiveCSS=t}clearCache(){this.options.adaptiveCSS&&(this.charUsage.clear(),this.delimUsage.clear())}createVariant(t,e=null,s=null){super.createVariant(t,e,s),this.variant[t].letter=this.constructor.defaultVariantLetters[t]}defineChars(t,e){super.defineChars(t,e);const s=this.variant[t].letter,r=this.constructor;for(const t of Object.keys(e)){const i=parseInt(t);if(!Array.isArray(e[i]))continue;const n=r.charOptions(e,i);void 0===n.f&&(n.f=s);for(const[t,e]of r.combiningChars)if(i>=t&&i<=e){n.cmb=!0;break}}}addDynamicFontCss(t,e=this.options.fontURL){this.constructor.addDynamicFontCss(this.fontUsage,t,e)}updateDynamicStyles(){const t=this.fontUsage;return this.fontUsage={},this.options.adaptiveCSS||this.updateStyles(t),t}get styles(){const t=this.constructor,e=Object.assign(Object.assign({},t.defaultStyles),this.fontUsage);return this.fontUsage={},t.addFontURLs(e,t.defaultFonts,this.options.fontURL),this.options.adaptiveCSS?this.updateStyles(e):this.allStyles(e),e}updateStyles(t){for(const e of this.delimUsage.update())this.addDelimiterStyles(t,e,this.getDelimiter(e));for(const[e,s]of this.charUsage.update()){const r=this.variant[e];this.addCharStyles(t,r.letter,s,r.chars[s])}return t}allStyles(t){var e;for(const e of Object.keys(this.delimiters)){const s=parseInt(e);this.addDelimiterStyles(t,s,this.delimiters[s])}for(const s of Object.keys(this.variant)){const r=this.variant[s],i=r.letter;for(const s of Object.keys(r.chars)){const n=parseInt(s),o=r.chars[n];!(null===(e=null==o?void 0:o[3])||void 0===e?void 0:e.smp)&&Array.isArray(o)&&(o.length<4&&(o[3]={}),this.addCharStyles(t,i,n,o))}}}addDelimiterStyles(t,e,s){if(!s.stretch)return;const r=s.c&&s.c!==e?this.charSelector(s.c):this.charSelector(e);s.dir===ka.Vertical?this.addDelimiterVStyles(t,e,r,s):this.addDelimiterHStyles(t,e,r,s)}addDelimiterVStyles(t,e,s,r){const i=r.HDW,[n,o,a,c]=r.stretch,[l,h,d,u]=this.getStretchVariants(e),p=this.addDelimiterVPart(t,s,"beg",n,l,i);this.addDelimiterVPart(t,s,"ext",o,h,i);const m=this.addDelimiterVPart(t,s,"end",a,d,i);if(c){const e=this.addDelimiterVPart(t,s,"mid",c,u,i),r=this.em(e/2-.03);t[`mjx-stretchy-v${s} > mjx-ext:first-of-type`]={height:"50%","border-width":`${this.em1(p-.03)} 0 ${r}`},t[`mjx-stretchy-v${s} > mjx-ext:last-of-type`]={height:"50%","border-width":`${r} 0 ${this.em1(m-.03)}`}}else(m||p)&&(t[`mjx-stretchy-v${s} > mjx-ext`]["border-width"]=`${this.em1(p-.03)} 0 ${this.em1(m-.03)}`)}addDelimiterVPart(t,e,s,r,i,n){if(!r)return 0;const[o,a,c]=this.getChar(i,r),l={width:this.em0(c)};if("ext"!==s){const t=c>n[2]?this.em((n[2]-c)/2):"auto",e="beg"===s?o:"end"===s?-a:(o-a)/2;l.margin=`${this.em(e)} ${t} ${this.em(-e)}`}else l["line-height"]=this.em0(o+a+.005),t[`mjx-stretchy-v${e} > mjx-${s} > mjx-spacer`]={"margin-top":this.em(-a)};return t[`mjx-stretchy-v${e} > mjx-${s}`]=l,o+a}addDelimiterHStyles(t,e,s,r){const i=[...r.HDW],[n,o,a,c]=r.stretch,[l,h,d,u]=this.getStretchVariants(e);if(r.hd&&!this.options.mathmlSpacing){const t=this.params.extender_factor;i[0]=i[0]*(1-t)+r.hd[0]*t,i[1]=i[1]*(1-t)+r.hd[1]*t}const p=this.addDelimiterHPart(t,s,"beg",n,l,i);this.addDelimiterHPart(t,s,"ext",o,h,i);const m=this.addDelimiterHPart(t,s,"end",a,d,i);if(c){const e=this.addDelimiterHPart(t,s,"mid",c,u,i),r=this.em0(e/2-.03);t[`mjx-stretchy-h${s} > mjx-ext:first-of-type`]={width:"50%","border-width":`0 ${r} 0 ${this.em0(p-.03)}`},t[`mjx-stretchy-h${s} > mjx-ext:last-of-type`]={width:"50%","border-width":`0 ${this.em0(m-.03)} 0 ${r}`}}else(p||m)&&(t[`mjx-stretchy-h${s} > mjx-ext`]["border-width"]=`0 ${this.em0(m-.06)} 0 ${this.em0(p-.06)}`);r.ext&&(t[`mjx-stretchy-h${s} > mjx-ext > mjx-spacer`]["letter-spacing"]=this.em(-r.ext))}addDelimiterHPart(t,e,s,r,i,n){if(!r)return 0;let[,,o,a]=this.getChar(i,r);const c={padding:this.padding(n,o-n[2])};return"ext"===s?(!o&&a.dx&&(o=2*a.dx-.06),t[`mjx-stretchy-h${e} > mjx-${s} > mjx-spacer`]={"margin-left":this.em(-o/2)},a.cmb&&(t[`mjx-stretchy-h${e} > mjx-${s} > mjx-c`]={width:this.em(o),"text-align":"right"})):("mid"===s?c.margin=`0 ${this.em(-o/2)}`:c["end"==s?"margin-left":"margin-right"]=this.em(-o),this.checkCombiningChar(a,c)),t[`mjx-stretchy-h${e} > mjx-${s}`]=c,o}addCharStyles(t,e,s,r){const i=r[3],n=void 0!==i.f?i.f:e,o=i.ff||(n?`${this.cssFontPrefix}-${n}`:""),a="mjx-c"+this.charSelector(s)+(o?"."+o:""),c=i.oc||i.ic||0;t[a]={padding:this.padding(r,c)},i.oc&&(t[a+"[noic]"]={"padding-right":this.em(r[2])}),this.checkCombiningChar(i,t[a])}checkCombiningChar(t,e){if(!t.cmb)return;const s=e.padding.split(/ /);e.width=s[1],s[1]="0",s[3]||s.pop(),e.padding=s.join(" ")}em(t){return Yo(t)}em0(t){return Yo(Math.max(0,t))}em1(t){const e=Yo(Math.max(0,t));return"0"===e?".1px":e}padding([t,e,s],r=0){return[t,s+r,e,0].map(this.em0).join(" ")}charSelector(t){return".mjx-c"+t.toString(16).toUpperCase()}}function tc(t,e){for(const s of Object.keys(e)){const r=parseInt(s),i=e[r];i.c&&(i.c=i.c.replace(/\\[0-9A-F]+/gi,t=>String.fromCodePoint(parseInt(t.substring(1),16)))),Object.assign(Ia.charOptions(t,r),i)}return t}Za.OPTIONS=Object.assign(Object.assign({},Ia.OPTIONS),{dynamicPrefix:"./chtml/dynamic",fontURL:"./chtml/woff2"}),Za.JAX="CHTML",Za.defaultVariantLetters={},Za.defaultStyles={},Za.defaultFonts={},Za.combiningChars=[[768,879],[8400,8447]];const ec=function(){var t;const e=Ya(Va);return t=class extends e{toCHTML(t){const e=this.adaptor,s=this.node.attributes,r=s.get("symmetric")&&this.stretch.dir!==ka.Horizontal,i=this.stretch.dir!==ka.None;i&&null===this.size&&this.getStretchedVariant([]),t.length>1&&t.forEach(t=>e.append(t,this.html("mjx-linestrut")));const n=this.standardChtmlNodes(t);if(n.length>1&&"duplicate"!==this.breakStyle){const t="after"===this.breakStyle?1:0;e.remove(n[t]),n[t]=null}if(i&&this.size<0)this.stretchHTML(n);else{if(r||s.get("largeop")){const t=this.em(this.getCenterOffset());"0"!==t&&n.forEach(s=>s&&e.setStyle(s,"verticalAlign",t))}this.node.getProperty("mathaccent")&&n.forEach(t=>{e.setStyle(t,"width","0"),e.setStyle(t,"margin-left",this.em(this.getAccentOffset()))}),n[0]&&this.addChildren([n[0]]),n[1]&&(this.multChar||this).addChildren([n[1]])}}stretchHTML(t){const e=this.getText().codePointAt(0);this.font.delimUsage.add(e),this.childNodes[0].markUsed();const s=this.stretch,r=s.stretch,i=this.font.getStretchVariants(e),n=[],o=[];for(let t=0;t<r.length;t++)r[t]&&(o[t]=this.font.getChar(i[t],r[t]));const{h:a,d:c,w:l}=this.bbox,h={};s.dir===ka.Vertical?(this.createAssembly(o,r,i,n,a+c,.05,"\n"),n.push(this.html("mjx-mark")),h.height=this.em(a+c),h.verticalAlign=this.em(-c)):(this.createAssembly(o,r,i,n,l,s.ext||0),h.width=this.em(l));const d={class:this.char(s.c||e),style:h},u=this.html("mjx-stretchy-"+s.dir,d,n),p=this.adaptor;t[0]&&p.append(t[0],u),t[1]&&p.append(t[1],t[0]?p.clone(u):u)}createAssembly(t,e,s,r,i,n,o=""){t=[...t,null,null,null].slice(0,4);let[a,c,l,h]=t.map(t=>t?o?t[0]+t[1]:t[2]:0);c=Math.max(0,c-n);const[d,u]=t[3]?[(i-h)/2-a,(i-h)/2-l]:[i-a-l,0];this.createPart("mjx-beg",t[0],e[0],s[0],r),this.createPart("mjx-ext",t[1],e[1],s[1],r,d,c,o),t[3]&&(this.createPart("mjx-mid",t[3],e[3],s[3],r),this.createPart("mjx-ext",t[1],e[1],s[1],r,u,c,o)),this.createPart("mjx-end",t[2],e[2],s[2],r)}createPart(t,e,s,r,i,n=0,o=0,a=""){if(s){const c=e[3],l=c.f||("normal"===r?"":this.font.getVariant(r).letter),h=c.ff||(l?`${this.font.cssFontPrefix}-${l}`:""),d=c.c||String.fromCodePoint(s);let u=[];if("mjx-ext"===t&&(o||c.dx)){o||(o=Math.max(.06,2*c.dx-.06));const t=Math.min(Math.ceil(n/o)+1,500);if(c.cmb){u.push(this.html("mjx-spacer"));for(let e=0;e<t;e++)u.push(this.html("mjx-c",{},[this.text(d)]))}else u=[this.html("mjx-spacer",{},[this.text(Array(t).fill(d).join(a))])]}else u=[this.text(d)];i.push(this.html(t,h?{class:h}:{},u))}}},t.kind=Tn.prototype.kind,t.styles={"mjx-stretchy-h":{display:"inline-block"},"mjx-stretchy-h > *":{display:"inline-block",width:0,"text-align":"right"},"mjx-stretchy-h > mjx-ext":{"clip-path":"padding-box xywh(0 -1em 100% calc(100% + 2em))",width:"100%",border:"0px solid transparent","box-sizing":"border-box","text-align":"left"},"mjx-stretchy-v":{display:"inline-block","text-align":"center"},"mjx-stretchy-v > *":{display:"block",height:0,margin:"0 auto"},"mjx-stretchy-v > mjx-ext > mjx-spacer":{display:"block"},"mjx-stretchy-v > mjx-ext":{"clip-path":"padding-box xywh(-1em 0 calc(100% + 2em) 100%)",height:"100%",border:"0.1px solid transparent","box-sizing":"border-box","white-space":"wrap"},"mjx-mark":{display:"inline-block",height:0}},t}();function sc(t){return class extends t{remapChars(t){if(t.length){const e=this.font.getRemappedChar("mn",t[0]);if(e){const s=this.unicodeChars(e,this.variant);1===s.length?t[0]=s[0]:t=s.concat(t.slice(1))}}return t}}}const rc=function(){var t;const e=sc(Va);return(t=class extends e{}).kind=pn.prototype.kind,t}();function ic(t){return class extends t{createText(t){const e=this.wrap(this.mmlText(t));return e.parent=this,e}constructor(t,e,s=null){super(t,e,s);const r=this.node.attributes,i=r.getList("lquote","rquote");"monospace"!==this.variant&&(r.isSet("lquote")||'"'!==i.lquote||(i.lquote="\u201c"),r.isSet("rquote")||'"'!==i.rquote||(i.rquote="\u201d")),this.childNodes.unshift(this.createText(i.lquote)),this.childNodes.push(this.createText(i.rquote))}}}const nc=function(){var t;const e=ic(Va);return(t=class extends e{}).kind=Ln.prototype.kind,t}();function oc(t){var e;return e=class extends t{constructor(){super(...arguments),this.breakPoints=[]}textWidth(t){let e=this.textNode;if(!e){const t=this.node.factory.create("text");t.parent=this.node,e=this.textNode=this.factory.wrap(t),e.parent=this}return e.node.setText(t),e.invalidateBBox(!1),e.getBBox().w}get breakCount(){return this.breakPoints.length}getVariant(){const t=this.jax.options,e=this.jax.math.outputData,s=(!!e.merrorFamily||!!t.merrorFont)&&this.node.Parent.isKind("merror");if(e.mtextFamily||t.mtextFont||s){const r=this.node.attributes.get("mathvariant"),i=this.constructor.INHERITFONTS[r]||this.jax.font.getCssFont(r),n=i[0]||(s?e.merrorFamily||t.merrorFont:e.mtextFamily||t.mtextFont);return void(this.variant=this.explicitVariant(n,i[2]?"bold":"",i[1]?"italic":""))}super.getVariant()}setBreakAt(t){this.breakPoints.push(t)}clearBreakPoints(){this.breakPoints=[]}computeLineBBox(t){const e=Ra.from(this.getOuterBBox(),this.linebreakOptions.lineleading);return this.breakCount?(e.w=this.getBreakWidth(t),0===t?(e.R=0,this.addLeftBorders(e)):(e.L=0,e.indentData=[["left","0"],["left","0"],["left","0"]],t===this.breakCount&&this.addRightBorders(e)),e):e}getBreakWidth(t){const e=this.childNodes;let[s,r]=this.breakPoints[t-1]||[0,0];const[i,n]=this.breakPoints[t]||[e.length,0];let o=e[s].node.getText().split(/ /);if(s===i)return this.textWidth(o.slice(r,n).join(" "));let a=this.textWidth(o.slice(r).join(" "));for(;++s<i&&s<e.length;)a+=e[s].getBBox().w;return s<e.length&&(o=e[s].node.getText().split(/ /),a+=this.textWidth(o.slice(0,n).join(" "))),a}},e.INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},e}const ac=function(){var t;const e=oc(Va);return(t=class extends e{toCHTML(t){if(!this.breakCount)return void super.toCHTML(t);const e=this.standardChtmlNodes(t),s=this.textNode.node,r=this.childNodes;for(const t of e.keys()){const i=[e[t]];this.adaptor.append(e[t],this.html("mjx-linestrut"));let[n,o]=this.breakPoints[t-1]||[0,0];const[a,c]=this.breakPoints[t]||[r.length,0];let l=r[n].node.getText().split(/ /);if(n!==a){for(s.setText(l.slice(o).join(" ")),this.textNode.toCHTML(i);++n<a&&n<r.length;)r[n].toCHTML(i);n<r.length&&(l=r[n].node.getText().split(/ /),s.setText(l.slice(0,c).join(" ")),this.textNode.toCHTML(i))}else s.setText(l.slice(o,c).join(" ")),this.textNode.toCHTML(i)}}}).kind=Mn.prototype.kind,t}();function cc(t){return class extends t{get canBreak(){return this.node.canBreak}get breakCount(){return this.breakStyle?1:0}setBreakStyle(t=""){this.breakStyle=t||(this.node.hasNewline||this.node.getProperty("forcebreak")?"before":"")}constructor(t,e,s=null){super(t,e,s),this.setBreakStyle()}computeBBox(t,e=!1){const s=this.node.attributes;t.w=this.length2em(s.get("width"),0),t.h=this.length2em(s.get("height"),0),t.d=this.length2em(s.get("depth"),0)}computeLineBBox(t){const e=this.node.attributes.get("data-lineleading"),s=this.length2em(e,this.linebreakOptions.lineleading),r=Ra.from(Zo.zero(),s);return 1===t&&(r.getIndentData(this.node),r.w=this.getBBox().w,r.isFirst=0===r.w),r}}}const lc=function(){var t;const e=cc(Va);return(t=class extends e{toCHTML(t){t.length>1&&t.forEach(t=>this.adaptor.append(t,this.html("mjx-linestrut")));const e=this.standardChtmlNodes(t);let{w:s,h:r,d:i}=this.getBBox();s<0&&(this.adaptor.setStyle(e[0],"marginRight",this.em(s)),s=0),s&&!this.breakCount&&this.adaptor.setStyle(e[0],"width",this.em(s)),r=Math.max(0,r+i),r&&this.adaptor.setStyle(e[0],"height",this.em(Math.max(0,r))),i&&this.adaptor.setStyle(e[0],"verticalAlign",this.em(-i))}}).kind=Sn.prototype.kind,t}();function hc(t){return class extends t{getDimens(){const t=this.node.attributes.getList("width","height","depth","lspace","voffset"),e=this.childNodes[0].getOuterBBox();let{w:s,h:r,d:i}=e;const n=s,o=r,a=i;let c=0,l=0,h=0;""!==t.width&&(s=this.dimen(t.width,e,"w",0)),""!==t.height&&(r=this.dimen(t.height,e,"h",0)),""!==t.depth&&(i=this.dimen(t.depth,e,"d",0)),""!==t.voffset&&(l=this.dimen(t.voffset,e)),""!==t.lspace&&(c=this.dimen(t.lspace,e));const d=this.node.attributes.get("data-align");return d&&(h=this.getAlignX(s,e,d)),[o,a,n,r-o,i-a,s-n,c,l,h]}dimen(t,e,s="",r=null){const i=(t=String(t)).match(/width|height|depth/),n=i?e[i[0].charAt(0)]:s?e[s]:0;let o=this.length2em(t,n)||0;return t.match(/^[-+]/)&&s&&(o+=n),null!=r&&(o=Math.max(r,o)),o}setBBoxDimens(t){const[e,s,r,i,n,o]=this.getDimens();t.w=r+o,t.h=e+i,t.d=s+n}computeBBox(t,e=!1){this.setBBoxDimens(t);if(this.childNodes[0].getOuterBBox().w>t.w){const e=this.node.attributes.get("data-overflow");("linebreak"===e||"auto"===e&&"linebreak"===this.jax.math.root.attributes.get("overflow"))&&(this.childNodes[0].breakToWidth(t.w),this.setBBoxDimens(t))}this.setChildPWidths(e,t.w)}getWrapWidth(t){return this.getBBox().w}getChildAlign(t){return this.node.attributes.get("data-align")||"left"}}}const dc=function(){var t;const e=hc(Va);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;let e=this.standardChtmlNodes(t);const s=[],r={},[,,i,n,o,a,c,l,h]=this.getDimens();if((a||this.childNodes[0].getBBox().pwidth)&&(r.width=this.em(i+a)),(n||o)&&(r.margin=this.em(n)+" 0 "+this.em(o)),c+h||l){r.position="relative";const t=this.html("mjx-rbox",{style:{left:this.em(c+h),top:this.em(-l),"max-width":r.width}});c+h&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(t,"width","full"),this.adaptor.setStyle(t,"left",this.em(c))),s.push(t)}e=[this.adaptor.append(e[0],this.html("mjx-block",{style:r},s))],this.childNodes[0].childNodes.length?this.childNodes[0].toCHTML([s[0]||e[0]]):(n||o)&&this.adaptor.append(s[0]||e[0],this.html("mjx-box"))}}).kind=qn.prototype.kind,t.styles={"mjx-mpadded":{display:"inline-block"},"mjx-rbox":{display:"inline-block",position:"relative"}},t}(),uc=4,pc=1,mc=2,fc=.067,gc=.2,bc=fc+"em solid",xc={top:0,right:1,bottom:2,left:3},Ec=Object.keys(xc),yc=t=>new Array(4).fill(t.thickness+t.padding),Nc=t=>new Array(4).fill(t.padding),_c=t=>new Array(4).fill(t.thickness),vc=t=>Math.max(t.padding,t.thickness*(t.arrowhead.x+t.arrowhead.dx+1)),wc=(t,e)=>{if(t.childNodes[0]){const{h:s,d:r}=t.childNodes[0].getBBox();e[0]=e[2]=Math.max(0,t.thickness*t.arrowhead.y-(s+r)/2)}return e},Cc=(t,e)=>{if(t.childNodes[0]){const{w:s}=t.childNodes[0].getBBox();e[1]=e[3]=Math.max(0,t.thickness*t.arrowhead.y-s/2)}return e},kc={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},Ac={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},Tc={up:t=>Cc(t,[vc(t),0,t.padding,0]),down:t=>Cc(t,[t.padding,0,vc(t),0]),right:t=>wc(t,[0,vc(t),0,t.padding]),left:t=>wc(t,[0,t.padding,0,vc(t)]),updown:t=>Cc(t,[vc(t),0,vc(t),0]),leftright:t=>wc(t,[0,vc(t),0,vc(t)])},Mc=function(t){return e=>{const s=xc[e];return[e,{renderer:t,bbox:t=>{const e=[0,0,0,0];return e[s]=t.thickness+t.padding,e},border:t=>{const e=[0,0,0,0];return e[s]=t.thickness,e}}]}},Sc=function(t){return(e,s,r)=>{const i=xc[s],n=xc[r];return[e,{renderer:t,bbox:t=>{const e=t.thickness+t.padding,s=[0,0,0,0];return s[i]=s[n]=e,s},border:t=>{const e=[0,0,0,0];return e[i]=e[n]=t.thickness,e},remove:s+" "+r}]}},Lc=function(t){return e=>{const s="mjx-"+e.charAt(0)+"strike";return[e+"diagonalstrike",{renderer:t(s),bbox:yc}]}},Ic=function(t){return e=>{const[s,r,i,n]=Ac[e];return[e+"arrow",{renderer:(e,n)=>{const[o,a]=e.arrowAW(),c=e.arrow(a,s*(o-r),i);t(e,c)},bbox:t=>{const{a:e,x:s,y:r}=t.arrowData(),[i,n,o]=[t.arrowhead.x,t.arrowhead.y,t.arrowhead.dx],[a,c]=t.getArgMod(i+o,n),l=r+(a>e?t.thickness*c*Math.sin(a-e):0),h=s+(a>Math.PI/2-e?t.thickness*c*Math.sin(a+e-Math.PI/2):0);return[l,h,l,h]},remove:n}]}},Rc=function(t){return e=>{const[s,r,i,n]=kc[e];return[e+"arrow",{renderer:(e,n)=>{const{w:o,h:a,d:c}=e.getBBox(),[l,h]=i?[a+c,"X"]:[o,"Y"],d=e.getOffset(h),u=e.arrow(l,s,r,h,d);t(e,u)},bbox:Tc[e],remove:n}]}};function Oc(t){return class extends t{getParameters(){const t=this.node.attributes,e=t.get("data-padding");void 0!==e&&(this.padding=this.length2em(e,gc));const s=t.get("data-thickness");void 0!==s&&(this.thickness=this.length2em(s,fc));const r=t.get("data-arrowhead");if(void 0!==r){const[t,e,s]=Cn(r);this.arrowhead={x:t?parseFloat(t):uc,y:e?parseFloat(e):mc,dx:s?parseFloat(s):pc}}}getNotations(){const t=this.constructor.notations;for(const e of Cn(this.node.attributes.get("notation"))){const s=t.get(e);s&&(this.notations[e]=s,s.renderChild&&(this.renderChild=s.renderer))}}removeRedundantNotations(){for(const t of Object.keys(this.notations))if(this.notations[t]){const e=this.notations[t].remove||"";for(const t of e.split(/ /))delete this.notations[t]}}initializeNotations(){for(const t of Object.keys(this.notations)){const e=this.notations[t].init;e&&e(this)}}getBBoxExtenders(){const t=[0,0,0,0];for(const e of Object.keys(this.notations))this.maximizeEntries(t,this.notations[e].bbox(this));return t}getPadding(){const t=[0,0,0,0];for(const e of Object.keys(this.notations)){const s=this.notations[e].border;s&&this.maximizeEntries(t,s(this))}return[0,1,2,3].map(e=>this.TRBL[e]-t[e])}maximizeEntries(t,e){for(let s=0;s<t.length;s++)t[s]<e[s]&&(t[s]=e[s])}getOffset(t){const[e,s,r,i]=this.TRBL,n=("X"===t?s-i:r-e)/2;return Math.abs(n)>.001?n:0}getArgMod(t,e){return[Math.atan2(e,t),Math.sqrt(t*t+e*e)]}arrow(t,e,s,r="",i=0){return null}arrowData(){const[t,e]=[this.padding,this.thickness],s=e*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),{h:r,d:i,w:n}=this.childNodes[0].getBBox(),o=r+i,a=Math.sqrt(o*o+n*n),c=Math.max(t,s*n/a),l=Math.max(t,s*o/a),[h,d]=this.getArgMod(n+2*c,o+2*l);return{a:h,W:d,x:c,y:l}}arrowAW(){const{h:t,d:e,w:s}=this.childNodes[0].getBBox(),[r,i,n,o]=this.TRBL;return this.getArgMod(o+s+i,r+t+e+n)}createMsqrt(t){const e=this.node.factory.create("msqrt");e.inheritAttributesFrom(this.node),e.childNodes[0]=t.node;const s=this.wrap(e);return s.parent=this,s}sqrtTRBL(){const t=this.msqrt.getBBox(),e=this.msqrt.childNodes[0].getBBox();return[t.h-e.h,0,t.d-e.d,t.w-e.w]}constructor(t,e,s=null){super(t,e,s),this.notations={},this.renderChild=null,this.msqrt=null,this.padding=gc,this.thickness=fc,this.arrowhead={x:uc,y:mc,dx:pc},this.TRBL=[0,0,0,0],this.getParameters(),this.getNotations(),this.removeRedundantNotations(),this.initializeNotations(),this.TRBL=this.getBBoxExtenders()}computeBBox(t,e=!1){const[s,r,i,n]=this.TRBL,o=this.childNodes[0].getBBox();t.combine(o,n,0),t.h+=s,t.d+=i,t.w+=r,this.setChildPWidths(e)}}}const Pc=function(t,e=""){return(s,r)=>{const i=s.adjustBorder(s.html("mjx-"+t));if(e){const t=s.getOffset(e);if(s.thickness!==fc||t){const r=`translate${e}(${s.Em(s.thickness/2-t)})`;s.adaptor.setStyle(i,"transform",r)}}s.adaptor.append(s.dom[0],i)}},Dc=function(t){return Mc((e,s)=>{e.adaptor.setStyle(s,"border-"+t,e.Em(e.thickness)+" solid")})(t)},Bc=function(t,e,s){return Sc((t,r)=>{const i=t.Em(t.thickness)+" solid";t.adaptor.setStyle(r,"border-"+e,i),t.adaptor.setStyle(r,"border-"+s,i)})(t,e,s)},Fc=function(t,e){return Lc(t=>(s,r)=>{const{w:i,h:n,d:o}=s.getBBox(),[a,c]=s.getArgMod(i,n+o),l=e*s.thickness/2,h=s.adjustBorder(s.html(t,{style:{width:s.Em(c),transform:"rotate("+s.fixed(-e*a)+"rad) translateY("+l+"em)"}}));s.adaptor.append(s.dom[0],h)})(t)},qc=function(t){return Ic((t,e)=>{t.adaptor.append(t.dom[0],e)})(t)},jc=function(t){return Rc((t,e)=>{t.adaptor.append(t.dom[0],e)})(t)};function Uc(t,e){return Math.atan2(t,e).toFixed(3).replace(/\.?0+$/,"")}const Hc=Uc(pc,mc),Gc=function(){var t;const e=Oc(Va);return(t=class extends e{adjustArrow(t,e){const s=this.thickness,r=this.arrowhead;if(r.x===uc&&r.y===mc&&r.dx===pc&&s===fc)return;const[i,n]=[s*r.x,s*r.y].map(t=>this.em(t)),o=Uc(r.dx,r.y),[a,c,l,h,d]=this.adaptor.childNodes(t);this.adjustHead(c,[n,"0","1px",i],o),this.adjustHead(l,["1px","0",n,i],"-"+o),this.adjustHead(h,[n,i,"1px","0"],"-"+o),this.adjustHead(d,["1px",i,n,"0"],o),this.adjustLine(a,s,r.x,e)}adjustHead(t,e,s){t&&(this.adaptor.setStyle(t,"border-width",e.join(" ")),this.adaptor.setStyle(t,"transform","skewX("+s+"rad)"))}adjustLine(t,e,s,r){this.adaptor.setStyle(t,"borderTop",this.em(e)+" solid"),this.adaptor.setStyle(t,"top",this.em(-e/2)),this.adaptor.setStyle(t,"right",this.em(e*(s-1))),r&&this.adaptor.setStyle(t,"left",this.em(e*(s-1)))}moveArrow(t,e,s){if(!s)return;const r=this.adaptor.getStyle(t,"transform");this.adaptor.setStyle(t,"transform",`translate${e}(${this.em(-s)})${r?" "+r:""}`)}adjustBorder(t){return this.thickness!==fc&&this.adaptor.setStyle(t,"borderWidth",this.em(this.thickness)),t}adjustThickness(t){return this.thickness!==fc&&this.adaptor.setStyle(t,"strokeWidth",this.fixed(this.thickness)),t}fixed(t,e=3){return Math.abs(t)<6e-4?"0":t.toFixed(e).replace(/\.?0+$/,"")}Em(t){return super.em(t)}toCHTML(t){const e=this.adaptor,s=this.standardChtmlNodes(t),r=e.append(s[0],this.html("mjx-box"));this.renderChild?this.renderChild(this,r):this.childNodes[0].toCHTML([r]);for(const t of Object.keys(this.notations)){const e=this.notations[t];e.renderChild||e.renderer(this,r)}const i=this.getPadding();for(const t of Ec){const s=xc[t];i[s]>0&&e.setStyle(r,"padding-"+t,this.em(i[s]))}}arrow(t,e,s,r="",i=0){const n=this.getBBox().w,o={width:this.em(t)};n!==t&&(o.left=this.em((n-t)/2)),e&&(o.transform="rotate("+this.fixed(e)+"rad)");const a=this.html("mjx-arrow",{style:o},[this.html("mjx-aline"),this.html("mjx-rthead"),this.html("mjx-rbhead")]);return s&&(this.adaptor.append(a,this.html("mjx-lthead")),this.adaptor.append(a,this.html("mjx-lbhead")),this.adaptor.setAttribute(a,"double","true")),this.adjustArrow(a,s),this.moveArrow(a,r,i),a}}).kind=Hn.prototype.kind,t.styles={"mjx-menclose":{position:"relative"},"mjx-menclose > mjx-dstrike":{display:"inline-block",left:0,top:0,position:"absolute","border-top":bc,"transform-origin":"top left"},"mjx-menclose > mjx-ustrike":{display:"inline-block",left:0,bottom:0,position:"absolute","border-top":bc,"transform-origin":"bottom left"},"mjx-menclose > mjx-hstrike":{"border-top":bc,position:"absolute",left:0,right:0,bottom:"50%",transform:"translateY("+Yo(fc/2)+")"},"mjx-menclose > mjx-vstrike":{"border-left":bc,position:"absolute",top:0,bottom:0,right:"50%",transform:"translateX("+Yo(fc/2)+")"},"mjx-menclose > mjx-rbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:bc,"border-radius":Yo(fc+gc)},"mjx-menclose > mjx-cbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:bc,"border-radius":"50%"},"mjx-menclose > mjx-arrow":{position:"absolute",left:0,bottom:"50%",height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:"block",position:"absolute","transform-origin":"bottom","border-left":Yo(fc*uc)+" solid","border-right":0,"box-sizing":"border-box"},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:Yo(-fc/2),right:Yo(fc*(uc-1)),height:0,"border-top":Yo(fc)+" solid","border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:Yo(fc*(uc-1)),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:"skewX("+Hc+"rad)",right:0,bottom:"-1px","border-bottom":"1px solid transparent","border-top":Yo(fc*mc)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:"skewX(-"+Hc+"rad)","transform-origin":"top",right:0,top:"-1px","border-top":"1px solid transparent","border-bottom":Yo(fc*mc)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:"skewX(-"+Hc+"rad)",left:0,bottom:"-1px","border-left":0,"border-right":Yo(fc*uc)+" solid","border-bottom":"1px solid transparent","border-top":Yo(fc*mc)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:"skewX("+Hc+"rad)","transform-origin":"top",left:0,top:"-1px","border-left":0,"border-right":Yo(fc*uc)+" solid","border-top":"1px solid transparent","border-bottom":Yo(fc*mc)+" solid transparent"},"mjx-menclose > mjx-dbox-top":{position:"absolute",top:0,bottom:"50%",left:0,width:Yo(1.5*gc),border:Yo(fc)+" solid","border-style":"solid solid none none","border-radius":"0 100% 0 0","box-sizing":"border-box"},"mjx-menclose > mjx-dbox-bot":{position:"absolute",top:"50%",bottom:0,left:0,width:Yo(1.5*gc),"border-width":Yo(fc),"border-style":"none solid solid none","border-radius":"0 0 100% 0","box-sizing":"border-box"}},t.notations=new Map([Dc("top"),Dc("right"),Dc("bottom"),Dc("left"),Bc("actuarial","top","right"),Bc("madruwb","bottom","right"),Fc("up",1),Fc("down",-1),["horizontalstrike",{renderer:Pc("hstrike","Y"),bbox:t=>[0,t.padding,0,t.padding]}],["verticalstrike",{renderer:Pc("vstrike","X"),bbox:t=>[t.padding,0,t.padding,0]}],["box",{renderer:(t,e)=>{t.adaptor.setStyle(e,"border",t.Em(t.thickness)+" solid")},bbox:yc,border:_c,remove:"left right top bottom"}],["roundedbox",{renderer:Pc("rbox"),bbox:yc}],["circle",{renderer:Pc("cbox"),bbox:yc}],["phasorangle",{renderer:(t,e)=>{const{h:s,d:r}=t.getBBox(),[i,n]=t.getArgMod(1.75*t.padding,s+r),o=t.thickness*Math.sin(i)*.9;t.adaptor.setStyle(e,"border-bottom",t.Em(t.thickness)+" solid");const a=t.adjustBorder(t.html("mjx-ustrike",{style:{width:t.Em(n),transform:`translateX(${t.Em(o)}) rotate(${t.fixed(-i)}rad)`}}));t.adaptor.append(t.dom[0],a)},bbox:t=>{const e=t.padding/2,s=t.thickness;return[2*e,e,e+s,3*e+s]},border:t=>[0,0,t.thickness,0],remove:"bottom"}],jc("up"),jc("down"),jc("left"),jc("right"),jc("updown"),jc("leftright"),qc("updiagonal"),qc("northeast"),qc("southeast"),qc("northwest"),qc("southwest"),qc("northeastsouthwest"),qc("northwestsoutheast"),["longdiv",{renderer:(t,e)=>{const s=t.adaptor;s.setStyle(e,"border-top",t.Em(t.thickness)+" solid");const r=s.append(t.dom[0],t.html("mjx-dbox-top")),i=s.append(t.dom[0],t.html("mjx-dbox-bot")),n=t.thickness,o=t.padding;n!==fc&&(s.setStyle(r,"border-width",t.Em(n)),s.setStyle(i,"border-width",t.Em(n))),o!==gc&&(s.setStyle(r,"width",t.Em(1.5*o)),s.setStyle(i,"width",t.Em(1.5*o)))},bbox:t=>{const e=t.padding,s=t.thickness;return[e+s,e,e,2*e+s/2]}}],["radical",{renderer:(t,e)=>{t.msqrt.toCHTML([e]);const s=t.sqrtTRBL();t.adaptor.setStyle(t.msqrt.dom[0],"margin",s.map(e=>t.Em(-e)).join(" "))},init:t=>{t.msqrt=t.createMsqrt(t.childNodes[0])},bbox:t=>t.sqrtTRBL(),renderChild:!0}]]),t}();function zc(t){return class extends t{stretchChildren(){const t=[];for(const e of this.childNodes)e.canStretch(ka.Vertical)&&t.push(e);const e=t.length,s=this.childNodes.length;if(e&&s>1){let r=0,i=0;const n=e>1&&e===s;for(const t of this.childNodes){const e=t.stretch.dir===ka.None;if(n||e){const e=t.getBBox().rscale;let[s,n]=t.getUnbrokenHD();s*=e,n*=e,s>r&&(r=s),n>i&&(i=n)}}for(const e of t){const t=e.coreRScale();e.coreMO().getStretchedVariant([r/t,i/t])}}}get fixesPWidth(){return!1}get breakCount(){return this._breakCount<0&&(this._breakCount=this.childNodes.length?this.childNodes.reduce((t,e)=>t+e.breakCount,0):0),this._breakCount}breakTop(t,e){const s=this;return this.isStack?this.parent.breakTop(s,s):s}constructor(t,e,s=null){super(t,e,s),this.dh=0;const r=this;this.isStack=!this.parent||this.parent.node.isInferred||this.parent.breakTop(r,r)!==r,this.stretchChildren();for(const t of this.childNodes)if(t.bbox.pwidth){this.bbox.pwidth=Zo.fullWidth;break}}computeBBox(t,e=!1){const s=this.breakCount;this.lineBBox=s?[new Ra({h:.75,d:.25,w:0},[0,0])]:[],t.empty();for(const e of this.childNodes.keys()){const r=this.childNodes[e];t.append(r.getOuterBBox()),s&&this.computeChildLineBBox(r,e)}t.clean(),s&&!this.coreMO().node.isEmbellished&&this.computeLinebreakBBox(t),this.fixesPWidth&&this.setChildPWidths(e)&&this.computeBBox(t,!0),this.vboxAdjust(t)}computeLinebreakBBox(t){var e;t.empty();const s=this.isStack,r=this.lineBBox,i=r.length-1;if(s)for(const t of r.keys()){const e=r[t];this.addMiddleBorders(e),0===t&&this.addLeftBorders(e),t===i&&this.addRightBorders(e)}let n=0;for(const s of r.keys()){const i=r[s];t.combine(i,0,n),n-=Math.max(.25,i.d)+i.lineLeading+Math.max(.75,(null===(e=r[s+1])||void 0===e?void 0:e.h)||0)}s?(r[0].L=this.bbox.L,r[i].R=this.bbox.R):(t.w=Math.max(...this.lineBBox.map(t=>t.w)),this.shiftLines(t.w),this.jax.math.display||this.linebreakOptions.inline||(t.pwidth=Zo.fullWidth,this.node.isInferred&&(this.parent.bbox.pwidth=Zo.fullWidth))),t.clean()}vboxAdjust(t){if(!this.parent)return;const e=this.breakCount,s=this.parent.node.attributes.get("data-vertical-align");if(e&&"bottom"===s)this.dh=e?t.d-this.lineBBox[e-1].d:0;else{if(!("center"===s||e&&"middle"===s))return void(this.dh=0);{const{h:e,d:s}=t,r=this.font.params.axis_height;this.dh=(e+s)/2+r-e}}t.h+=this.dh,t.d-=this.dh}computeChildLineBBox(t,e){const s=this.lineBBox[this.lineBBox.length-1];s.end=[e,0],s.append(t.getLineBBox(0));const r=t.breakCount+1;if(1!==r)for(let s=1;s<r;s++){const r=new Ra({h:.75,d:.25,w:0});r.start=r.end=[e,s],r.isFirst=!0,r.append(t.getLineBBox(s)),this.lineBBox.push(r)}}getLineBBox(t){return this.getBBox(),this.isStack?super.getLineBBox(t):Ra.from(this.getOuterBBox(),this.linebreakOptions.lineleading)}shiftLines(t){var e,s;const r=this.lineBBox,i=r.length-1,[n,o]=(null===(e=r[1].indentData)||void 0===e?void 0:e[0])||["left","0"];for(const e of r.keys()){const a=r[e],[c,l]=0===e?[n,o]:(null===(s=a.indentData)||void 0===s?void 0:s[e===i?2:1])||["left","0"],[h,d]=this.processIndent(c,l,n,o,t);a.L=0,a.L=this.getAlignX(t,a,h)+d}}setChildPWidths(t,e=null,s=!0){return this.breakCount?!t&&(null!==e&&this.bbox.w!==e&&(this.bbox.w=e,this.shiftLines(e)),!0):super.setChildPWidths(t,e,s)}breakToWidth(t){this.linebreaks.breakToWidth(this,t)}}}function Wc(t){return class extends t{getScale(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1}}}const Vc=function(){var t;const e=zc(Va);return t=class extends e{constructor(){super(...arguments),this.linebreakCount=0}toCHTML(t){const e=this.linebreakCount=this.isStack?0:this.breakCount;e||!this.node.isInferred?t=this.standardChtmlNodes(t):this.dom=t,this.addChildren(t),e?this.placeLines(t,e):(this.handleVerticalAlign(t[0]),this.handleNegativeWidth(t[0]))}placeLines(t,e){var s,r;this.getBBox();const i=this.lineBBox,n=this.adaptor,[o,a]=(null===(s=i[1].indentData)||void 0===s?void 0:s[0])||["left","0"];for(const s of t.keys()){const c=i[s],[l,h]=0===s?[o,a]:(null===(r=c.indentData)||void 0===r?void 0:r[s===e?2:1])||["left","0"],[d,u]=this.processIndent(l,h,o,a);n.setAttribute(t[s],"align",d),u&&(n.setStyle(t[s],"position","relative"),n.setStyle(t[s],"left",this.em(u))),s<e&&this.jax.math.display&&n.setStyle(t[s],"margin-bottom",this.em(c.lineLeading))}}handleVerticalAlign(t){this.dh&&this.adaptor.setStyle(this.adaptor.parent(t),"vertical-align",this.em(this.dh))}handleNegativeWidth(t){const{w:e}=this.getBBox();e<0&&(this.adaptor.setStyle(t,"width",this.em(Math.max(0,e))),this.adaptor.setStyle(t,"marginRight",this.em(e)))}createChtmlNodes(t){const e=this.linebreakCount;if(!e)return super.createChtmlNodes(t);const s=this.adaptor,r=this.node.isInferred?"mjx-linestack":"mjx-"+this.node.kind;if(this.dom=[s.append(t[0],this.html(r))],"mjx-mrow"!==r||this.isStack||s.setAttribute(this.dom[0],"break-top","true"),this.node.getProperty("process-breaks")&&s.setAttribute(this.dom[0],"breakable","true"),this.node.isInferred||!this.isStack){const t=this.parent.node.attributes.get("data-vertical-align");"middle"!==t&&"center"!==t&&"bottom"!==t||s.setAttribute(this.dom[0],"break-align",t)}this.dom=[s.append(this.handleHref(t)[0],this.dom[0])];const i=Array(e);for(let t=0;t<=e;t++)i[t]=s.append(this.dom[0],this.html("mjx-linebox",{lineno:t}));return i}addChildren(t){let e=0;for(const s of this.childNodes){const r=s.breakCount;s.toCHTML(t.slice(e,e+r+1)),e+=r}}},t.kind=In.prototype.kind,t.styles={"mjx-linestack, mjx-mrow[break-top]":{display:"inline-table",width:"100%"},'mjx-linestack[break-align="bottom"], mjx-mrow[break-top][break-align="bottom"]':{display:"inline-block"},'mjx-linestack[break-align="middle"], mjx-mrow[break-top][break-align="middle"]':{"vertical-align":"middle"},'mjx-linestack[break-align="center"], mjx-mrow[break-top][break-align="center"]':{"vertical-align":"middle"},"mjx-linestack[breakable]":{display:"inline"},"mjx-linestack[breakable] > mjx-linebox":{display:"inline"},"mjx-linestack[breakable] > mjx-linebox::before":{"white-space":"pre",content:'"\\A"'},"mjx-linestack[breakable] > mjx-linebox::after":{"white-space":"normal",content:'" "',"letter-spacing":"-.999em","font-family":"MJX-BRK"},"mjx-linestack[breakable] > mjx-linebox:first-of-type::before":{display:"none"},"mjx-linestack[breakable] > mjx-linebox:last-of-type::after":{display:"none"},"mjx-linebox":{display:"block"},'mjx-linebox[align="left"]':{"text-align":"left"},'mjx-linebox[align="center"]':{"text-align":"center"},'mjx-linebox[align="right"]':{"text-align":"right"},"mjx-linestrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"}},t}(),Xc=function(){var t;const e=Wc(Vc);return(t=class extends e{}).kind=Rn.prototype.kind,t}();function $c(t){return class extends t{createMrow(){const t=this.node.factory.create("inferredMrow");t.inheritAttributesFrom(this.node),this.mrow=this.wrap(t),this.mrow.parent=this}addMrowChildren(){const t=this.node,e=this.mrow;this.addMo(t.open),this.childNodes.length&&e.childNodes.push(this.childNodes[0]);let s=0;for(const r of this.childNodes.slice(1))this.addMo(t.separators[s++]),e.childNodes.push(r);this.addMo(t.close),e.stretchChildren()}addMo(t){if(!t)return;const e=this.wrap(t);this.mrow.childNodes.push(e),e.parent=this.mrow}constructor(t,e,s=null){super(t,e,s),this.mrow=null,this.createMrow(),this.addMrowChildren()}computeBBox(t,e=!1){t.updateFrom(this.mrow.getOuterBBox()),this.setChildPWidths(e)}get breakCount(){return this.mrow.breakCount}computeLineBBox(t){return this.mrow.getLineBBox(t)}}}const Jc=function(){var t;const e=$c(Va);return(t=class extends e{toCHTML(t){const e=this.standardChtmlNodes(t);this.mrow.toCHTML(e)}}).kind=Un.prototype.kind,t}();function Kc(t){return class extends t{getFractionBBox(t,e,s){const r=this.childNodes[0].getOuterBBox(),i=this.childNodes[1].getOuterBBox(),n=this.font.params.axis_height,{T:o,u:a,v:c}=this.getTUV(e,s);t.combine(r,0,n+o+Math.max(r.d*r.rscale,a)),t.combine(i,0,n-o-Math.max(i.h*i.rscale,c)),t.w+=2*this.pad+.2}getTUV(t,e){const s=this.font.params,r=s.axis_height,i=(t?3.5:1.5)*e;return{T:(t?3.5:1.5)*e,u:(t?s.num1:s.num2)-r-i,v:(t?s.denom1:s.denom2)+r-i}}getAtopBBox(t,e){const{u:s,v:r,nbox:i,dbox:n}=this.getUVQ(e);t.combine(i,0,s),t.combine(n,0,-r),t.w+=2*this.pad}getUVQ(t){const e=this.childNodes[0].getOuterBBox(),s=this.childNodes[1].getOuterBBox(),r=this.font.params;let[i,n]=t?[r.num1,r.denom1]:[r.num3,r.denom2];const o=(t?7:3)*r.rule_thickness;let a=i-e.d*e.scale-(s.h*s.scale-n);return a<o&&(i+=(o-a)/2,n+=(o-a)/2,a=o),{u:i,v:n,q:a,nbox:e,dbox:s}}getBevelledBBox(t,e){const{u:s,v:r,delta:i,nbox:n,dbox:o}=this.getBevelData(e),a=this.bevel.getOuterBBox();t.combine(n,0,s),t.combine(a,t.w-i/2,0),t.combine(o,t.w-i/2,r)}getBevelData(t){const e=this.childNodes[0].getOuterBBox(),s=this.childNodes[1].getOuterBBox(),r=t?.4:.15,i=Math.max(e.scale*(e.h+e.d),s.scale*(s.h+s.d))+2*r,n=this.font.params.axis_height;return{H:i,delta:r,u:e.scale*(e.d-e.h)/2+n+r,v:s.scale*(s.d-s.h)/2+n-r,nbox:e,dbox:s}}isDisplay(){const{displaystyle:t,scriptlevel:e}=this.node.attributes.getList("displaystyle","scriptlevel");return t&&0===e}constructor(t,e,s=null){if(super(t,e,s),this.bevel=null,this.pad=this.node.getProperty("withDelims")?0:this.font.params.nulldelimiterspace,this.node.attributes.get("bevelled")){const{H:t}=this.getBevelData(this.isDisplay()),e=this.bevel=this.createMo("/");e.node.attributes.set("symmetric",!0),e.canStretch(ka.Vertical),e.getStretchedVariant([t],!0)}}computeBBox(t,e=!1){t.empty();const{linethickness:s,bevelled:r}=this.node.attributes.getList("linethickness","bevelled"),i=this.isDisplay();let n=null;if(r)this.getBevelledBBox(t,i);else{const e=this.length2em(String(s),.06);n=-2*this.pad,0===e?this.getAtopBBox(t,i):(this.getFractionBBox(t,i,e),n-=.2),n+=t.w}t.clean(),this.setChildPWidths(e,n)}canStretch(t){return!1}getChildAlign(t){const e=this.node.attributes;return e.get("bevelled")?"left":e.get(["numalign","denomalign"][t])}getWrapWidth(t){const e=this.node.attributes;if(e.get("bevelled"))return this.childNodes[t].getOuterBBox().w;return this.getBBox().w-(this.length2em(e.get("linethickness"))?.2:0)-2*this.pad}}}const Yc=function(){var t;const e=Kc(Va);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;this.standardChtmlNodes(t);const{linethickness:e,bevelled:s}=this.node.attributes.getList("linethickness","bevelled"),r=this.isDisplay();if(s)this.makeBevelled(r);else{const t=this.length2em(String(e),.06);0===t?this.makeAtop(r):this.makeFraction(r,t)}}makeFraction(t,e){const{numalign:s,denomalign:r}=this.node.attributes.getList("numalign","denomalign"),i=t?{type:"d"}:{},n=this.node.getProperty("withDelims")?Object.assign(Object.assign({},i),{delims:"true"}):Object.assign({},i),o="center"!==s?{align:s}:{},a="center"!==r?{align:r}:{},c=Object.assign({},i),l=Object.assign({},i),h=this.font.params;if(.06!==e){const s=h.axis_height,r=this.font.params.rule_factor,o=this.em(e),{T:a,u:d,v:u}=this.getTUV(t,e),p=(t?this.em(3*e):o)+" -.1em";i.style={height:o,"border-top":this.em(e*r)+" solid",margin:p};const m=this.em(Math.max(0,d));l.style={height:m,"vertical-align":"-"+m},c.style={height:this.em(Math.max(0,u))},n.style={"vertical-align":this.em(s-a)}}let d,u;this.adaptor.append(this.dom[0],this.html("mjx-frac",n,[d=this.html("mjx-num",o,[this.html("mjx-nstrut",l)]),this.html("mjx-dbox",{},[this.html("mjx-dtable",{},[this.html("mjx-line",i),this.html("mjx-row",{},[u=this.html("mjx-den",a,[this.html("mjx-dstrut",c)])])])])])),this.childNodes[0].toCHTML([d]),this.childNodes[1].toCHTML([u])}makeAtop(t){const{numalign:e,denomalign:s}=this.node.attributes.getList("numalign","denomalign"),r=t?{type:"d",atop:!0}:{atop:!0},i=this.node.getProperty("withDelims")?Object.assign(Object.assign({},r),{delims:!0}):Object.assign({},r),n="center"!==e?{align:e}:{},o="center"!==s?{align:s}:{},{v:a,q:c}=this.getUVQ(t);let l,h;n.style={"padding-bottom":this.em(c)},i.style={"vertical-align":this.em(-a)},this.adaptor.append(this.dom[0],this.html("mjx-frac",i,[l=this.html("mjx-num",n),h=this.html("mjx-den",o)])),this.childNodes[0].toCHTML([l]),this.childNodes[1].toCHTML([h])}makeBevelled(t){const e=this.adaptor;e.setAttribute(this.dom[0],"bevelled","ture");const s=e.append(this.dom[0],this.html("mjx-num"));this.childNodes[0].toCHTML([s]),this.bevel.toCHTML(this.dom);const r=e.append(this.dom[0],this.html("mjx-den"));this.childNodes[1].toCHTML([r]);const{u:i,v:n,delta:o,nbox:a,dbox:c}=this.getBevelData(t);i&&e.setStyle(s,"verticalAlign",this.em(i/a.scale)),n&&e.setStyle(r,"verticalAlign",this.em(n/c.scale));const l=this.em(-o/2);e.setStyle(this.bevel.dom[0],"marginLeft",l),e.setStyle(this.bevel.dom[0],"marginRight",l)}}).kind=On.prototype.kind,t.styles={"mjx-frac":{display:"inline-block","vertical-align":"0.17em",padding:"0 .22em"},'mjx-frac[type="d"]':{"vertical-align":".04em"},"mjx-frac[delims]":{padding:"0 .1em"},"mjx-frac[atop]":{padding:"0 .12em"},"mjx-frac[atop][delims]":{padding:"0"},"mjx-dtable":{display:"inline-table",width:"100%"},"mjx-dtable > *":{"font-size":"2000%"},"mjx-dbox":{display:"block","font-size":"5%"},"mjx-num":{display:"block","text-align":"center"},"mjx-den":{display:"block","text-align":"center"},"mjx-mfrac[bevelled] > mjx-num":{display:"inline-block"},"mjx-mfrac[bevelled] > mjx-den":{display:"inline-block"},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":"right"},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":"left"},"mjx-nstrut":{display:"inline-block",height:".054em",width:0,"vertical-align":"-.054em"},'mjx-nstrut[type="d"]':{height:".217em","vertical-align":"-.217em"},"mjx-dstrut":{display:"inline-block",height:".505em",width:0},'mjx-dstrut[type="d"]':{height:".726em"},"mjx-line":{display:"block","box-sizing":"border-box","min-height":"1px",height:".06em","border-top":".075em solid",margin:".06em -.1em",overflow:"hidden"},'mjx-line[type="d"]':{margin:".18em -.1em"}},t}();function Qc(t){return class extends t{get base(){return 0}get root(){return null}combineRootBBox(t,e,s){}getPQ(t){const e=this.font.params.rule_thickness,s=this.font.params.surd_height,r=this.node.attributes.get("displaystyle")?this.font.params.x_height:e;return[r,t.h+t.d>this.surdH?(t.h+t.d-(this.surdH-e-s-r/2))/2:s+r/4]}getRootDimens(t,e){return[0,0,0,0]}rootWidth(){return 1.25}getStretchedSurd(){const t=this.font.params.rule_thickness,e=this.font.params.surd_height,s=this.node.attributes.get("displaystyle")?this.font.params.x_height:t,{h:r,d:i}=this.childNodes[this.base].getOuterBBox();this.surdH=r+i+t+e+s/4,this.surd.getStretchedVariant([this.surdH-i,i],!0)}constructor(t,e,s=null){super(t,e,s),this.surd=this.createMo("\u221a"),this.surd.canStretch(ka.Vertical),this.getStretchedSurd()}computeBBox(t,e=!1){t.empty();const s=this.surd.getBBox(),r=new Zo(this.childNodes[this.base].getOuterBBox()),i=this.getPQ(s)[1],n=this.font.params.rule_thickness,o=this.font.params.surd_height,a=r.h+i+n,[c]=this.getRootDimens(s,a);t.h=a+o,this.combineRootBBox(t,s,a),t.combine(s,c,a-s.h),t.combine(r,c+s.w,0),t.clean(),this.setChildPWidths(e)}invalidateBBox(){super.invalidateBBox(),this.surd.childNodes[0].invalidateBBox()}}}const Zc=function(){var t;const e=Qc(Va);return t=class extends e{toCHTML(t){const e=this.surd,s=this.childNodes[this.base],r=e.getBBox(),i=s.getOuterBBox(),[,n]=this.getPQ(r),o=this.font.params.surd_height,a=i.h+n+o,c=this.adaptor,l=this.standardChtmlNodes(t);let h,d,u,p;null!=this.root&&(u=c.append(l[0],this.html("mjx-root")),p=this.childNodes[this.root]);const m=c.append(l[0],this.html("mjx-sqrt",{},[h=this.html("mjx-surd"),d=this.html("mjx-box",{style:{paddingTop:this.em(n)}})]));.06!==o&&c.setStyle(d,"border-top-width",this.em(o*this.font.params.rule_factor)),this.addRoot(u,p,r,a),e.toCHTML([h]),s.toCHTML([d]),e.size<0&&c.addClass(m,"mjx-tall")}addRoot(t,e,s,r){}},t.kind=Pn.prototype.kind,t.styles={"mjx-root":{display:"inline-block","white-space":"nowrap"},"mjx-surd":{display:"inline-block","vertical-align":"top"},"mjx-sqrt":{display:"inline-block","padding-top":".075em"},"mjx-sqrt > mjx-box":{"border-top":".075em solid","padding-left":".03em","margin-left":"-.03em"},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":".3em","margin-left":"-.3em"}},t}();function tl(t){return class extends t{get root(){return 1}combineRootBBox(t,e,s){const r=this.childNodes[this.root].getOuterBBox(),i=this.getRootDimens(e,s)[1];t.combine(r,0,i)}getRootDimens(t,e){const s=this.surd,r=this.childNodes[this.root].getOuterBBox(),i=(s.size<0?.5:.6)*t.w,{w:n,rscale:o}=r,a=Math.max(n,i/o),c=Math.max(0,a-n);return[a*o-i,this.rootHeight(r,t,s.size,e),c]}rootHeight(t,e,s,r){const i=e.h+e.d;return(s<0?1.9:.55*i)-(i-r)+Math.max(0,t.d*t.rscale)}rootWidth(){const t=this.childNodes[this.root].getOuterBBox();return.4+t.w*t.rscale}}}const el=function(){var t;const e=tl(Zc);return t=class extends e{addRoot(t,e,s,r){e.toCHTML([t]);const i=this.adaptor,[n,o,a]=this.getRootDimens(s,r);i.setStyle(t,"verticalAlign",this.em(o)),i.setStyle(t,"width",this.em(n)),a&&i.setStyle(i.firstChild(t),"paddingLeft",this.em(a))}},t.kind=Dn.prototype.kind,t}();function sl(t){var e;return(e=class extends t{get scriptChild(){return this.childNodes[this.node.sub]}getOffset(){return[this.baseIsChar?0:this.getAdjustedIc(),-this.getV()]}}).useIC=!1,e}function rl(t){return class extends t{get scriptChild(){return this.childNodes[this.node.sup]}getOffset(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]}}}function il(t){var e;return e=class extends t{constructor(){super(...arguments),this.UVQ=null}get subChild(){return this.childNodes[this.node.sub]}get supChild(){return this.childNodes[this.node.sup]}get scriptChild(){return this.supChild}getUVQ(t=this.subChild.getOuterBBox(),e=this.supChild.getOuterBBox()){const s=this.baseCore,r=s.getLineBBox(s.breakCount);if(this.UVQ)return this.UVQ;const i=this.font.params,n=3*i.rule_thickness,o=this.length2em(this.node.attributes.get("subscriptshift"),i.sub2),a=this.baseCharZero(r.d*this.baseScale+i.sub_drop*t.rscale),c=e.d*e.rscale,l=t.h*t.rscale;let[h,d]=[this.getU(),Math.max(a,o)],u=h-c-(l-d);if(u<n){d+=n-u;const t=.8*i.x_height-(h-c);t>0&&(h+=t,d-=t)}return h=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),h),h),d=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),d),d),u=h-c-(l-d),this.UVQ=[h,-d,u],this.UVQ}appendScripts(t){const[e,s]=[this.subChild.getOuterBBox(),this.supChild.getOuterBBox()],r=this.getBaseWidth(),i=this.getAdjustedIc(),[n,o]=this.getUVQ(),a=t.d-this.baseChild.getLineBBox(this.baseChild.breakCount).d;return t.combine(e,r+(this.baseIsChar?0:i),o-a),t.combine(s,r+i,n-a),t.w+=this.font.params.scriptspace,t}},e.useIC=!1,e}function nl(t){var e;return e=class extends t{get baseChild(){return this.childNodes[this.node.base]}get scriptChild(){return this.childNodes[1]}getBaseCore(){let t=this.getSemanticBase()||this.childNodes[0],e=null==t?void 0:t.node;for(;t&&(1===t.childNodes.length&&(e.isKind("mrow")||e.isKind("TeXAtom")||e.isKind("mstyle")||e.isKind("mpadded")&&!e.getProperty("vbox")||e.isKind("mphantom")||e.isKind("semantics"))||e.isKind("munderover")&&t.isMathAccent);)this.setBaseAccentsFor(t),t=t.childNodes[0],e=null==t?void 0:t.node;return t||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),t||this.childNodes[0]}setBaseAccentsFor(t){t.node.isKind("munderover")&&(null===this.baseHasAccentOver&&(this.baseHasAccentOver=!!t.node.attributes.get("accent")),null===this.baseHasAccentUnder&&(this.baseHasAccentUnder=!!t.node.attributes.get("accentunder")))}getSemanticBase(){const t=this.node.attributes.getExplicit("data-semantic-fencepointer");return this.getBaseFence(this.baseChild,t)}getBaseFence(t,e){if(!t||!t.node.attributes||!e)return null;if(t.node.attributes.getExplicit("data-semantic-id")===e)return t;for(const s of t.childNodes){const t=this.getBaseFence(s,e);if(t)return t}return null}getBaseScale(){let t=this.baseCore,e=1;for(;t&&t!==this;){e*=t.getOuterBBox().rscale,t=t.parent}return e}getBaseIc(){return this.baseCore.getOuterBBox().ic*this.baseScale}getAdjustedIc(){return this.baseIc?1.05*this.baseIc+.05:0}isCharBase(){const t=this.baseCore;return(t.node.isKind("mo")&&null===t.size||t.node.isKind("mi")||t.node.isKind("mn"))&&1===t.bbox.rscale&&1===Array.from(t.getText()).length}checkLineAccents(){if(this.node.isKind("munderover"))if(this.node.isKind("mover"))this.isLineAbove=this.isLineAccent(this.scriptChild);else if(this.node.isKind("munder"))this.isLineBelow=this.isLineAccent(this.scriptChild);else{const t=this;this.isLineAbove=this.isLineAccent(t.overChild),this.isLineBelow=this.isLineAccent(t.underChild)}}isLineAccent(t){const e=t.coreMO().node;return e.isToken&&"\u2015"===e.getText()}getBaseWidth(){const t=this.baseChild.getLineBBox(this.baseChild.breakCount);return t.w*t.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic}getOffset(){return[0,0]}baseCharZero(t){const e=!!this.baseCore.node.attributes.get("largeop"),s=!(!this.baseCore.node.isKind("mo")||!this.baseCore.size),r=this.baseScale;return!this.baseIsChar||e||s||1!==r?t:0}getV(){const t=this.baseCore,e=t.getLineBBox(t.breakCount),s=this.scriptChild.getOuterBBox(),r=this.font.params,i=this.length2em(this.node.attributes.get("subscriptshift"),r.sub1);return Math.max(this.baseCharZero(e.d*this.baseScale+r.sub_drop*s.rscale),i,s.h*s.rscale-.8*r.x_height)}getU(){const t=this.baseCore,e=t.getLineBBox(t.breakCount),s=this.scriptChild.getOuterBBox(),r=this.font.params,i=this.node.attributes.getList("displaystyle","superscriptshift"),n=this.node.getProperty("texprimestyle")?r.sup3:i.displaystyle?r.sup1:r.sup2,o=this.length2em(i.superscriptshift,n);return Math.max(this.baseCharZero(e.h*this.baseScale-r.sup_drop*s.rscale),o,s.d*s.rscale+1/4*r.x_height)}hasMovableLimits(){const t=this.node.attributes.get("displaystyle"),e=this.baseChild.coreMO().node;return!t&&!!e.attributes.get("movablelimits")}getOverKU(t,e){const s=this.node.attributes.get("accent"),r=this.font.params,i=e.d*e.rscale,n=r.rule_thickness*r.separation_factor,o=this.baseHasAccentOver?n:0,a=this.isLineAbove?3*r.rule_thickness:n,c=(s?a:Math.max(r.big_op_spacing1,r.big_op_spacing3-Math.max(0,i)))-o;return[c,t.h*t.rscale+c+i]}getUnderKV(t,e){const s=this.node.attributes.get("accentunder"),r=this.font.params,i=e.h*e.rscale,n=r.rule_thickness*r.separation_factor,o=this.baseHasAccentUnder?n:0,a=this.isLineBelow?3*r.rule_thickness:n,c=(s?a:Math.max(r.big_op_spacing2,r.big_op_spacing4-i))-o;return[c,-(t.d*t.rscale+c+i)]}getDeltaW(t,e=[0,0,0]){const s=this.node.attributes.get("align"),r=t.map(t=>t.w*t.rscale);r[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get("largeop")?this.baseIc:0;const i=Math.max(...r),n=[];let o=0;for(const t of r.keys())n[t]=("center"===s?(i-r[t])/2:"right"===s?i-r[t]:0)+e[t],n[t]<o&&(o=-n[t]);if(o)for(const t of n.keys())n[t]+=o;return[1,2].map(e=>n[e]+=t[e]?t[e].dx*t[0].rscale:0),n}getDelta(t,e=!1){const s=this.node.attributes.get("accent");let{sk:r,ic:i}=this.baseCore.getOuterBBox();return s&&(r-=t.getOuterBBox().sk),((s&&!e?r:0)+this.font.skewIcFactor*i)*this.baseScale}stretchChildren(){const t=[];for(const e of this.childNodes)e.canStretch(ka.Horizontal)&&t.push(e);const e=t.length,s=this.childNodes.length;if(e&&s>1){let r=0;const i=e>1&&e===s;for(const t of this.childNodes){const e=t.stretch.dir===ka.None;if(i||e){const{w:s,rscale:i}=t.getOuterBBox(e);s*i>r&&(r=s*i)}}for(const e of t){const t=e.coreMO();null===t.size&&t.getStretchedVariant([r/e.coreRScale()])}}}constructor(t,e,s=null){super(t,e,s),this.baseScale=1,this.baseIc=0,this.baseRemoveIc=!1,this.baseIsChar=!1,this.baseHasAccentOver=null,this.baseHasAccentUnder=null,this.isLineAbove=!1,this.isLineBelow=!1,this.isMathAccent=!1;const r=this.baseCore=this.getBaseCore();r&&(this.setBaseAccentsFor(r),this.baseScale=this.getBaseScale(),this.baseIc=this.getBaseIc(),this.baseIsChar=this.isCharBase(),this.isMathAccent=this.baseIsChar&&this.scriptChild&&void 0!==this.scriptChild.coreMO().node.getProperty("mathaccent"),this.checkLineAccents(),this.baseRemoveIc=!this.isLineAbove&&!this.isLineBelow&&(!this.constructor.useIC||this.isMathAccent))}computeBBox(t,e=!1){t.empty(),t.append(this.baseChild.getOuterBBox()),this.appendScripts(t),t.clean(),this.setChildPWidths(e)}appendScripts(t){const e=this.getBaseWidth(),[s,r]=this.getOffset();return t.combine(this.scriptChild.getOuterBBox(),e+s,r),t.w+=this.font.params.scriptspace,t}get breakCount(){return this._breakCount<0&&(this._breakCount=this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.node.linebreakContainer?0:this.childNodes[0].breakCount),this._breakCount}breakTop(t,e){return this.node.linebreakContainer||!this.parent||this.node.childIndex(e.node)?t:this.parent.breakTop(t,this)}computeLineBBox(t){const e=this.breakCount;if(!e)return Ra.from(this.getOuterBBox(),this.linebreakOptions.lineleading);const s=this.baseChild.getLineBBox(t).copy();return t<e?(0===t&&this.addLeftBorders(s),this.addMiddleBorders(s)):(this.appendScripts(s),this.addMiddleBorders(s),this.addRightBorders(s)),s}},e.useIC=!0,e}const ol=function(){var t;const e=nl(Va);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;this.dom=this.standardChtmlNodes(t);const[e,s]=this.getOffset(),r=e-(this.baseRemoveIc?this.baseIc:0),i={"vertical-align":this.em(s)};r&&(i["margin-left"]=this.em(r)),this.baseChild.toCHTML(this.dom);const n=this.dom[this.dom.length-1];this.scriptChild.toCHTML([this.adaptor.append(n,this.html("mjx-script",{style:i}))])}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(ll.kind)}setDeltaW(t,e){for(let s=0;s<e.length;s++)e[s]&&this.adaptor.setStyle(t[s],"paddingLeft",this.em(e[s]))}adjustOverDepth(t,e){e.d>=0||this.adaptor.setStyle(t,"marginBottom",this.em(e.d*e.rscale))}adjustUnderDepth(t,e){if(e.d>=0)return;const s=this.adaptor,r=this.em(e.d),i=this.html("mjx-box",{style:{"margin-bottom":r,"vertical-align":r}});for(const e of s.childNodes(s.firstChild(t)))s.append(i,e);s.append(s.firstChild(t),i)}adjustBaseHeight(t,e){if(this.node.attributes.get("accent")){const s=this.font.params.x_height*this.baseScale;e.h<s&&(this.adaptor.setStyle(t,"paddingTop",this.em(s-e.h)),e.h=s)}}}).kind="scriptbase",t}(),al=function(){var t;const e=sl(ol);return(t=class extends e{}).kind=Wn.prototype.kind,t}(),cl=function(){var t;const e=rl(ol);return(t=class extends e{}).kind=Vn.prototype.kind,t}(),ll=function(){var t;const e=il(ol);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;const e=this.adaptor,s=this.standardChtmlNodes(t),[r,i,n]=[this.baseChild,this.supChild,this.subChild],[,o,a]=this.getUVQ(),c={"vertical-align":this.em(o)};r.toCHTML(s);const l=e.append(s[s.length-1],this.html("mjx-script",{style:c}));i.toCHTML([l]),e.append(l,this.html("mjx-spacer",{style:{"margin-top":this.em(a)}})),n.toCHTML([l]);const h=this.getAdjustedIc();h&&(e.setStyle(i.dom[0],"marginLeft",this.em(h/i.bbox.rscale)),this.baseIsChar||e.setStyle(n.dom[0],"marginLeft",this.em(h/i.bbox.rscale))),this.baseRemoveIc&&e.setStyle(l,"marginLeft",this.em(-this.baseIc))}}).kind=zn.prototype.kind,t.styles={"mjx-script":{display:"inline-block","padding-right":".05em","padding-left":".033em"},"mjx-script > mjx-spacer":{display:"block"}},t}();function hl(t){return class extends t{get scriptChild(){return this.childNodes[this.node.under]}constructor(...t){super(...t),this.stretchChildren()}computeBBox(t,e=!1){if(this.hasMovableLimits())return void super.computeBBox(t,e);t.empty();const s=this.baseChild.getOuterBBox(),r=this.scriptChild.getOuterBBox(),i=this.getUnderKV(s,r)[1],n=this.isLineBelow?0:this.getDelta(this.scriptChild,!0),[o,a]=this.getDeltaW([s,r],[0,-n]);t.combine(s,o,0),t.combine(r,a,i),t.d+=this.font.params.big_op_spacing5,t.clean(),this.setChildPWidths(e)}}}function dl(t){return class extends t{get scriptChild(){return this.childNodes[this.node.over]}constructor(...t){super(...t),this.stretchChildren()}computeBBox(t){if(this.hasMovableLimits())return void super.computeBBox(t);t.empty();const e=this.baseChild.getOuterBBox(),s=this.scriptChild.getOuterBBox();this.node.attributes.get("accent")&&(e.h=Math.max(e.h,this.font.params.x_height*this.baseScale));const r=this.getOverKU(e,s)[1],i=this.isLineAbove?0:this.getDelta(this.scriptChild),[n,o]=this.getDeltaW([e,s],[0,i]);t.combine(e,n,0),t.combine(s,o,r),t.h+=this.font.params.big_op_spacing5,t.clean()}}}function ul(t){return class extends t{get underChild(){return this.childNodes[this.node.under]}get overChild(){return this.childNodes[this.node.over]}get subChild(){return this.underChild}get supChild(){return this.overChild}constructor(...t){super(...t),this.stretchChildren()}computeBBox(t){if(this.hasMovableLimits())return void super.computeBBox(t);t.empty();const e=this.overChild.getOuterBBox(),s=this.baseChild.getOuterBBox(),r=this.underChild.getOuterBBox();this.node.attributes.get("accent")&&(s.h=Math.max(s.h,this.font.params.x_height*this.baseScale));const i=this.getOverKU(s,e)[1],n=this.getUnderKV(s,r)[1],o=this.getDelta(this.overChild),a=this.getDelta(this.underChild,!0),[c,l,h]=this.getDeltaW([s,r,e],[0,this.isLineBelow?0:-a,this.isLineAbove?0:o]);t.combine(s,c,0),t.combine(e,h,i),t.combine(r,l,n);const d=this.font.params.big_op_spacing5;t.h+=d,t.d+=d,t.clean()}}}const pl=function(){var t;const e=hl(al);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);const e=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-row")),this.html("mjx-base")),s=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-row")),this.html("mjx-under"));this.baseChild.toCHTML([e]),this.scriptChild.toCHTML([s]);const r=this.baseChild.getOuterBBox(),i=this.scriptChild.getOuterBBox(),n=this.getUnderKV(r,i)[0],o=this.isLineBelow?0:this.getDelta(this.scriptChild,!0);this.adaptor.setStyle(s,"paddingTop",this.em(n)),this.setDeltaW([e,s],this.getDeltaW([r,i],[0,-o])),this.adjustUnderDepth(s,i)}}).kind=$n.prototype.kind,t.styles={"mjx-over":{"text-align":"left"},'mjx-munder:not([limits="false"])':{display:"inline-table"},"mjx-munder > mjx-row":{"text-align":"left"},"mjx-under":{"padding-bottom":".1em"}},t}(),ml=function(){var t;const e=dl(cl);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);const e=this.adaptor.append(this.dom[0],this.html("mjx-over")),s=this.adaptor.append(this.dom[0],this.html("mjx-base"));this.scriptChild.toCHTML([e]),this.baseChild.toCHTML([s]);const r=this.scriptChild.getOuterBBox(),i=this.baseChild.getOuterBBox();this.adjustBaseHeight(s,i);const n=this.getOverKU(i,r)[0],o=this.isLineAbove?0:this.getDelta(this.scriptChild);this.adaptor.setStyle(e,"paddingBottom",this.em(n)),this.setDeltaW([s,e],this.getDeltaW([i,r],[0,o])),this.adjustOverDepth(e,r)}}).kind=Jn.prototype.kind,t.styles={'mjx-mover:not([limits="false"])':{"padding-top":".1em"},'mjx-mover:not([limits="false"]) > *':{display:"block","text-align":"left"}},t}(),fl=function(){var t;const e=ul(ll);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);const e=this.adaptor.append(this.dom[0],this.html("mjx-over")),s=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-box")),this.html("mjx-munder")),r=this.adaptor.append(this.adaptor.append(s,this.html("mjx-row")),this.html("mjx-base")),i=this.adaptor.append(this.adaptor.append(s,this.html("mjx-row")),this.html("mjx-under"));this.overChild.toCHTML([e]),this.baseChild.toCHTML([r]),this.underChild.toCHTML([i]);const n=this.overChild.getOuterBBox(),o=this.baseChild.getOuterBBox(),a=this.underChild.getOuterBBox();this.adjustBaseHeight(r,o);const c=this.getOverKU(o,n)[0],l=this.getUnderKV(o,a)[0],h=this.getDelta(this.overChild),d=this.getDelta(this.underChild,!0);this.adaptor.setStyle(e,"paddingBottom",this.em(c)),this.adaptor.setStyle(i,"paddingTop",this.em(l)),this.setDeltaW([r,i,e],this.getDeltaW([o,a,n],[0,this.isLineBelow?0:-d,this.isLineAbove?0:h])),this.adjustOverDepth(e,n),this.adjustUnderDepth(i,a)}}).kind=Xn.prototype.kind,t.styles={'mjx-munderover:not([limits="false"])':{"padding-top":".1em"},'mjx-munderover:not([limits="false"]) > *':{display:"block"}},t}(),gl={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},bl=["sup","sup","psup","psub"];function xl(t){return class extends t{combinePrePost(t,e){const s=new Zo(t);return s.combine(e,0,0),s}getScriptData(){const t=this.scriptData={base:null,sub:Zo.empty(),sup:Zo.empty(),psub:Zo.empty(),psup:Zo.empty(),numPrescripts:0,numScripts:0},e=this.getScriptBBoxLists();this.combineBBoxLists(t.sub,t.sup,e.subList,e.supList),this.combineBBoxLists(t.psub,t.psup,e.psubList,e.psupList),t.base=e.base[0],t.numPrescripts=e.psubList.length,t.numScripts=e.subList.length}getScriptBBoxLists(){const t={base:[],subList:[],supList:[],psubList:[],psupList:[]};let e="base";for(const s of this.childNodes)s.node.isKind("mprescripts")?e="psubList":(t[e].push(s.getOuterBBox()),e=gl[e]);return this.firstPrescript=t.subList.length+t.supList.length+2,this.padLists(t.subList,t.supList),this.padLists(t.psubList,t.psupList),t}padLists(t,e){t.length>e.length&&e.push(Zo.empty())}combineBBoxLists(t,e,s,r){for(let i=0;i<s.length;i++){const[n,o,a]=this.getScaledWHD(s[i]),[c,l,h]=this.getScaledWHD(r[i]),d=Math.max(n,c);t.w+=d,e.w+=d,o>t.h&&(t.h=o),a>t.d&&(t.d=a),l>e.h&&(e.h=l),h>e.d&&(e.d=h)}}getScaledWHD(t){const{w:e,h:s,d:r,rscale:i}=t;return[e*i,s*i,r*i]}getCombinedUV(){const t=this.scriptData,e=this.combinePrePost(t.sub,t.psub),s=this.combinePrePost(t.sup,t.psup);return this.getUVQ(e,s)}addPrescripts(t,e,s){const r=this.scriptData;if(r.numPrescripts){const i=this.font.params.scriptspace;t.combine(r.psup,i,e),t.combine(r.psub,i,s)}return t}addPostscripts(t,e,s){const r=this.scriptData;if(r.numScripts){const i=t.w;t.combine(r.sup,i,e),t.combine(r.sub,i,s),t.w+=this.font.params.scriptspace}return t}constructor(...t){super(...t),this.scriptData=null,this.firstPrescript=0,this.getScriptData()}appendScripts(t){t.empty();const[e,s]=this.getCombinedUV();return this.addPrescripts(t,e,s),t.append(this.scriptData.base),this.addPostscripts(t,e,s),t.clean(),t}computeLineBBox(t){const e=this.baseChild.breakCount,s=this.baseChild.getLineBBox(t).copy();let r=s;const[i,n]=this.getCombinedUV();return 0===t?(r=Ra.from(this.addPrescripts(Zo.zero(),i,n),this.linebreakOptions.lineleading),r.append(s),this.addLeftBorders(r),r.L=this.bbox.L):t===e&&(r=this.addPostscripts(r,i,n),this.addRightBorders(r),r.R=this.bbox.R),this.addMiddleBorders(r),r}getUVQ(t,e){if(!this.UVQ){let[s,r,i]=[0,0,0];0===t.w?s=this.getU():0===e.w?s=-this.getV():[s,r,i]=super.getUVQ(t,e),this.UVQ=[s,r,i]}return this.UVQ}}}const El=function(){var t;const e=xl(ll);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;const e=this.standardChtmlNodes(t),s=this.scriptData,r=this.node.getProperty("scriptalign")||"right left",[i,n]=Cn(r+" "+r),[o,a]=this.getCombinedUV();if(s.numPrescripts){const t=this.addScripts(this.dom[0],o,-a,!0,s.psub,s.psup,this.firstPrescript,s.numPrescripts);"right"!==i&&this.adaptor.setAttribute(t,"script-align",i)}if(this.childNodes[0].toCHTML(e),s.numScripts){const t=this.addScripts(this.dom[this.dom.length-1],o,-a,!1,s.sub,s.sup,1,s.numScripts);"left"!==n&&this.adaptor.setAttribute(t,"script-align",n)}}addScripts(t,e,s,r,i,n,o,a){const c=this.adaptor,l=e-n.d+(s-i.h),h=e<0&&0===s?i.h+e:e,d=l>0?{style:{height:this.em(l)}}:{},u=h?{style:{"vertical-align":this.em(h)}}:{},p=this.html("mjx-row"),m=this.html("mjx-row",d),f=this.html("mjx-row"),g="mjx-"+(r?"pre":"")+"scripts",b=o+2*a;for(;o<b;)this.childNodes[o++].toCHTML([c.append(f,this.html("mjx-cell"))]),this.childNodes[o++].toCHTML([c.append(p,this.html("mjx-cell"))]);return c.append(t,this.html(g,u,[p,m,f]))}}).kind=Kn.prototype.kind,t.styles={"mjx-prescripts":{display:"inline-table","padding-left":".05em"},"mjx-scripts":{display:"inline-table","padding-right":".05em"},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":"right"},'[script-align="left"] > mjx-row > mjx-cell':{"text-align":"left"},'[script-align="center"] > mjx-row > mjx-cell':{"text-align":"center"},'[script-align="right"] > mjx-row > mjx-cell':{"text-align":"right"},"mjx-none":{display:"inline-block",height:"1px"}},t}(),yl=.333;function Nl(t){return class extends t{get tableRows(){return this.childNodes}findContainer(){let t=this,e=t.parent;for(;e&&(e.node.notParent||e.node.isKind("mrow"));)t=e,e=e.parent;this.container=e,this.containerI=t.node.childPosition()}getPercentageWidth(){if(this.hasLabels)this.bbox.pwidth=Zo.fullWidth;else{const t=this.node.attributes.get("width");wn(t)&&(this.bbox.pwidth=t)}}stretchRows(){const t=this.node.attributes.get("equalrows"),e=t?this.getEqualRowHeight():0,{H:s,D:r}=t?this.getTableData():{H:[0],D:[0]},i=this.tableRows;for(let n=0;n<this.numRows;n++){const o=t?[(e+s[n]-r[n])/2,(e-s[n]+r[n])/2]:null;i[n].stretchChildren(o)}}stretchColumns(){const t=this.getColumnAttributes("columnwidth",0);for(let e=0;e<this.numCols;e++){const s="number"==typeof this.cWidths[e]?this.cWidths[e]:null;this.stretchColumn(e,s),null!==s&&this.breakColumn(e,s,t[e])}}stretchColumn(t,e){const s=[];for(const e of this.tableRows){const r=e.getChild(t);if(r){const t=r.childNodes[0];t.stretch.dir===ka.None&&t.canStretch(ka.Horizontal)&&s.push(t)}}const r=s.length,i=this.childNodes.length;if(r&&i>1&&null===e){e=0;const s=r>1&&r===i;for(const r of this.tableRows){const i=r.getChild(t);if(i){const t=i.childNodes[0],r=t.stretch.dir===ka.None;if(s||r){const{w:s}=t.getBBox(r);s>e&&(e=s)}}}}if(null!==e)for(const t of s)t.coreMO().getStretchedVariant([Math.max(e,t.getBBox().w)/t.coreRScale()])}breakColumn(t,e,s){if("linebreak"!==this.jax.math.root.attributes.get("overflow")||!this.jax.math.display)return;const{D:r}=this.getTableData();let i=0,n=0;for(const s of this.tableRows){const o=s.getChild(t);if(o&&o.getBBox().w>e){o.childNodes[0].breakToWidth(e);const t=o.getBBox();r[i]=Math.max(r[i],t.d),t.w>n&&(n=t.w)}i++}("fit"===s||"auto"===s||wn(s)||n>this.cWidths[t])&&(this.cWidths[t]=n)}getTableData(){if(this.data)return this.data;const t=new Array(this.numRows).fill(0),e=new Array(this.numRows).fill(0),s=new Array(this.numCols).fill(0),r=new Array(this.numRows),i=new Array(this.numRows),n=[0],o=this.tableRows;for(let a=0;a<o.length;a++){let c=0;const l=o[a],h=l.node.attributes.get("rowalign");for(let r=0;r<l.numCells;r++){const i=l.getChild(r);c=this.updateHDW(i,r,a,h,t,e,s,c),this.recordPWidthCell(i,r)}r[a]=t[a],i[a]=e[a],l.labeled&&(c=this.updateHDW(l.childNodes[0],0,a,h,t,e,n,c)),this.extendHD(a,t,e,c),this.extendHD(a,r,i,c)}const a=n[0];return this.data={H:t,D:e,W:s,NH:r,ND:i,L:a},this.data}updateHDW(t,e,s,r,i,n,o,a){let{h:c,d:l,w:h}=t.getBBox();const d=t.parent.bbox.rscale;1!==t.parent.bbox.rscale&&(c*=d,l*=d,h*=d),this.node.getProperty("useHeight")&&(c<.75&&(c=.75),l<.25&&(l=.25));let u=0;return"baseline"!==(r=t.node.attributes.get("rowalign")||r)&&"axis"!==r&&(u=c+l,c=l=0),c>i[s]&&(i[s]=c),l>n[s]&&(n[s]=l),u>a&&(a=u),o&&h>o[e]&&(o[e]=h),a}extendHD(t,e,s,r){const i=(r-(e[t]+s[t]))/2;i<1e-5||(e[t]+=i,s[t]+=i)}recordPWidthCell(t,e){t.childNodes[0]&&t.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([t,e])}setColumnPWidths(){const t=this.cWidths;for(const[e,s]of this.pwidthCells)e.setChildPWidths(!1,t[s])&&(e.invalidateBBox(),e.getBBox())}getBBoxHD(t){const[e,s]=this.getAlignmentRow();if(null===s){const s=this.font.params.axis_height,r=t/2;return{top:[0,t],center:[r,r],bottom:[t,0],baseline:[r,r],axis:[r+s,r-s]}[e]||[r,r]}{const r=this.getVerticalPosition(s,e);return[r,t-r]}}getBBoxLR(){var t;if(this.hasLabels){const t=this.node.attributes,e=t.get("side");let[s,r]=this.getPadAlignShift(e);const i=this.hasLabels&&!!t.get("data-width-includes-label");return i&&this.frame&&this.fSpace[0]&&(s-=this.fSpace[0]),"center"!==r||i?"left"===e?[s,0]:[0,s]:[s,s]}return[(null===(t=this.bbox)||void 0===t?void 0:t.L)||0,0]}getPadAlignShift(t){const{L:e}=this.getTableData();let s=e+this.length2em(this.node.attributes.get("minlabelspacing"));const[r,i]=null==this.styles?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")];(r||i)&&(s=Math.max(s,this.length2em(r||"0"),this.length2em(i||"0")));let[n,o]=this.getAlignShift();return n===t&&(o="left"===t?Math.max(s,o)-s:Math.min(-s,o)+s),[s,n,o]}getWidth(){return this.pWidth||this.getBBox().w}adjustWideTable(){const t=this.node.attributes;if("auto"!==t.get("width"))return;const[e,s]=this.getPadAlignShift(t.get("side")),r=Math.max(this.containerWidth/10,this.containerWidth-e-("center"===s?e:0));this.naturalWidth()>r&&this.adjustColumnWidths(r)}naturalWidth(){return ya(this.getComputedWidths().concat(this.cLines,this.cSpace))+2*this.fLine+this.fSpace[0]+this.fSpace[2]}getEqualRowHeight(){const{H:t,D:e}=this.getTableData(),s=Array.from(t.keys()).map(s=>t[s]+e[s]);return Math.max(...s)}getComputedWidths(){const t=this.getTableData().W;let e=Array.from(t.keys()).map(e=>"number"==typeof this.cWidths[e]?this.cWidths[e]:t[e]);return this.node.attributes.get("equalcolumns")&&(e=Array(e.length).fill(Na(e))),e}getColumnWidths(){const t=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(t);const e=this.getColumnAttributes("columnwidth",0);return"auto"===t?this.getColumnWidthsAuto(e):wn(t)?this.getColumnWidthsPercent(e):this.getColumnWidthsFixed(e,this.length2em(t))}getEqualColumns(t){const e=Math.max(1,this.numCols);let s;if("auto"===t){const{W:t}=this.getTableData();s=Na(t)}else if(wn(t))s=this.percent(1/e);else{const r=ya([].concat(this.cLines,this.cSpace))+this.fSpace[0]+this.fSpace[2];s=Math.max(0,this.length2em(t)-r)/e}return Array(this.numCols).fill(s)}getColumnWidthsAuto(t){return t.map(t=>"auto"===t||"fit"===t?null:wn(t)?t:this.length2em(t))}getColumnWidthsPercent(t){const e=t.includes("fit"),{W:s}=e?this.getTableData():{W:null};return Array.from(t.keys()).map(r=>{const i=t[r];return"fit"===i?null:"auto"===i?e?s[r]:null:wn(i)?i:this.length2em(i)})}getColumnWidthsFixed(t,e){const s=Array.from(t.keys()),r=s.filter(e=>"fit"===t[e]),i=s.filter(e=>"auto"===t[e]),n=r.length||i.length,{W:o}=n?this.getTableData():{W:null},a=e-ya([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2];let c=a;s.forEach(e=>{const s=t[e];c-="fit"===s||"auto"===s?o[e]:this.length2em(s,a)});const l=n&&c>0?c/n:0;return s.map(e=>{const s=t[e];return"fit"===s?o[e]+l:"auto"===s?o[e]+(0===r.length?l:0):this.length2em(s,a)})}adjustColumnWidths(t){const{W:e}=this.getTableData(),s=this.getColumnAttributes("columnwidth",0),r=Array.from(s.keys()),i=[...r.filter(t=>"fit"===s[t]).sort((t,s)=>e[s]-e[t]),...r.filter(t=>"auto"===s[t]).sort((t,s)=>e[s]-e[t]),...r.filter(t=>wn(s[t])).sort((t,s)=>e[s]-e[t]),...r.filter(t=>"fit"!==s[t]&&"auto"!==s[t]&&!wn(s[t])).sort((t,s)=>e[s]-e[t])];if(!i.length)return;this.cWidths=r.map(t=>"number"==typeof this.cWidths[t]?this.cWidths[t]:e[t]);const n=t-ya([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2];let o=ya(this.cWidths)-n,a=0,c=0;for(;c<i.length&&(a+=e[i[c++]],!(a&&o/a<yl)););o=1-o/a,i.slice(0,c).forEach(t=>this.cWidths[t]*=o)}getVerticalPosition(t,e){const s=this.node.attributes.get("equalrows"),{H:r,D:i}=this.getTableData(),n=s?this.getEqualRowHeight():0,o=this.getRowHalfSpacing();let a=this.fLine;for(let e=0;e<t;e++)a+=o[e]+(s?n:r[e]+i[e])+o[e+1]+this.rLines[e];const[c,l]=s?[(n+r[t]-i[t])/2,(n-r[t]+i[t])/2]:[r[t],i[t]];return a+={top:0,center:o[t]+(c+l)/2,bottom:o[t]+c+l+o[t+1],baseline:o[t]+c,axis:o[t]+c-.25}[e]||0,a}getFrameSpacing(){const t=this.fframe?this.convertLengths(this.getAttributeArray("framespacing")):[0,0];t[2]=t[0];const e=this.node.attributes.get("data-array-padding");if(e){const[s,r]=this.convertLengths(Cn(e));t[0]=s,t[2]=r}return t}getEmHalfSpacing(t,e,s=1){const r=this.addEm(e,2/s);return r.unshift(this.em(t[0]*s)),r.push(this.em(t[1]*s)),r}getRowHalfSpacing(){const t=this.rSpace.map(t=>t/2);return t.unshift(this.fSpace[1]),t.push(this.fSpace[1]),t}getColumnHalfSpacing(){const t=this.cSpace.map(t=>t/2);return t.unshift(this.fSpace[0]),t.push(this.fSpace[2]),t}getAlignmentRow(){const[t,e]=Cn(this.node.attributes.get("align"));if(null==e)return[t,null];let s=parseInt(e);return s<0&&(s+=this.numRows+1),[t,s<1||s>this.numRows?null:s-1]}getColumnAttributes(t,e=1){const s=this.numCols-e,r=this.getAttributeArray(t);if(0===r.length)return null;for(;r.length<s;)r.push(r[r.length-1]);return r.length>s&&r.splice(s),r}getRowAttributes(t,e=1){const s=this.numRows-e,r=this.getAttributeArray(t);if(0===r.length)return null;for(;r.length<s;)r.push(r[r.length-1]);return r.length>s&&r.splice(s),r}getAttributeArray(t){const e=this.node.attributes.get(t);return e?Cn(e):[this.node.attributes.getDefault(t)]}addEm(t,e=1){return t?t.map(t=>this.em(t/e)):null}convertLengths(t){return t?t.map(t=>this.length2em(t)):null}constructor(t,e,s=null){super(t,e,s),this.numCols=0,this.numRows=0,this.data=null,this.pwidthCells=[],this.pWidth=0,this.numCols=Na(this.tableRows.map(t=>t.numCells)),this.numRows=this.childNodes.length,this.hasLabels=this.childNodes.reduce((t,e)=>t||e.node.isKind("mlabeledtr"),!1),this.findContainer(),this.isTop=!this.container||this.container.node.isKind("math")&&!this.container.parent,this.isTop&&(this.jax.table=this),this.getPercentageWidth();const r=this.node.attributes,i=r.get("frame");this.frame="none"!==i,this.fframe=this.frame||void 0!==r.get("data-frame-styles"),this.fLine=this.frame?.07:0,this.fSpace=this.getFrameSpacing(),this.cSpace=this.convertLengths(this.getColumnAttributes("columnspacing")),this.rSpace=this.convertLengths(this.getRowAttributes("rowspacing")),this.cLines=this.getColumnAttributes("columnlines").map(t=>"none"===t?0:.07),this.rLines=this.getRowAttributes("rowlines").map(t=>"none"===t?0:.07),this.cWidths=this.getColumnWidths(),this.adjustWideTable(),this.stretchColumns(),this.stretchRows()}getStyles(){super.getStyles();const t=this.node.attributes.get("data-frame-styles");if(!t)return;this.styles||(this.styles=new Ea(""));const e=t.split(/ /);for(const t of la.keys()){const s=e[t];"none"!==s&&this.styles.set(`border-${la[t]}`,`.07em ${s}`)}}computeBBox(t,e=!1){const{H:s,D:r}=this.getTableData();let i,n;if(this.node.attributes.get("equalrows")){const t=this.getEqualRowHeight();i=ya([].concat(this.rLines,this.rSpace))+t*this.numRows}else i=ya(s.concat(r,this.rLines,this.rSpace));i+=2*(this.fLine+this.fSpace[1]),n=this.naturalWidth();const o=this.node.attributes.get("width");"auto"!==o&&(n=Math.max(this.length2em(o,0)+2*this.fLine,n));const[a,c]=this.getBBoxHD(i);t.h=a,t.d=c,t.w=n;const[l,h]=this.getBBoxLR();t.L=l,t.R=h,wn(o)||this.setColumnPWidths()}setChildPWidths(t,e,s){const r=this.node.attributes.get("width");if(!wn(r))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");const{w:i,L:n,R:o}=this.bbox,a=this.node.attributes.get("data-width-includes-label"),c=Math.max(i,this.length2em(r,Math.max(e,n+i+o)))-(a?n+o:0),l=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);return this.cWidths=this.getColumnWidthsFixed(l,c),this.pWidth=this.naturalWidth(),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==i&&this.parent.invalidateBBox(),this.pWidth!==i}getAlignShift(){return this.isTop?super.getAlignShift():[this.container.getChildAlign(this.containerI),0]}}}const _l=function(){var t;const e=Nl(Va);return t=class extends e{constructor(t,e,s=null){super(t,e,s),this.itable=this.html("mjx-itable"),this.labels=this.html("mjx-itable")}getAlignShift(){const t=super.getAlignShift();return this.isTop||(t[1]=0),t}toCHTML(t){const e=this.standardChtmlNodes(t);this.adaptor.append(e[0],this.html("mjx-table",{},[this.itable]));for(const t of this.childNodes)t.toCHTML([this.itable]);this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()}shiftColor(){const t=this.adaptor,e=t.getStyle(this.dom[0],"backgroundColor");e&&(t.setStyle(this.dom[0],"backgroundColor",""),t.setStyle(this.itable,"backgroundColor",e))}padRows(){const t=this.adaptor;for(const e of t.childNodes(this.itable))for(;t.childNodes(e).length<this.numCols;)t.append(e,this.html("mjx-mtd",{extra:!0}))}handleColumnSpacing(){const t=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,e=this.getEmHalfSpacing([this.fSpace[0],this.fSpace[2]],this.cSpace,t);for(const t of this.tableRows){let s=0;for(const r of t.tableCells){const i=e[s++],n=e[s],o=r?r.dom[0]:this.adaptor.childNodes(t.dom[0])[s];(s>1&&"0.4em"!==i||"0"!==i&&1===s)&&this.adaptor.setStyle(o,"paddingLeft",i),(s<this.numCols&&"0.4em"!==n||"0"!==n&&s===this.numCols)&&this.adaptor.setStyle(o,"paddingRight",n)}}}handleColumnLines(){if("none"===this.node.attributes.get("columnlines"))return;const t=this.getColumnAttributes("columnlines");for(const e of this.childNodes){let s=0;const r=this.adaptor.childNodes(e.dom[0]).slice(1);for(const e of r){const r=t[s++];"none"!==r&&this.adaptor.setStyle(e,"borderLeft",".07em "+r)}}}handleColumnWidths(){for(const t of this.childNodes){let e=0;for(const s of this.adaptor.childNodes(t.dom[0])){const t=this.cWidths[e++];if(null!==t){const e="number"==typeof t?this.em(t):t;this.adaptor.setStyle(s,"width",e),this.adaptor.setStyle(s,"maxWidth",e),this.adaptor.setStyle(s,"minWidth",e)}}}}handleRowSpacing(){const t=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,e=this.getEmHalfSpacing([this.fSpace[1],this.fSpace[1]],this.rSpace,t),s=this.fframe;let r=0;for(const t of this.childNodes){const i=e[r++],n=e[r];for(const e of t.childNodes)(r>1&&"0.215em"!==i||s&&1===r)&&this.adaptor.setStyle(e.dom[0],"paddingTop",i),(r<this.numRows&&"0.215em"!==n||s&&r===this.numRows)&&this.adaptor.setStyle(e.dom[0],"paddingBottom",n)}}handleRowLines(){if("none"===this.node.attributes.get("rowlines"))return;const t=this.getRowAttributes("rowlines");let e=0;for(const s of this.childNodes.slice(1)){const r=t[e++];if("none"!==r)for(const t of this.adaptor.childNodes(s.dom[0]))this.adaptor.setStyle(t,"borderTop",".07em "+r)}}handleRowHeights(){this.node.attributes.get("equalrows")&&this.handleEqualRows()}handleEqualRows(){const t=this.getRowHalfSpacing(),{H:e,D:s,NH:r,ND:i}=this.getTableData(),n=this.getEqualRowHeight();for(let o=0;o<this.numRows;o++){const a=this.childNodes[o];this.setRowHeight(a,n+t[o]+t[o+1]+this.rLines[o]),n!==r[o]+i[o]&&this.setRowBaseline(a,n,(n-e[o]+s[o])/2)}}setRowHeight(t,e){this.adaptor.setStyle(t.dom[0],"height",this.em(e))}setRowBaseline(t,e,s){const r=t.node.attributes.get("rowalign");for(const i of t.childNodes)if(this.setCellBaseline(i,r,e,s))break}setCellBaseline(t,e,s,r){const i=t.node.attributes.get("rowalign");if("baseline"===i||"axis"===i){const i=this.adaptor,n=i.lastChild(t.dom[0]);i.setStyle(n,"height",this.em(s)),i.setStyle(n,"verticalAlign",this.em(-r));const o=t.parent;if(!(o.node.isKind("mlabeledtr")&&t===o.childNodes[0]||"baseline"!==e&&"axis"!==e))return!0}return!1}handleFrame(){if(this.frame&&this.fLine){const t=this.node.attributes.get("frame");this.adaptor.setStyle(this.itable,"border",`${this.em(this.fLine)} ${t}`)}}handleWidth(){const t=this.adaptor,e=this.dom[0],{w:s,L:r,R:i}=this.getBBox();t.setStyle(e,"minWidth",this.em(r+s+i));let n=this.node.attributes.get("width");if(wn(n))t.setStyle(e,"width",""),t.setAttribute(e,"width","full");else if(!this.hasLabels){if("auto"===n)return;n=this.em(this.length2em(n)+2*this.fLine)}const o=t.firstChild(e);if(t.setStyle(o,"width",n),t.setStyle(o,"minWidth",this.em(s)),r||i){t.setStyle(e,"margin","");const s=this.node.attributes.get("data-width-includes-label")?"padding":"margin";r===i?t.setStyle(o,s,"0 "+this.em(i)):t.setStyle(o,s,"0 "+this.em(i)+" 0 "+this.em(r))}t.setAttribute(this.itable,"width","full")}handleAlign(){const[t,e]=this.getAlignmentRow(),s=this.dom[0];if(null===e)"axis"!==t&&this.adaptor.setAttribute(s,"align",t);else{const r=this.getVerticalPosition(e,t);this.adaptor.setAttribute(s,"align","top"),this.adaptor.setStyle(s,"verticalAlign",this.em(r))}}handleJustify(){const t=this.getAlignShift()[0];"center"!==t&&this.adaptor.setAttribute(this.dom[0],"justify",t)}handleLabels(){if(!this.hasLabels)return;const t=this.labels,e=this.node.attributes,s=this.adaptor,r=e.get("side");s.setAttribute(this.dom[0],"side",r),s.setAttribute(t,"align",r),s.setStyle(t,r,"0");const[i,n]=this.addLabelPadding(r);if(n){const t=s.firstChild(this.dom[0]);this.setIndent(t,i,n)}this.updateRowHeights(),this.addLabelSpacing()}addLabelPadding(t){const[,e,s]=this.getPadAlignShift(t),r={};if("right"===t&&!this.node.attributes.get("data-width-includes-label")){const t=this.node.attributes.get("width"),{w:e,L:s,R:i}=this.getBBox();r.style={width:wn(t)?"calc("+t+" + "+this.em(s+i)+")":this.em(s+e+i)}}return this.adaptor.append(this.dom[0],this.html("mjx-labels",r,[this.labels])),[e,s]}updateRowHeights(){const{H:t,D:e,NH:s,ND:r}=this.getTableData(),i=this.getRowHalfSpacing();for(let n=0;n<this.numRows;n++){const o=this.childNodes[n];this.setRowHeight(o,t[n]+e[n]+i[n]+i[n+1]+this.rLines[n]),t[n]!==s[n]||e[n]!==r[n]?this.setRowBaseline(o,t[n]+e[n],e[n]):o.node.isKind("mlabeledtr")&&this.setCellBaseline(o.childNodes[0],"",t[n]+e[n],e[n])}}addLabelSpacing(){const t=this.adaptor,e=this.node.attributes.get("equalrows"),{H:s,D:r}=this.getTableData(),i=e?this.getEqualRowHeight():0,n=this.getRowHalfSpacing();let o=this.fLine,a=t.firstChild(this.labels);for(let c=0;c<this.numRows;c++){this.childNodes[c].node.isKind("mlabeledtr")?(o&&t.insert(this.html("mjx-mtr",{style:{height:this.em(o)}}),a),t.setStyle(a,"height",this.em((e?i:s[c]+r[c])+n[c]+n[c+1])),a=t.next(a),o=this.rLines[c]):o+=n[c]+(e?i:s[c]+r[c])+n[c+1]+this.rLines[c]}}},t.kind=Zn.prototype.kind,t.styles={"mjx-mtable":{"vertical-align":".25em","text-align":"center",position:"relative","box-sizing":"border-box","border-spacing":0,"border-collapse":"collapse"},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":".354em"},"mjx-labels":{position:"absolute",left:0,top:0},"mjx-table":{display:"inline-block","vertical-align":"-.5ex","box-sizing":"border-box"},"mjx-table > mjx-itable":{"vertical-align":"middle","text-align":"left","box-sizing":"border-box"},"mjx-labels > mjx-itable":{position:"absolute",top:0},'mjx-mtable[justify="left"]':{"text-align":"left"},'mjx-mtable[justify="right"]':{"text-align":"right"},'mjx-mtable[justify="left"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="left"][side="right"]':{"padding-left":"0 ! important"},'mjx-mtable[justify="right"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="right"][side="right"]':{"padding-left":"0 ! important"},"mjx-mtable[align]":{"vertical-align":"baseline"},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":"top"},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":"bottom"},'mjx-mtable[side="right"] mjx-labels':{"min-width":"100%"}},t}();function vl(t){return class extends t{get numCells(){return this.childNodes.length}get labeled(){return!1}get tableCells(){return this.childNodes}getChild(t){return this.childNodes[t]}getChildBBoxes(){return this.childNodes.map(t=>t.getBBox())}stretchChildren(t=null){const e=[],s=this.labeled?this.childNodes.slice(1):this.childNodes;for(const t of s){const s=t.childNodes[0];s.canStretch(ka.Vertical)&&e.push(s)}const r=e.length,i=this.childNodes.length;if(r&&i>1&&!t){let e=0,n=0;const o=r>1&&r===i;for(const t of s){const s=t.childNodes[0],r=s.stretch.dir===ka.None;if(o||r){const{h:t,d:i}=s.getBBox(r);t>e&&(e=t),i>n&&(n=i)}}t=[e,n]}if(t)for(const s of e){const e=s.coreRScale();s.coreMO().getStretchedVariant(t.map(t=>t*e))}}get fixesPWidth(){return!1}}}function wl(t){return class extends t{get numCells(){return Math.max(0,this.childNodes.length-1)}get labeled(){return!0}get tableCells(){return this.childNodes.slice(1)}getChild(t){return this.childNodes[t+1]}getChildBBoxes(){return this.childNodes.slice(1).map(t=>t.getBBox())}}}const Cl=function(){var t;const e=vl(Va);return(t=class extends e{toCHTML(t){super.toCHTML(t);const e=this.node.attributes.get("rowalign");"baseline"!==e&&this.adaptor.setAttribute(this.dom[0],"rowalign",e)}}).kind=to.prototype.kind,t.styles={"mjx-mtr":{display:"table-row"},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},t}(),kl=function(){var t;const e=wl(Cl);return(t=class extends e{toCHTML(t){super.toCHTML(t);const e=this.adaptor.firstChild(this.dom[0]);if(e){this.adaptor.remove(e);const t=this.node.attributes.get("rowalign"),s="baseline"!==t&&"axis"!==t?{rowalign:t}:{},r=this.html("mjx-mtr",s,[e]);this.adaptor.append(this.parent.labels,r)}}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(Cl.kind)}}).kind=eo.prototype.kind,t.styles={"mjx-mlabeledtr":{display:"table-row"},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},t}();function Al(t){return class extends t{get fixesPWidth(){return!1}invalidateBBox(){this.bboxComputed=!1,this.lineBBox=[]}getWrapWidth(t){const e=this.parent.parent,s=this.parent,r=this.node.childPosition()-(s.labeled?1:0);return"number"==typeof e.cWidths[r]?e.cWidths[r]:e.getTableData().W[r]}getChildAlign(t){return this.node.attributes.get("columnalign")}}}const Tl=function(){var t;const e=Al(Va);return(t=class extends e{toCHTML(t){super.toCHTML(t);const e=this.node.attributes.get("rowalign"),s=this.node.attributes.get("columnalign");e!==this.parent.node.attributes.get("rowalign")&&this.adaptor.setAttribute(this.dom[0],"rowalign",e),"center"===s||"mlabeledtr"===this.parent.kind&&this===this.parent.childNodes[0]&&s===this.parent.parent.node.attributes.get("side")||this.adaptor.setStyle(this.dom[0],"textAlign",s),this.parent.parent.node.getProperty("useHeight")&&this.adaptor.append(this.dom[0],this.html("mjx-tstrut"))}}).kind=so.prototype.kind,t.styles={"mjx-mtd":{display:"table-cell","text-align":"center",padding:".215em .4em"},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":"left"},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":"right"},"mjx-mtd[extra]":{padding:0},'mjx-mtd[rowalign="top"]':{"vertical-align":"top"},'mjx-mtd[rowalign="center"]':{"vertical-align":"middle"},'mjx-mtd[rowalign="bottom"]':{"vertical-align":"bottom"},'mjx-mtd[rowalign="baseline"]':{"vertical-align":"baseline"},'mjx-mtd[rowalign="axis"]':{"vertical-align":".25em"}},t}(),Ml={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:(t,e)=>{e.clearTimer.has(t)&&(clearTimeout(e.clearTimer.get(t)),e.clearTimer.delete(t)),e.hoverTimer.has(t)&&(clearTimeout(e.hoverTimer.get(t)),e.hoverTimer.delete(t))}};function Sl(t){return class extends t{get selected(){const t=this.node.attributes.get("selection"),e=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[e]||this.wrap(this.node.selected)}getParameters(){const t=this.node.attributes.get("data-offsets"),[e,s]=Cn(t||"");this.tipDx=this.length2em(e||Ml.dx),this.tipDy=this.length2em(s||Ml.dy)}constructor(t,e,s=null){super(t,e,s);const r=this.constructor.actions,i=this.node.attributes.get("actiontype"),[n,o]=r.get(i)||[(t,e)=>{},{}];this.action=n,this.data=o,this.getParameters()}computeBBox(t,e=!1){t.updateFrom(this.selected.getOuterBBox()),this.selected.setChildPWidths(e)}get breakCount(){return this.node.isEmbellished?this.selected.coreMO().embellishedBreakCount:this.selected.breakCount}computeLineBBox(t){return this.getChildLineBBox(this.selected,t)}}}const Ll=function(){var t;const e=Sl(Va);return(t=class extends e{setEventHandler(t,e,s=null){(s?[s]:this.dom).forEach(s=>s.addEventListener(t,e))}Em(t){return this.em(t)}toCHTML(t){if(this.toEmbellishedCHTML(t))return;const e=this.standardChtmlNodes(t);this.selected.toCHTML(e),this.action(this,this.data)}}).kind=Gn.prototype.kind,t.styles={"mjx-maction":{position:"relative"},"mjx-maction > mjx-tool":{display:"none",position:"absolute",bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:"inline-block","line-height":0,padding:".2em",border:"1px solid #888","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},"mjx-maction[toggle]":{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},t.actions=new Map([["toggle",[(t,e)=>{t.dom.forEach(e=>{t.adaptor.setAttribute(e,"toggle",t.node.attributes.get("selection"))});const s=t.factory.jax.math,r=t.factory.jax.document,i=t.node;t.setEventHandler("click",t=>{s.end.node||(s.start.node=s.end.node=s.typesetRoot,s.start.n=s.end.n=0),i.nextToggleSelection(),s.rerender(r,i.attributes.get("data-maction-id")?Gi.ENRICHED:Gi.RERENDER),t.stopPropagation()})},{}]],["tooltip",[(t,e)=>{const s=t.childNodes[1];if(s)if(s.node.isKind("mtext")){const e=s.node.getText();t.dom.forEach(s=>t.adaptor.setAttribute(s,"title",e))}else{const r=t.adaptor;for(const i of t.dom){const n=r.append(i,t.html("mjx-tool",{style:{bottom:t.Em(-t.tipDy),right:t.Em(-t.tipDx)}},[t.html("mjx-tip")]));s.toCHTML([r.firstChild(n)]),t.setEventHandler("mouseover",t=>{e.stopTimers(i,e);const s=setTimeout(()=>r.setStyle(n,"display","block"),e.postDelay);e.hoverTimer.set(i,s),t.stopPropagation()},i),t.setEventHandler("mouseout",t=>{e.stopTimers(i,e);const s=setTimeout(()=>r.setStyle(n,"display",""),e.clearDelay);e.clearTimer.set(i,s),t.stopPropagation()},i)}}},Ml]],["statusline",[(t,e)=>{const s=t.childNodes[1];if(s&&s.node.isKind("mtext")){const r=t.adaptor,i=s.node.getText();t.dom.forEach(t=>r.setAttribute(t,"statusline",i)),t.setEventHandler("mouseover",s=>{if(null===e.status){const s=r.body(r.document);e.status=r.append(s,t.html("mjx-status",{},[t.text(i)]))}s.stopPropagation()}),t.setEventHandler("mouseout",t=>{e.status&&(r.remove(e.status),e.status=null),t.stopPropagation()})}},{status:null}]]]),t}();function Il(t){return class extends t{constructor(t,e,s=null){super(t,e,s),this.getParameters()}getParameters(){const{width:t,height:e,valign:s,src:r,index:i}=this.node.attributes.getList("width","height","valign","src","index");if(r)this.width="auto"===t?1:this.length2em(t),this.height="auto"===e?1:this.length2em(e),this.valign=this.length2em(s||"0");else{const t=String.fromCodePoint(parseInt(i)),e=this.node.factory;this.charWrapper=this.wrap(e.create("text").setText(t)),this.charWrapper.parent=this}}computeBBox(t,e=!1){this.charWrapper?t.updateFrom(this.charWrapper.getBBox()):(t.w=this.width,t.h=this.height+this.valign,t.d=-this.valign)}}}const Rl=function(){var t;const e=Il(Va);return(t=class extends e{toCHTML(t){const e=this.standardChtmlNodes(t);if(this.charWrapper)return void this.charWrapper.toCHTML(e);const{src:s,alt:r}=this.node.attributes.getList("src","alt"),i={width:this.em(this.width),height:this.em(this.height)};this.valign&&(i.verticalAlign=this.em(this.valign));const n=this.html("img",{src:s,style:i,alt:r,title:r});this.adaptor.append(e[0],n)}}).kind=no.prototype.kind,t.styles={"mjx-mglyph > img":{display:"inline-block",border:0,padding:0}},t}();function Ol(t){return class extends t{computeBBox(t,e=!1){if(this.childNodes.length){const{w:e,h:s,d:r}=this.childNodes[0].getBBox();t.w=e,t.h=s,t.d=r}}get breakCount(){return this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.childNodes[0].breakCount}}}function Pl(t){class e extends t{constructor(t,e,s=null){super(t,e,s),this.rscale=this.getRScale()}computeBBox(t,e=!1){const s=this.node.getXML(),r=this.getHDW(s,"use","force"),{h:i,d:n,w:o}=r?this.splitHDW(r):this.measureXmlNode(s);t.w=o,t.h=i,t.d=n}getHTML(){let t=this.adaptor.clone(this.node.getXML());const e=this.getFontStyles();return(this.getHDW(t,"force")||1!==this.jax.options.scale)&&(t=this.addHDW(t,e)),this.html("mjx-html",{variant:this.parent.variant,style:e},[t])}getHDW(t,e,s=e){const r=this.jax.options.htmlHDW,i=this.adaptor.getAttribute(t,"data-mjx-hdw");return!i||r!==e&&r!==s?null:i}splitHDW(t){const e=1/this.metrics.scale,[s,r,i]=Cn(t).map(t=>this.length2em(t||"0")*e);return{h:s,d:r,w:i}}getFontStyles(){var t;const e=this.adaptor,s=this.metrics;return{"font-family":(null===(t=this.parent.styles)||void 0===t?void 0:t.get("font-family"))||s.family||e.fontFamily(e.parent(this.jax.math.start.node))||"initial","font-size":this.jax.fixed(s.em*this.rscale)+"px"}}measureXmlNode(t){const e=this.adaptor,s=this.html("mjx-xml-block",{style:{display:"inline-block"}},[e.clone(t)]),r=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),i=this.getFontStyles(),n=this.html("mjx-measure-xml",{style:i},[r,s]),o=this.jax.container;e.append(e.parent(this.jax.math.start.node),o),e.append(o,n);const a=this.metrics,c=a.em*a.scale*this.rscale,{left:l,right:h,bottom:d,top:u}=e.nodeBBox(s),p=(h-l)/c,m=(e.nodeBBox(r).top-u)/c,f=(d-u)/c-m;return e.remove(o),e.remove(n),{w:p,h:m,d:f}}getStyles(){}getScale(){}getVariant(){}}return e.autoStyle=!1,e.styles={"mjx-measure-xml":{position:"absolute",left:0,top:0,display:"inline-block","line-height":"normal","white-space":"normal"},"mjx-html":{display:"inline-block","line-height":"normal","text-align":"initial","white-space":"initial"},"mjx-html-holder":{display:"block",position:"absolute",top:0,left:0,bottom:0,right:0}},e}const Dl=function(){var t;const e=Ol(Va);return(t=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;const e=this.standardChtmlNodes(t);this.childNodes.length&&this.childNodes[0].toCHTML(e)}}).kind=oo.prototype.kind,t}(),Bl=((Fl=class extends Va{toCHTML(t){super.toCHTML(t)}computeBBox(){return this.bbox}}).kind=co.prototype.kind,Fl);var Fl;const ql=function(){var t;return(t=class extends Va{}).kind=ao.prototype.kind,t.styles={"mjx-annotation-xml":{"font-family":"initial","line-height":"normal"}},t}(),jl=function(){var t;const e=Pl(Va);return(t=class extends e{toCHTML(t){this.markUsed(),this.dom=[this.adaptor.append(t[0],this.getHTML())]}addHDW(t,e){const s=this.jax.options.scale,{h:r,d:i,w:n}=this.bbox,o=s*this.metrics.scale;return e.width=this.em(n*o),e.height=this.em((r+i)*o),e["vertical-align"]=this.em(-i*o),e.position="relative",this.html("mjx-html-holder",{style:{transform:`scale(${this.jax.fixed(s)})`,"transform-origin":"top left"}},[t])}}).kind=hn.prototype.kind,t}();function Ul(t){return class extends t{computeBBox(t,e=!1){super.computeBBox(t,e),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(t.ic=this.childNodes[0].bbox.ic)}}}const Hl=function(){var t;const e=Ul(Va);return(t=class extends e{toCHTML(t){super.toCHTML(t),this.dom.forEach(t=>this.adaptor.setAttribute(t,"texclass",Qi[this.node.texClass]))}}).kind=lo.prototype.kind,t}();function Gl(t){return class extends t{remappedText(t,e){const s=this.parent.stretch.c;return s?[s]:this.parent.remapChars(this.unicodeChars(t,e))}computeBBox(t,e=!1){const s=this.parent.variant,r=this.node.getText();if("-explicitFont"===s){const e=this.jax.getFontData(this.parent.styles),{w:i,h:n,d:o}=this.jax.measureText(r,s,e);t.h=n,t.d=o,t.w=i}else{const e=this.remappedText(r,s);let i="";t.empty();for(let r=0;r<e.length;r++){const[n,o,a,c]=this.getVariantChar(s,e[r]);if(c.unknown)i+=String.fromCodePoint(e[r]);else{if(i=this.addUtextBBox(t,i,s),this.updateBBox(t,n,o,a),t.ic=c.ic||0,t.sk=c.sk||0,t.dx=c.dx||0,!c.oc||r<e.length-1)continue;const l=this.parent.childNodes;if(this.node!==l[l.length-1].node)continue;const h=this.parent.parent.node;let d=h.isKind("mrow")||h.isInferred?h.childNodes[h.childIndex(this.parent.node)+1]:null;(null==d?void 0:d.isKind("mo"))&&"\u2062"===d.getText()&&(d=h.childNodes[h.childIndex(d)+1]),d&&d.attributes.get("mathvariant")===s?t.oc=c.oc:t.ic=c.oc}}this.addUtextBBox(t,i,s),e.length>1&&(t.sk=0),t.clean()}}addUtextBBox(t,e,s){if(e){const{h:r,d:i,w:n}=this.jax.measureText(e,s);this.updateBBox(t,r,i,n)}return""}updateBBox(t,e,s,r){t.w+=r,e>t.h&&(t.h=e),s>t.d&&(t.d=s)}getStyles(){}getVariant(){}getScale(){}getSpace(){}}}const zl=function(){var t;const e=Gl(Va);return t=class extends e{toCHTML(t){this.markUsed();const e=t[0],s=this.adaptor,r=this.parent.variant,i=this.node.getText();if(0===i.length)return;const n=this.getBBox();if("-explicitFont"===r)s.append(e,this.jax.unknownText(i,r,n.w));else{let t="";const o=this.remappedText(i,r),a=o.length>1?this.em(this.parent.getBBox().h):"",c=o.length;for(let i=0;i<c;i++){const l=o[i],h=this.getVariantChar(r,l)[3];if(h.unknown)t+=String.fromCodePoint(l);else{t=this.addUtext(t,r,e);const o=h.ff||(h.f?`${this.font.cssFontPrefix}-${h.f}`:""),d=s.append(e,this.html("mjx-c",{class:this.char(l)+(o?" "+o:"")},[this.text(h.c||String.fromCodePoint(l))]));(i<c-1||n.oc)&&s.setAttribute(d,"noic","true"),a&&s.setStyle(d,"padding-top",a),this.font.charUsage.add([r,l])}}this.addUtext(t,r,e)}}addUtext(t,e,s){return t&&this.adaptor.append(s,this.jax.unknownText(t,e)),""}},t.kind=ln.prototype.kind,t.autoStyle=!1,t.styles={"mjx-c":{display:"inline-block",width:0,"text-align":"right"},"mjx-utext":{display:"inline-block",padding:".75em 0 .2em 0"}},t}(),Wl=function(){var t;return(t=class extends jl{}).kind=uo.prototype.kind,t}(),Vl={[$a.kind]:$a,[Vc.kind]:Vc,[Xc.kind]:Xc,[Ka.kind]:Ka,[ec.kind]:ec,[rc.kind]:rc,[nc.kind]:nc,[ac.kind]:ac,[lc.kind]:lc,[dc.kind]:dc,[Gc.kind]:Gc,[Yc.kind]:Yc,[Zc.kind]:Zc,[el.kind]:el,[al.kind]:al,[cl.kind]:cl,[ll.kind]:ll,[pl.kind]:pl,[ml.kind]:ml,[fl.kind]:fl,[El.kind]:El,[Jc.kind]:Jc,[_l.kind]:_l,[Cl.kind]:Cl,[kl.kind]:kl,[Tl.kind]:Tl,[Ll.kind]:Ll,[Rl.kind]:Rl,[Dl.kind]:Dl,[Bl.kind]:Bl,[ql.kind]:ql,[jl.kind]:jl,[Hl.kind]:Hl,[zl.kind]:zl,[Wl.kind]:Wl,[Va.kind]:Va};class Xl extends qa{}Xl.defaultNodes=Vl;const $l={40:{dir:Aa,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9115,9116,9117],HDW:[.748,.248,.875]},41:{dir:Aa,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9118,9119,9120],HDW:[.748,.248,.875]},45:{c:8722,dir:Ta,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},47:{dir:Aa,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},61:{dir:Ta,stretch:[0,61],HDW:[.367,-.133,.778],ext:.112,hd:[.367,-.133]},91:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122,9123],HDW:[.75,.25,.667]},92:{dir:Aa,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},93:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125,9126],HDW:[.75,.25,.667]},94:{c:770,dir:Ta,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},95:{c:8211,dir:Ta,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},123:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9127,123,9129,9128],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},124:{dir:Aa,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],schar:[124,8739],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},125:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9131,123,9133,9132],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},126:{c:771,dir:Ta,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},175:{c:773,dir:Ta,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},710:{c:770,dir:Ta,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},711:{c:780,dir:Ta,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},713:{c:773,dir:Ta,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},728:{c:774,dir:Ta,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},732:{c:771,dir:Ta,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},770:{dir:Ta,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},771:{dir:Ta,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},773:{dir:Ta,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},774:{dir:Ta,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},780:{dir:Ta,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},8211:{dir:Ta,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},8212:{dir:Ta,stretch:[0,8212],HDW:[.277,-.255,1],ext:.001,hd:[.277,-.255]},8213:{dir:Ta,stretch:[0,8213],HDW:[.27,-.23,1.152],ext:.112,hd:[.27,-.23]},8214:{dir:Aa,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],schar:[8214,8741],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8254:{c:175,dir:Ta,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},8260:{dir:Aa,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8400:{dir:Ta,sizes:[.422,.667],stretch:[8400,8400],stretchv:[3,1],HDW:[.711,-.601,0],hd:[.631,-.601]},8401:{dir:Ta,sizes:[.422,.667],stretch:[0,8400,8401],stretchv:[0,1,4],HDW:[.711,-.601,0],hd:[.631,-.601]},8406:{dir:Ta,sizes:[.416,.659],stretch:[8406,8400],stretchv:[3,1],HDW:[.711,-.521,0],hd:[.631,-.601]},8407:{dir:Ta,sizes:[.416,.659],stretch:[0,8400,8407],stretchv:[0,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8417:{dir:Ta,sizes:[.47,.715],stretch:[8406,8400,8407],stretchv:[3,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8428:{dir:Ta,sizes:[.422,.667],stretch:[0,845,8428],stretchv:[0,1,4],HDW:[-.171,.281,0],hd:[-.171,.201]},8429:{dir:Ta,sizes:[.422,.667],stretch:[8429,845],stretchv:[3,1],HDW:[-.171,.281,0],hd:[-.171,.201]},8430:{dir:Ta,sizes:[.416,.659],stretch:[8430,845],stretchv:[3,1],HDW:[-.091,.281,0],hd:[-.171,.201]},8431:{dir:Ta,sizes:[.416,.659],stretch:[0,845,8431],stretchv:[0,1,4],HDW:[-.091,.281,0],hd:[-.171,.201]},8512:{dir:Aa,sizes:[.684,1.401],variants:[0,2]},8592:{dir:Ta,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},8593:{dir:Aa,sizes:[.883,1.349],variants:[0,2],stretch:[8593,8593],stretchv:[3,1],HDW:[.679,.203,.5]},8594:{dir:Ta,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8595:{dir:Aa,sizes:[.883,1.349],variants:[0,2],stretch:[0,8593,8595],stretchv:[0,1,4],HDW:[.703,.179,.5]},8596:{dir:Ta,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8597:{dir:Aa,sizes:[1.015,1.015],variants:[0,2],stretch:[8593,8593,8595],stretchv:[3,1,4],HDW:[.757,.257,.5]},8598:{dir:Aa,sizes:[.918,1.384],variants:[0,2]},8599:{dir:Aa,sizes:[.918,1.384],variants:[0,2]},8600:{dir:Aa,sizes:[.918,1.384],variants:[0,2]},8601:{dir:Aa,sizes:[.918,1.384],variants:[0,2]},8602:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[8602,8592,0,8602],stretchv:[3,1,0,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8603:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[0,8592,8603,8602],stretchv:[0,1,4,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8606:{dir:Ta,sizes:[1.017,1.463],variants:[0,2],stretch:[8606,8592],stretchv:[3,1],HDW:[.51,.01,1.017],hd:[.274,-.226]},8608:{dir:Ta,sizes:[1.017,1.463],variants:[0,2],stretch:[0,8592,8608],stretchv:[0,1,4],HDW:[.51,.01,1.017],hd:[.274,-.226]},8610:{dir:Ta,sizes:[1.192,1.658],variants:[0,2],stretch:[8592,8592,8610],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8611:{dir:Ta,sizes:[1.192,1.658],variants:[0,2],stretch:[8611,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8612:{dir:Ta,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8614:{dir:Ta,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8617:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8617],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8618:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[8618,8617,8594],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8619:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8619],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8620:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[8620,8617,8594],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8630:{dir:Ta,sizes:[.98,1.33],variants:[0,2]},8631:{dir:Ta,sizes:[.98,1.33],variants:[0,2]},8636:{dir:Ta,sizes:[1,1.478],variants:[0,2],stretch:[8636,8636],stretchv:[3,1],HDW:[.499,-.226,1],hd:[.273,-.226]},8637:{dir:Ta,sizes:[1.012,1.478],variants:[0,2],stretch:[8637,8636],stretchv:[3,1],HDW:[.273,0,1.012],hd:[.273,-.226]},8638:{dir:Aa,sizes:[.901,1.367],variants:[0,2],stretch:[8638,8638],stretchv:[3,1],HDW:[.697,.203,.441]},8639:{dir:Aa,sizes:[.901,1.367],variants:[0,2],stretch:[8639,8639],stretchv:[3,1],HDW:[.697,.203,.441]},8640:{dir:Ta,sizes:[1,1.478],variants:[0,2],stretch:[0,8636,8640],stretchv:[0,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},8641:{dir:Ta,sizes:[1.012,1.478],variants:[0,2],stretch:[0,8636,8641],stretchv:[0,1,4],HDW:[.273,0,1.012],hd:[.273,-.226]},8642:{dir:Aa,sizes:[.901,1.367],variants:[0,2],stretch:[0,8638,8642],stretchv:[0,1,4],HDW:[.703,.197,.441]},8643:{dir:Aa,sizes:[.901,1.367],variants:[0,2],stretch:[0,8639,8643],stretchv:[0,1,4],HDW:[.703,.197,.441]},8644:{dir:Ta,sizes:[1.018,1.484],variants:[0,2],stretch:[8644,8644,8644],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8645:{dir:Aa,sizes:[.907,1.373],variants:[0,2],stretch:[8645,8645,8645],stretchv:[3,1,4],HDW:[.703,.203,.896]},8646:{dir:Ta,sizes:[1.018,1.484],variants:[0,2],stretch:[8646,8644,8646],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8647:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[8647,8647],stretchv:[3,1],HDW:[.75,.25,.997],hd:[.512,.012]},8648:{dir:Aa,sizes:[.883,1.349],variants:[0,2],stretch:[8648,8648],stretchv:[3,1],HDW:[.679,.203,.992]},8649:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[0,8647,8649],stretchv:[0,1,4],HDW:[.75,.25,.997],hd:[.512,.012]},8650:{dir:Aa,sizes:[.883,1.349],variants:[0,2],stretch:[0,8648,8650],stretchv:[0,1,4],HDW:[.703,.179,.992]},8651:{dir:Ta,sizes:[1.018,1.484],variants:[0,2],stretch:[8651,8651,8651],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8652:{dir:Ta,sizes:[1.018,1.484],variants:[0,2],stretch:[8652,8651,8652],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8653:{dir:Ta,sizes:[.991,1.457],variants:[0,2],stretch:[8653,8654,0,8653],stretchv:[3,1,0,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8654:{dir:Ta,sizes:[1.068,1.534],variants:[0,2],stretch:[8656,8654,8658,8653],stretchv:[3,1,4,1],HDW:[.52,.02,1.068],hd:[.369,-.131]},8655:{dir:Ta,sizes:[.991,1.457],variants:[0,2],stretch:[0,8654,8658,8653],stretchv:[0,1,4,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8656:{dir:Ta,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},8657:{dir:Aa,sizes:[.88,1.346],variants:[0,2],stretch:[8657,8657],stretchv:[3,1],HDW:[.676,.203,.652]},8658:{dir:Ta,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8659:{dir:Aa,sizes:[.88,1.346],variants:[0,2],stretch:[0,8657,8659],stretchv:[0,1,4],HDW:[.703,.176,.652]},8660:{dir:Ta,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8661:{dir:Aa,sizes:[.957,1.423],variants:[0,2],stretch:[8657,8657,8659],stretchv:[3,1,4],HDW:[.728,.228,.652]},8666:{dir:Ta,sizes:[1.015,1.461],variants:[0,2],stretch:[8666,8666],stretchv:[3,1],HDW:[.617,.117,1.015],hd:[.466,-.034]},8667:{dir:Ta,sizes:[1.015,1.461],variants:[0,2],stretch:[0,8666,8667],stretchv:[0,1,4],HDW:[.617,.117,1.015],hd:[.466,-.034]},8693:{dir:Aa,sizes:[.907,1.373],variants:[0,2],stretch:[8693,8645,8693],stretchv:[3,1,4],HDW:[.703,.203,.896]},8694:{dir:Ta,sizes:[.997,1.463],variants:[0,2],stretch:[0,8694,8694],stretchv:[0,1,4],HDW:[.99,.49,.997],hd:[.751,.251]},8719:{dir:Aa,sizes:[1.001,1.401],variants:[0,2]},8720:{dir:Aa,sizes:[1.001,1.401],variants:[0,2]},8721:{dir:Aa,sizes:[1.001,1.401],variants:[0,2]},8722:{dir:Ta,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},8725:{c:47,dir:Aa,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8730:{dir:Aa,sizes:[1.001,1.201,1.801,2.401,3.001],stretch:[8730,8730,9143],stretchv:[3,1,0],HDW:[.04,.96,1.056],fullExt:[.64,2.44]},8739:{dir:Aa,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},8741:{dir:Aa,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8747:{dir:Aa,sizes:[1.112,2.223],variants:[0,2],stretch:[8992,9134,8993],HDW:[.805,.306,1.185]},8748:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8749:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8750:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8751:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8752:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8753:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8754:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8755:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},8801:{dir:Ta,stretch:[0,8801],HDW:[.464,-.036,.778],ext:.112,hd:[.464,-.036]},8803:{dir:Ta,stretch:[0,8803],HDW:[.561,.061,.778],ext:.112,hd:[.561,.061]},8866:{dir:Aa,sizes:[.685,.869],variants:[0,0],schar:[8866,10205]},8867:{dir:Aa,sizes:[.685,.869],variants:[0,0],schar:[8867,10206]},8868:{dir:Aa,sizes:[.685,.869],variants:[0,0],schar:[8868,10201]},8869:{dir:Aa,sizes:[.685,.869],variants:[0,0],schar:[8869,10200]},8896:{dir:Aa,sizes:[1.045,1.394],variants:[0,2]},8897:{dir:Aa,sizes:[1.045,1.394],variants:[0,2]},8898:{dir:Aa,sizes:[1.023,1.357],variants:[0,2]},8899:{dir:Aa,sizes:[1.023,1.357],variants:[0,2]},8968:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122],HDW:[.75,.25,.667]},8969:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125],HDW:[.75,.25,.667]},8970:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9122,9123],HDW:[.75,.25,.667]},8971:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9125,9126],HDW:[.75,.25,.667]},8978:{c:9180,dir:Ta,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8994:{c:9180,dir:Ta,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8995:{c:9181,dir:Ta,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9001:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9001,10216]},9002:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9002,10217]},9130:{dir:Aa,sizes:[.748],stretch:[0,9130],HDW:[.748,0,.902]},9135:{c:8211,dir:Ta,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},9136:{dir:Aa,sizes:[1.125],stretch:[9127,9130,9133],HDW:[.75,.375,.902]},9137:{dir:Aa,sizes:[1.125],stretch:[9131,9130,9129],HDW:[.75,.375,.902]},9140:{dir:Ta,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9140,9140,9140],stretchv:[3,1,4],HDW:[.772,-.504,.36],hd:[.772,-.706]},9141:{dir:Ta,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9141,9141,9141],stretchv:[3,1,4],HDW:[-.074,.342,.36],hd:[-.276,.342]},9168:{dir:Aa,sizes:[.642],stretch:[0,9168],HDW:[.642,0,.333]},9180:{dir:Ta,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},9181:{dir:Ta,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9182:{dir:Ta,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},9183:{dir:Ta,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},9184:{dir:Ta,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9184,9184,9184],stretchv:[3,1,4],HDW:[.873,-.605,.546],hd:[.873,-.766]},9185:{dir:Ta,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9185,9185,9185],stretchv:[3,1,4],HDW:[-.175,.443,.546],hd:[-.336,.443]},9472:{c:8211,dir:Ta,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},10072:{c:8739,dir:Aa,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},10197:{dir:Aa,sizes:[.511,.628],variants:[0,2]},10198:{dir:Aa,sizes:[.511,.628],variants:[0,2]},10199:{dir:Aa,sizes:[.511,.628],variants:[0,2]},10214:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10214,10214,10214],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10215:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10215,10215,10215],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10216:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10217:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10218:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10219:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10222:{dir:Aa,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10222,10222,10222],stretchv:[3,1,4],HDW:[.762,.262,.647]},10223:{dir:Aa,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10223,10223,10223],stretchv:[3,1,4],HDW:[.762,.262,.647]},10229:{c:8592,dir:Ta,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},10230:{c:8594,dir:Ta,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10231:{c:8596,dir:Ta,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10232:{c:8656,dir:Ta,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},10233:{c:8658,dir:Ta,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10234:{c:8660,dir:Ta,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10235:{c:8612,dir:Ta,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10236:{c:8614,dir:Ta,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10570:{dir:Ta,sizes:[1.012],stretch:[8636,8636,8641],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10571:{dir:Ta,sizes:[1.012],stretch:[8637,8636,8640],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10574:{dir:Ta,sizes:[1],stretch:[8636,8636,8640],stretchv:[3,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},10576:{dir:Ta,sizes:[1],stretch:[8637,8636,8641],stretchv:[3,1,4],HDW:[.273,0,1],hd:[.273,-.226]},10586:{dir:Ta,sizes:[1],stretch:[8636,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10587:{dir:Ta,sizes:[1],stretch:[8614,8636,8640],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10590:{dir:Ta,sizes:[1],stretch:[8637,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10591:{dir:Ta,sizes:[1],stretch:[8614,8636,8641],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10627:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10628:{dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10629:{dir:Aa,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10630:{dir:Aa,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10744:{dir:Aa,sizes:[1.076,1.917],variants:[0,2]},10745:{dir:Aa,sizes:[1.076,1.917],variants:[0,2]},10748:{dir:Aa,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10749:{dir:Aa,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10752:{dir:Aa,sizes:[.987,1.305],variants:[0,2]},10753:{dir:Aa,sizes:[.987,1.305],variants:[0,2]},10754:{dir:Aa,sizes:[.987,1.305],variants:[0,2]},10755:{dir:Aa,sizes:[1.023,1.357],variants:[0,2]},10756:{dir:Aa,sizes:[1.023,1.357],variants:[0,2]},10757:{dir:Aa,sizes:[1.029,1.373],variants:[0,2]},10758:{dir:Aa,sizes:[1.029,1.373],variants:[0,2]},10759:{dir:Aa,sizes:[1.045,1.907],variants:[0,2]},10760:{dir:Aa,sizes:[1.045,1.907],variants:[0,2]},10761:{dir:Aa,sizes:[.981,1.261],variants:[0,2]},10762:{dir:Aa,sizes:[1.001,1.401],variants:[0,2]},10763:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10764:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10765:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10766:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10767:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10768:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10769:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10770:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10771:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10772:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10773:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10774:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10775:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10776:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10777:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10778:{dir:Aa,sizes:[1.112,2.223],variants:[0,2]},10779:{dir:Aa,sizes:[1.274,2.464],variants:[0,2]},10780:{dir:Aa,sizes:[1.274,2.486],variants:[0,2]},10781:{dir:Aa,sizes:[.767,1.073],variants:[0,2]},10782:{dir:Aa,sizes:[.767,1.074],variants:[0,2]},10784:{dir:Aa,sizes:[.595,.835],variants:[0,2]},10785:{dir:Aa,sizes:[.901,1.261],variants:[0,2]},11004:{dir:Aa,sizes:[1.001,1.915],variants:[0,2]},11007:{dir:Aa,sizes:[1.241,1.915],variants:[0,2]},12296:{c:10216,dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},12297:{c:10217,dir:Aa,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},65079:{c:9182,dir:Ta,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},65080:{c:9183,dir:Ta,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},126704:{dir:Aa,sizes:[.527,.738]},126705:{dir:Aa,sizes:[.531,.744]}},Jl=function(t){var e;return(e=class extends t{}).defaultVariants=[...Ia.defaultVariants,["-size3","normal"],["-size4","normal"],["-size5","normal"],["-size6","normal"],["-size7","normal"],["-lf-tp","normal"],["-rt-bt","normal"],["-ex-md","normal"],["-bbold","normal"],["-upsmall","normal"],["-uplarge","normal"]],e.VariantSmp=Object.assign(Object.assign({},Ia.VariantSmp),{"-bbold":[120120,120146,,,120792]}),e.defaultCssFonts=Object.assign(Object.assign({},Ia.defaultCssFonts),{"-size3":["serif",!1,!1],"-size4":["serif",!1,!1],"-size5":["serif",!1,!1],"-size6":["serif",!1,!1],"-size7":["serif",!1,!1],"-lf-tp":["serif",!1,!1],"-rt-bt":["serif",!1,!1],"-ex-md":["serif",!1,!1],"-bbold":["serif",!1,!1],"-upsmall":["serif",!1,!1],"-uplarge":["serif",!1,!1]}),e.defaultAccentMap={94:"\u02c6",126:"\u02dc",768:"\u02cb",769:"\u02ca",770:"\u02c6",771:"\u02dc",772:"\u02c9",774:"\u02d8",775:"\u02d9",776:"\xa8",778:"\u02da",780:"\u02c7",8594:"\u20d7"},e.defaultParams=Object.assign(Object.assign({},Ia.defaultParams),{x_height:.442}),e.defaultSizeVariants=["normal","-smallop","-largeop","-size3","-size4","-size5","-size6","-size7"],e.defaultStretchVariants=["normal","-ex-md","-size3","-lf-tp","-rt-bt"],e}(Za);class Kl extends Jl{constructor(){super(...arguments),this.cssFontPrefix="NCM"}}Kl.NAME="MathJaxNewcm",Kl.OPTIONS=Object.assign(Object.assign({},Jl.OPTIONS),{fontURL:"@mathjax/mathjax-newcm-font/js/chtml/woff2",dynamicPrefix:"@mathjax/mathjax-newcm-font/js/chtml/dynamic"}),Kl.defaultCssFamilyPrefix="MJX-NCM-ZERO",Kl.defaultVariantLetters={normal:"",bold:"B",italic:"I","bold-italic":"BI","double-struck":"DS",fraktur:"F","bold-fraktur":"FB","sans-serif":"SS","bold-sans-serif":"SSB","sans-serif-italic":"SSI","sans-serif-bold-italic":"SSBI",monospace:"M","-smallop":"SO","-largeop":"LO","-size3":"S3","-size4":"S4","-size5":"S5","-size6":"S6","-size7":"S7","-tex-mathit":"MI","-tex-calligraphic":"C","-tex-bold-calligraphic":"CB","-tex-oldstyle":"OS","-tex-bold-oldstyle":"OB","-tex-variant":"V","-lf-tp":"LT","-rt-bt":"RB","-ex-md":"EM","-bbold":"Be","-upsmall":"U","-uplarge":"Ue",script:"S","bold-script":"SB"},Kl.defaultDelimiters=$l,Kl.defaultChars={normal:{32:[0,0,.332],33:[.716,0,.278],34:[.705,-.423,.374],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.705,-.423,.278],40:[.748,.248,.389],41:[.748,.248,.389],42:[.75,-.32,.5],43:[.583,.083,.778],44:[.106,.193,.278],45:[.245,-.187,.333],46:[.106,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5,{sk:-.01}],51:[.666,.022,.5],52:[.677,0,.5,{sk:.103}],53:[.666,.022,.5],54:[.666,.022,.5,{sk:.068}],55:[.676,.022,.5,{sk:-.147}],56:[.666,.022,.5,{sk:.011}],57:[.666,.022,.5],58:[.431,0,.278],59:[.431,.193,.278],60:[.547,.052,.778],61:[.367,-.133,.778],62:[.547,.047,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708,{sk:-.014}],67:[.705,.022,.722,{sk:.044}],68:[.683,0,.764],69:[.68,0,.681,{sk:.013}],70:[.68,0,.653],71:[.705,.022,.785,{sk:.013}],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514,{sk:.06}],75:[.683,0,.778,{sk:-.011}],76:[.683,0,.625,{sk:-.119}],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.194,.778],82:[.683,.022,.736,{sk:-.026}],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75,{sk:.02}],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611,{sk:.011}],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.745,-.561,.556,{ic:.006}],95:[-.1,.14,.333],96:[.698,-.509,.5,{sk:-.031}],97:[.448,.011,.5,{sk:-.036}],98:[.694,.011,.556,{sk:-.142}],99:[.448,.011,.444,{sk:.027}],100:[.694,.011,.556,{sk:.109}],101:[.448,.011,.444,{sk:.014}],102:[.705,0,.306,{ic:.051,sk:.043}],103:[.453,.206,.5,{sk:-.024}],104:[.694,0,.556,{sk:-.132}],105:[.657,0,.278],106:[.657,.205,.306],107:[.694,0,.528,{sk:-.128}],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556,{sk:.013}],111:[.448,.011,.5],112:[.442,.194,.556,{sk:.032}],113:[.442,.194,.528],114:[.442,0,.392,{sk:-.015}],115:[.448,.011,.394],116:[.615,.011,.389,{sk:-.034}],117:[.442,.011,.556,{sk:-.017}],118:[.431,.011,.528,{sk:.014}],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.205,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.25,.278],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.001}],160:[0,0,.332],163:[.683,.035,.75],165:[.683,0,.75],167:[.705,.205,.444],168:[.652,-.557,.5],172:[.367,-.133,.667],175:[.62,-.589,.5],176:[.683,-.406,.375],177:[.583,.084,.778],180:[.698,-.509,.5,{sk:.031}],181:[.441,.194,.556],182:[.694,.194,.611],183:[.303,-.197,.278],215:[.491,-.009,.778],240:[.696,.011,.5],247:[.504,.004,.778],305:[.442,0,.278],567:[.442,.205,.306],710:[.694,-.515,.5],711:[.693,-.514,.5],713:[.62,-.589,.5],714:[.698,-.509,.5,{sk:.031}],715:[.698,-.509,.5,{sk:-.031}],717:[-.193,.233,.333,{ic:.018}],728:[.69,-.518,.5],729:[.657,-.551,.278],730:[.705,-.529,.75],732:[.653,-.556,.5],767:[-.025,.275,0,{dx:.274}],768:[.733,-.544,0,{dx:.294}],769:[.733,-.544,0,{dx:.234}],770:[.694,-.515,.5],771:[.653,-.556,.5,{sk:.016}],772:[.64,-.609,0,{dx:.264}],773:[.67,-.63,0,{dx:.264}],774:[.73,-.592,0,{dx:.264}],775:[.677,-.571,0,{dx:.265}],776:[.672,-.577,0,{dx:.264}],778:[.725,-.549,0,{dx:.264}],780:[.726,-.577,0,{dx:.264}],824:[.75,.25,0,{sk:-.263}],913:[.716,0,.75],914:[.683,0,.708,{sk:-.068}],915:[.68,0,.625,{sk:-.015}],916:[.716,0,.833],917:[.68,0,.681,{sk:-.022}],918:[.683,0,.611,{sk:.011}],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778,{sk:-.011}],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681,{sk:-.058}],931:[.683,0,.722,{sk:-.011}],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75,{sk:-.014}],936:[.683,0,.778],937:[.705,0,.722],945:[.442,.011,.641,{ic:.006,sk:.031}],946:[.706,.194,.558],947:[.442,.215,.586],948:[.712,.011,.474],949:[.453,.022,.535,{sk:-.024}],950:[.697,.205,.53,{sk:-.041}],951:[.442,.216,.53,{sk:-.047}],952:[.705,.011,.488],953:[.442,.011,.308,{sk:-.056}],954:[.442,.011,.53,{sk:-.018}],955:[.694,.013,.537,{ic:.029,sk:-.204}],956:[.442,.216,.53,{sk:-.028}],957:[.442,0,.502,{sk:-.042}],958:[.697,.205,.53,{sk:-.069}],959:[.448,.011,.5],960:[.431,.011,.586,{sk:-.014}],961:[.442,.216,.488],962:[.442,.108,.474],963:[.431,.011,.599],964:[.431,.012,.53,{sk:-.033}],965:[.442,.011,.53,{sk:-.014}],966:[.442,.218,.641,{sk:-.018}],967:[.442,.205,.641,{ic:.004,sk:-.057}],968:[.694,.205,.641,{sk:.028}],969:[.442,.011,.641],977:[.705,.011,.53,{sk:.026}],978:[.715,0,.778],981:[.694,.205,.641],982:[.431,.011,.836,{sk:-.014}],1008:[.442,.012,.624,{sk:-.015}],1009:[.442,.194,.488],1012:[.705,.022,.778],1013:[.431,.011,.414,{ic:.015,sk:.024}],1014:[.431,.011,.414,{ic:.058}],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.25],8201:[0,0,.2],8202:[0,0,.1],8203:[0,0,0],8208:[.245,-.187,.333],8209:[.245,-.187,.333],8210:[.342,-.302,.68],8211:[.277,-.255,.5],8212:[.277,-.255,1],8213:[.27,-.23,1.152],8214:[.75,.25,.398],8216:[.693,-.394,.278],8217:[.694,-.395,.278],8220:[.693,-.394,.472],8221:[.694,-.395,.472],8224:[.705,.216,.444],8225:[.705,.205,.444],8230:[.106,0,.837],8231:[.266,-.16,.276],8239:[0,0,.2],8242:[.748,-.43,.311],8243:[.748,-.43,.511],8244:[.748,-.43,.711],8245:[.748,-.43,.311],8246:[.748,-.43,.511],8247:[.748,-.43,.711],8260:[.75,.25,.5],8279:[.748,-.43,.911],8287:[0,0,.222],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8356:[.683,.035,.75],8364:[.705,.022,.627],8400:[.711,-.601,0,{dx:.264}],8401:[.711,-.601,0,{dx:.264}],8402:[.75,.25,0,{sk:-.264}],8406:[.711,-.521,0,{dx:.264}],8407:[.711,-.521,0,{dx:.264}],8411:[.696,-.604,0,{dx:.264}],8412:[.696,-.604,0,{dx:.264}],8417:[.711,-.521,0,{dx:.264}],8428:[-.171,.281,0,{dx:.264}],8429:[-.171,.281,0,{dx:.264}],8430:[-.091,.281,0,{dx:.264}],8431:[-.091,.281,0,{dx:.264}],8455:[.705,.022,.53],8462:[.694,.011,.576,{sk:-.033}],8463:[.694,.011,.576],8486:[.705,0,.722],8487:[.684,.021,.722],8490:[.683,0,.778,{sk:-.011}],8491:[.892,0,.75],8498:[.68,0,.653],8501:[.693,0,.611],8502:[.723,.04,.604],8503:[.721,.03,.528],8504:[.71,.035,.574],8592:[.51,.01,1],8593:[.679,.203,.5],8594:[.51,.01,1],8595:[.703,.179,.5],8596:[.51,.01,1],8597:[.757,.257,.5],8598:[.714,.203,1],8599:[.714,.203,1],8600:[.703,.214,1],8601:[.703,.214,1],8602:[.51,.01,.997],8603:[.51,.01,.997],8606:[.51,.01,1.017],8608:[.51,.01,1.017],8610:[.51,.01,1.192],8611:[.51,.01,1.192],8612:[.51,.011,.977],8614:[.51,.011,.977],8617:[.55,.01,.997],8618:[.55,.01,.997],8619:[.55,.05,.997],8620:[.55,.05,.997],8622:[.51,.01,.996],8630:[.562,-.229,.98],8631:[.562,-.229,.98],8634:[.68,.06,.771],8635:[.68,.06,.771],8636:[.503,-.23,1],8637:[.27,.003,1.012],8638:[.697,.203,.441],8639:[.697,.203,.441],8640:[.503,-.23,1],8641:[.27,.003,1.012],8642:[.703,.197,.441],8643:[.703,.197,.441],8644:[.672,.172,1.018],8645:[.703,.203,.896],8646:[.672,.172,1.018],8647:[.75,.25,.997],8648:[.679,.203,.992],8649:[.75,.25,.997],8650:[.703,.179,.992],8651:[.6,.1,1.018],8652:[.6,.1,1.018],8653:[.52,.02,.991],8654:[.52,.02,1.068],8655:[.52,.02,.991],8656:[.52,.02,1],8657:[.676,.203,.611],8658:[.52,.02,1],8659:[.703,.176,.611],8660:[.52,.02,1],8661:[.728,.228,.611],8666:[.617,.117,1.015],8667:[.617,.117,1.015],8672:[.51,.01,1],8673:[.692,.192,.684],8674:[.51,.01,1],8675:[.692,.192,.684],8676:[.51,.01,1.018],8677:[.51,.01,1.018],8693:[.703,.203,.896],8694:[.99,.49,.997],8704:[.688,-.002,.666],8705:[.684,0,.556],8706:[.716,.022,.586],8707:[.684,0,.556],8708:[.789,.105,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.543,.043,.667],8713:[.73,.23,.667],8715:[.543,.043,.667],8716:[.73,.23,.667],8718:[.554,0,.666],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.083,.778],8723:[.584,.083,.778],8724:[.785,.083,.778],8725:[.603,.103,.568],8726:[.603,.103,.568],8727:[.462,-.039,.5],8728:[.4,-.1,.412],8729:[.445,-.055,.5],8730:[.04,.96,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8735:[.679,-.013,.778],8736:[.724,-.013,.778],8737:[.724,.109,.778],8738:[.562,.062,.778],8739:[.75,.25,.278],8740:[.75,.25,.388],8741:[.75,.25,.5],8742:[.75,.25,.556],8743:[.602,.02,.667],8744:[.601,.02,.667],8745:[.604,.02,.667],8746:[.604,.02,.667],8747:[.805,.306,.545,{ic:.12}],8748:[.805,.306,.915,{ic:.12}],8749:[.805,.306,1.285,{ic:.12}],8750:[.805,.306,.615,{ic:.05}],8751:[.805,.306,.985,{ic:.05}],8752:[.805,.306,1.355,{ic:.05}],8753:[.805,.306,.675,{ic:.02}],8754:[.805,.306,.662,{ic:.02}],8755:[.805,.306,.662,{ic:.02}],8756:[.416,-.084,.516],8757:[.416,-.084,.516],8758:[.422,-.078,.278],8759:[.422,-.078,.516],8760:[.504,-.23,.778],8761:[.422,-.078,.906],8764:[.366,-.134,.773],8765:[.366,-.134,.773],8766:[.466,-.034,.901],8767:[.492,-.008,.778],8768:[.583,.083,.28],8769:[.482,-.018,.773],8770:[.38,-.032,.778],8771:[.468,-.12,.778],8772:[.603,.103,.778],8773:[.552,-.036,.778],8774:[.614,.048,.778],8775:[.603,.103,.778],8776:[.457,-.043,.773],8777:[.603,.103,.773],8778:[.541,-.036,.778],8779:[.541,.041,.773],8780:[.541,-.036,.778],8781:[.498,-.002,.778],8784:[.601,-.133,.778],8788:[.422,-.078,.906],8789:[.422,-.078,.906],8797:[.793,-.133,.778],8799:[.803,-.133,.778],8800:[.73,.23,.778],8801:[.464,-.036,.778],8802:[.73,.23,.778],8803:[.561,.061,.778],8804:[.631,.119,.778],8805:[.631,.119,.778],8806:[.715,.203,.778],8807:[.715,.203,.778],8808:[.715,.287,.778],8809:[.715,.287,.778],8810:[.554,.047,1],8811:[.546,.054,1],8812:[.77,.27,.434],8813:[.73,.23,.778],8814:[.73,.23,.778],8815:[.73,.23,.778],8816:[.73,.23,.778],8817:[.73,.23,.778],8818:[.636,.125,.776],8819:[.636,.125,.776],8820:[.691,.191,.776],8821:[.691,.191,.776],8822:[.741,.241,.778],8823:[.741,.241,.778],8824:[.776,.276,.778],8825:[.776,.276,.778],8826:[.547,.047,.778],8827:[.547,.047,.778],8828:[.639,.139,.738],8829:[.639,.139,.738],8830:[.682,.17,.773],8831:[.682,.17,.773],8832:[.73,.23,.778],8833:[.73,.23,.778],8834:[.543,.043,.778],8835:[.543,.043,.778],8836:[.73,.23,.778],8837:[.73,.23,.778],8838:[.627,.127,.778],8839:[.627,.127,.778],8840:[.73,.23,.778],8841:[.73,.23,.778],8842:[.627,.211,.778],8843:[.627,.211,.778],8845:[.604,.02,.667],8846:[.604,.02,.667],8847:[.543,.043,.778],8848:[.543,.043,.778],8849:[.627,.127,.778],8850:[.627,.127,.778],8851:[.604,.02,.667],8852:[.604,.02,.667],8853:[.591,.093,.782],8854:[.591,.093,.782],8855:[.591,.093,.782],8856:[.591,.093,.782],8857:[.591,.093,.782],8858:[.591,.093,.782],8859:[.591,.093,.782],8860:[.591,.093,.782],8861:[.591,.093,.782],8862:[.583,.083,.778],8863:[.583,.083,.778],8864:[.583,.083,.778],8865:[.583,.083,.778],8866:[.684,0,.611],8867:[.684,0,.611],8868:[.664,.02,.778],8869:[.684,0,.778],8870:[.684,0,.445],8871:[.684,0,.445],8872:[.684,0,.612],8873:[.684,0,.673],8874:[.684,0,.841],8875:[.684,0,.653],8876:[.684,0,.565],8877:[.684,0,.732],8878:[.684,0,.793],8879:[.684,0,.773],8880:[.563,.063,.778],8881:[.563,.063,.778],8882:[.547,.047,.738],8883:[.547,.047,.738],8884:[.605,.105,.738],8885:[.605,.105,.738],8890:[.664,.02,.778],8896:[.78,.282,.833],8897:[.783,.28,.833],8898:[.772,.25,.833],8899:[.75,.272,.833],8900:[.48,-.02,.5],8901:[.303,-.197,.278],8902:[.486,-.008,.5],8904:[.505,.005,.623],8905:[.505,.005,.623],8906:[.505,.005,.623],8907:[.505,.005,.623],8908:[.505,.005,.623],8909:[.468,-.12,.778],8910:[.584,.02,.733],8911:[.584,.02,.733],8930:[.73,.23,.778],8931:[.73,.23,.778],8938:[.73,.23,.738],8939:[.73,.23,.738],8940:[.73,.23,.738],8941:[.73,.23,.738],8942:[.582,.082,.218],8943:[.303,-.197,.776],8944:[.5,0,.613],8945:[.5,0,.613],8967:[.783,.313,.28],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8972:[.274,.103,.818],8973:[.274,.103,.818],8974:[.603,-.226,.818],8975:[.603,-.226,.818],8976:[.367,-.133,.667],8985:[.367,-.133,.667],8988:[.77,-.49,.392],8989:[.77,-.49,.392],8990:[.01,.27,.392],8991:[.01,.27,.392],8992:[1.344,0,1.185],8993:[.806,.538,1.185],8994:[.381,-.13,1],8995:[.371,-.133,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9115:[1.495,0,.875],9116:[.498,0,.875],9117:[1.495,0,.875],9118:[1.495,0,.875],9119:[.498,0,.875],9120:[1.495,0,.875],9121:[1.5,0,.667],9122:[1,0,.667],9123:[1.5,0,.667],9124:[1.5,0,.667],9125:[1,0,.667],9126:[1.5,0,.667],9127:[.75,0,.902],9128:[1.5,0,.902],9129:[.75,0,.902],9130:[.748,0,.902],9131:[.75,0,.902],9132:[1.5,0,.902],9133:[.75,0,.902],9134:[.806,0,1.185],9135:[.27,-.23,.396],9136:[.75,.375,.752],9137:[.75,.375,.752],9138:[.846,0,1.576],9139:[.847,0,1.576],9140:[.726,-.552,.36],9141:[-.122,.296,.36],9143:[1.82,0,1.056],9144:[1.765,.235,.659],9145:[1.765,.235,.659],9168:[.642,0,.333],9180:[.727,-.572,.504],9181:[-.142,.297,.504],9182:[.783,-.539,.492],9183:[-.109,.353,.492],9184:[.829,-.657,.546,{ic:.006}],9185:[-.227,.399,.546,{ic:.006}],9204:[.422,-.082,.356],9205:[.422,-.078,.356],9206:[.38,-.12,.356],9207:[.38,-.12,.356],9632:[.583,.083,.778],9633:[.583,.083,.778],9642:[.358,-.142,.328],9643:[.358,-.142,.328],9650:[.741,.005,.968],9651:[.741,.005,.968],9652:[.592,-.144,.626],9653:[.592,-.144,.626],9654:[.678,.178,.858],9655:[.678,.178,.858],9656:[.625,-.111,.626],9657:[.625,-.111,.626],9658:[.625,-.111,.866],9659:[.625,-.111,.866],9660:[.505,.241,.968],9661:[.505,.241,.968],9662:[.592,-.144,.626],9663:[.592,-.144,.626],9664:[.678,.178,.858],9665:[.678,.178,.858],9666:[.625,-.111,.626],9667:[.625,-.111,.626],9668:[.625,-.111,.866],9669:[.625,-.111,.866],9670:[.713,.213,1.025],9671:[.713,.213,1.025],9674:[.61,.11,.572],9675:[.592,.092,.796],9679:[.592,.092,.796],9702:[.445,-.055,.5],9711:[.701,.201,1.013],9720:[.679,-.013,.778],9721:[.679,-.013,.778],9722:[.679,-.013,.778],9723:[.533,.033,.706],9724:[.533,.033,.706],9725:[.483,-.017,.566],9726:[.483,-.017,.566],9727:[.679,-.013,.778],10072:[.694,.083,.525],10200:[.684,.184,.946],10201:[.684,.184,.986],10205:[.684,.184,.946],10206:[.684,.184,.946],10214:[.75,.25,.41],10215:[.75,.25,.41],10216:[.75,.25,.389],10217:[.75,.25,.389],10218:[.75,.25,.57],10219:[.75,.25,.57],10220:[.748,.248,.389],10221:[.748,.248,.389],10222:[.762,.262,.287],10223:[.762,.262,.287],10229:[.51,.01,1.463],10230:[.51,.01,1.463],10231:[.51,.01,1.442],10232:[.52,.02,1.457],10233:[.52,.02,1.457],10234:[.52,.02,1.534],10235:[.51,.011,1.443],10236:[.51,.011,1.443],10237:[.52,.021,1.437],10238:[.52,.021,1.437],10506:[.702,.202,.846],10507:[.702,.202,.846],10570:[.503,.003,1.012],10571:[.503,.003,1.012],10574:[.503,-.23,1],10576:[.27,.003,1],10578:[.503,.019,1.088],10579:[.503,.019,1.088],10582:[.502,.019,1.088],10583:[.502,.019,1.088],10586:[.51,.011,1],10587:[.51,.011,1],10590:[.51,.011,1],10591:[.51,.011,1],10602:[.6,-.133,1.018],10603:[.368,.099,1.018],10604:[.6,-.133,1.018],10605:[.368,.099,1.018],10606:[.703,.203,.8],10607:[.703,.203,.8],10620:[.563,.063,.778],10621:[.563,.063,.778],10622:[.546,.046,.726],10623:[.546,.046,.726],10624:[.75,.25,.694],10647:[.748,.248,.278],10648:[.748,.248,.278],10741:[.603,.103,.556],10743:[.603,.103,.556],10744:[.75,.325,.5],10745:[.75,.325,.5],10752:[.743,.243,1.111],10753:[.743,.243,1.111],10754:[.743,.243,1.111],10755:[.75,.272,.833],10756:[.75,.272,.833],10757:[.764,.264,.833],10758:[.764,.264,.833],10759:[.78,.282,1.082],10760:[.799,.264,1.082],10761:[.74,.24,1.092],10764:[.805,.306,1.655,{ic:.12}],10765:[.805,.306,.615,{ic:.05}],10766:[.805,.306,.615,{ic:.05}],10767:[.805,.306,.615,{ic:.05}],10768:[.805,.306,.615,{ic:.05}],10769:[.805,.306,.675,{ic:.02}],10770:[.805,.306,.615,{ic:.05}],10771:[.805,.306,.615,{ic:.05}],10772:[.805,.306,.615,{ic:.05}],10773:[.805,.306,.545,{ic:.12}],10774:[.805,.306,.545,{ic:.12}],10775:[.805,.306,.794],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.645,{ic:.02}],10779:[.967,.306,.545,{ic:.12}],10780:[.805,.468,.645,{ic:.02}],10799:[.496,-.004,.778],10815:[.683,0,.75],10877:[.634,.134,.778],10878:[.634,.134,.778],10885:[.721,.205,.776],10886:[.721,.205,.776],10887:[.667,.167,.778],10888:[.667,.167,.778],10889:[.753,.321,.776],10890:[.721,.289,.776],10891:[.977,.477,.778],10892:[.977,.477,.778],10901:[.629,.134,.778],10902:[.629,.129,.778],10927:[.631,.119,.778],10928:[.631,.119,.778],10929:[.631,.203,.778],10930:[.631,.203,.778],10931:[.716,.203,.778],10932:[.716,.203,.778],10933:[.716,.287,.778],10934:[.716,.287,.778],10935:[.816,.205,.776],10936:[.816,.205,.776],10937:[.816,.321,.776],10938:[.816,.321,.776],10949:[.543,.203,.698],10950:[.543,.203,.698],10955:[.543,.287,.698],10956:[.543,.287,.698],10974:[.684,0,.381],10975:[.342,.02,.778],10976:[.342,.02,.778],10977:[.684,0,.778],10978:[.684,0,.612],10979:[.684,0,.673],10980:[.684,0,.612],10981:[.684,0,.653],10982:[.684,0,.673],10983:[.622,-.062,.784],10984:[.622,-.062,.784],10985:[.812,.02,.778],10986:[.592,-.092,.784],10987:[.592,-.092,.784],10994:[.75,.25,.62],10995:[.75,.25,.773],10996:[.75,.25,.694],10997:[.75,.25,.694],11004:[.75,.25,.694],119808:[.698,0,.869],119809:[.686,0,.818,{sk:-.026}],119810:[.697,.011,.831,{sk:.051}],119811:[.686,0,.882,{sk:-.04}],119812:[.68,0,.756],119813:[.68,0,.724,{sk:-.02}],119814:[.697,.011,.904,{sk:.015}],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594,{sk:.051}],119818:[.686,0,.901,{sk:-.013}],119819:[.686,0,.692,{sk:-.114}],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.697,.011,.864],119823:[.686,0,.786,{sk:-.021}],119824:[.697,.194,.864],119825:[.686,.011,.863,{sk:-.044}],119826:[.697,.011,.639,{sk:-.025}],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.008,.869],119830:[.686,.008,1.189],119831:[.686,0,.869,{sk:-.017}],119832:[.686,0,.869],119833:[.686,0,.703,{sk:.013}],119834:[.453,.006,.559,{sk:-.049}],119835:[.694,.006,.639,{sk:-.194}],119836:[.453,.006,.511,{sk:.043}],119837:[.694,.006,.639,{sk:.124}],119838:[.453,.006,.527,{sk:.018}],119839:[.7,0,.351,{ic:.086,sk:.033}],119840:[.455,.201,.575,{sk:-.032}],119841:[.694,0,.639,{sk:-.172}],119842:[.685,0,.319],119843:[.685,.2,.351,{sk:.013}],119844:[.694,0,.607,{sk:-.177}],119845:[.694,0,.319,{sk:-.024}],119846:[.45,0,.958,{sk:.012}],119847:[.45,0,.639],119848:[.453,.006,.575],119849:[.45,.194,.639,{sk:.043}],119850:[.45,.194,.607,{sk:-.013}],119851:[.45,0,.474,{sk:-.021}],119852:[.453,.006,.454],119853:[.635,.006,.447,{sk:-.029}],119854:[.45,.006,.639,{sk:-.024}],119855:[.444,.004,.607],119856:[.444,.004,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.175}],119861:[.683,0,.759,{sk:.115}],119862:[.705,.022,.715,{ic:.045,sk:.105}],119863:[.683,0,.828,{sk:.088}],119864:[.68,0,.738,{ic:.028,sk:.115}],119865:[.68,0,.643,{ic:.108,sk:.102}],119866:[.705,.022,.786,{sk:.093}],119867:[.683,0,.831,{ic:.05,sk:.089}],119868:[.684,.001,.44,{ic:.057,sk:.084}],119869:[.683,.022,.555,{ic:.078,sk:.151}],119870:[.684,0,.849,{ic:.04,sk:.09}],119871:[.684,0,.681,{sk:.019}],119872:[.683,0,.97,{ic:.074,sk:.085}],119873:[.683,0,.803,{ic:.078,sk:.082}],119874:[.705,.022,.763,{sk:.114}],119875:[.683,0,.642,{ic:.112,sk:.072}],119876:[.705,.194,.791,{sk:.1}],119877:[.683,.022,.759,{sk:.084}],119878:[.705,.022,.613,{ic:.032,sk:.093}],119879:[.677,0,.584,{ic:.12,sk:.016}],119880:[.683,.022,.683,{ic:.077,sk:.022}],119881:[.683,.022,.583,{ic:.187,sk:-.019}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.023,sk:.097}],119884:[.683,.001,.581,{ic:.181,sk:-.027}],119885:[.683,0,.683,{ic:.04,sk:.114}],119886:[.442,.011,.529,{sk:.022}],119887:[.694,.011,.429,{sk:-.011}],119888:[.442,.011,.433,{sk:.101}],119889:[.694,.011,.52,{sk:.182}],119890:[.442,.011,.466,{sk:.067}],119891:[.705,.205,.49,{ic:.062,sk:.172}],119892:[.442,.205,.477,{sk:.077}],119894:[.661,.011,.345,{sk:.074}],119895:[.661,.205,.412,{sk:.153}],119896:[.694,.011,.521,{sk:-.011}],119897:[.694,.011,.298,{sk:.055}],119898:[.442,.011,.878,{sk:.017}],119899:[.442,.011,.6,{sk:.025}],119900:[.442,.011,.485,{sk:.072}],119901:[.442,.194,.503,{sk:.092}],119902:[.442,.194,.446,{ic:.006,sk:.053}],119903:[.442,.011,.451,{sk:.021}],119904:[.442,.011,.469,{sk:.061}],119905:[.626,.011,.361,{sk:.044}],119906:[.442,.011,.572,{sk:.019}],119907:[.442,.011,.485,{sk:.051}],119908:[.442,.011,.716,{sk:.047}],119909:[.442,.011,.572,{sk:.043}],119910:[.442,.205,.49,{sk:.059}],119911:[.442,.011,.465,{ic:.002,sk:.102}],119912:[.711,0,.869,{sk:.173}],119913:[.686,0,.866,{sk:.11}],119914:[.703,.017,.817,{ic:.038,sk:.113}],119915:[.686,0,.938,{sk:.063}],119916:[.68,0,.81,{ic:.015,sk:.124}],119917:[.68,0,.689,{ic:.12,sk:.104}],119918:[.703,.017,.887,{sk:.102}],119919:[.686,0,.982,{ic:.045,sk:.091}],119920:[.686,0,.511,{ic:.055,sk:.086}],119921:[.686,.017,.631,{ic:.063,sk:.176}],119922:[.686,0,.971,{ic:.032,sk:.137}],119923:[.686,0,.756,{sk:.018}],119924:[.686,0,1.142,{ic:.074,sk:.086}],119925:[.686,0,.95,{ic:.077,sk:.083}],119926:[.703,.017,.837,{sk:.11}],119927:[.686,0,.723,{ic:.126,sk:.07}],119928:[.703,.194,.869,{sk:.093}],119929:[.686,.017,.872,{ic:.009,sk:.1}],119930:[.703,.017,.693,{ic:.021,sk:.097}],119931:[.675,0,.637,{ic:.135,sk:.014}],119932:[.686,.017,.8,{ic:.077,sk:.06}],119933:[.686,.017,.678,{ic:.207,sk:.016}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{ic:.006,sk:.132}],119936:[.686,0,.675,{ic:.2,sk:.022}],119937:[.686,0,.773,{ic:.032,sk:.122}],119938:[.452,.008,.633,{sk:.019}],119939:[.694,.008,.521,{sk:-.035}],119940:[.452,.008,.513,{sk:.101}],119941:[.694,.008,.61,{sk:.219}],119942:[.452,.008,.554,{sk:.063}],119943:[.702,.202,.568,{ic:.058,sk:.169}],119944:[.452,.202,.545,{sk:.067}],119945:[.694,.008,.668,{sk:-.078}],119946:[.694,.008,.405,{sk:.08}],119947:[.694,.202,.471,{sk:.163}],119948:[.694,.008,.604,{sk:-.026}],119949:[.694,.008,.348,{sk:.074}],119950:[.452,.008,1.032,{sk:.06}],119951:[.452,.008,.713,{sk:.032}],119952:[.452,.008,.585,{sk:.074}],119953:[.452,.194,.601,{sk:.112}],119954:[.452,.194,.542,{ic:.001,sk:.059}],119955:[.452,.008,.529,{sk:.018}],119956:[.452,.008,.531,{sk:.059}],119957:[.643,.008,.415,{sk:.063}],119958:[.452,.008,.681,{sk:.038}],119959:[.453,.008,.567,{sk:.069}],119960:[.453,.008,.831,{sk:.101}],119961:[.452,.008,.659,{sk:.029}],119962:[.452,.202,.59,{sk:.078}],119963:[.452,.008,.555,{sk:.076}],120484:[.442,.011,.322],120485:[.442,.205,.384,{sk:.083}],120488:[.698,0,.869],120489:[.686,0,.818,{sk:-.075}],120490:[.68,0,.692,{sk:-.019}],120491:[.698,0,.958],120492:[.68,0,.756,{sk:-.027}],120493:[.686,0,.703,{sk:.013}],120494:[.686,0,.9],120495:[.697,.011,.894],120496:[.686,0,.436],120497:[.686,0,.901,{sk:-.013}],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.697,.011,.864],120503:[.68,0,.9],120504:[.686,0,.786,{sk:-.063}],120505:[.697,.011,.894],120506:[.686,0,.831,{sk:-.015}],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869,{sk:-.017}],120511:[.686,0,.894],120512:[.697,0,.831],120513:[.686,.025,.958],120514:[.452,.008,.743,{ic:.007,sk:.015}],120515:[.703,.194,.647],120516:[.452,.211,.679],120517:[.718,.008,.551,{sk:-.011}],120518:[.461,.017,.597,{sk:-.025}],120519:[.703,.202,.615,{sk:-.041}],120520:[.452,.211,.615,{sk:-.051}],120521:[.702,.008,.567],120522:[.452,.008,.359,{ic:.004,sk:-.068}],120523:[.452,.008,.615,{ic:.004,sk:-.034}],120524:[.694,.012,.618,{ic:.048,sk:-.227}],120525:[.452,.211,.615,{ic:.004,sk:-.036}],120526:[.453,0,.583,{sk:-.04}],120527:[.703,.202,.615,{sk:-.072}],120528:[.453,.006,.575],120529:[.444,.009,.679,{sk:-.011}],120530:[.452,.211,.567],120531:[.452,.105,.551],120532:[.444,.008,.695],120533:[.444,.012,.615,{sk:-.035}],120534:[.453,.008,.615,{sk:-.019}],120535:[.452,.216,.743,{sk:-.015}],120536:[.452,.202,.743,{ic:.003,sk:-.063}],120537:[.694,.202,.743,{sk:.032}],120538:[.453,.008,.743],120539:[.711,.017,.679],120540:[.444,.008,.506,{ic:.003,sk:.04}],120541:[.702,.008,.615,{sk:.033}],120542:[.452,.01,.724,{sk:-.018}],120543:[.694,.202,.743],120544:[.452,.194,.567],120545:[.444,.008,.966,{sk:-.01}],120546:[.716,0,.75,{sk:.177}],120547:[.683,0,.759,{sk:.077}],120548:[.68,0,.615,{ic:.108,sk:.072}],120549:[.716,0,.833,{sk:.17}],120550:[.68,0,.738,{ic:.028,sk:.092}],120551:[.683,0,.683,{ic:.04,sk:.11}],120552:[.683,0,.831,{ic:.05,sk:.089}],120553:[.705,.022,.763,{sk:.117}],120554:[.684,.001,.44,{ic:.057,sk:.084}],120555:[.684,0,.849,{ic:.04,sk:.09}],120556:[.716,0,.694,{sk:.17}],120557:[.683,0,.97,{ic:.074,sk:.085}],120558:[.683,0,.803,{ic:.078,sk:.082}],120559:[.677,0,.742,{ic:.035,sk:.097}],120560:[.705,.022,.763,{sk:.117}],120561:[.68,0,.831,{ic:.049,sk:.089}],120562:[.683,0,.642,{ic:.112,sk:.049}],120563:[.705,.022,.763,{sk:.117}],120564:[.683,0,.78,{ic:.026,sk:.104}],120565:[.677,0,.584,{ic:.12,sk:.012}],120566:[.705,0,.583,{ic:.118}],120567:[.683,0,.667,{sk:.082}],120568:[.683,0,.828,{ic:.023,sk:.097}],120569:[.683,0,.612,{ic:.081,sk:.025}],120570:[.705,0,.772,{ic:.014,sk:.137}],120571:[.683,.033,.833],120572:[.442,.011,.64,{sk:.072}],120573:[.706,.194,.566,{ic:.008,sk:.148}],120574:[.442,.215,.518,{ic:.025,sk:.111}],120575:[.712,.011,.444,{ic:.008,sk:.107}],120576:[.453,.022,.466,{sk:.051}],120577:[.697,.205,.438,{ic:.036,sk:.067}],120578:[.442,.216,.497,{sk:.1}],120579:[.705,.011,.469,{sk:.075}],120580:[.442,.011,.354],120581:[.442,.011,.576,{sk:.043}],120582:[.694,.013,.583,{sk:-.053}],120583:[.442,.216,.603,{sk:.048}],120584:[.442,0,.494,{ic:.03,sk:.028}],120585:[.697,.205,.438,{ic:.008,sk:.06}],120586:[.442,.011,.485],120587:[.431,.011,.57,{sk:.043}],120588:[.442,.216,.517,{sk:.096}],120589:[.442,.108,.363,{ic:.046,sk:.044}],120590:[.431,.011,.571],120591:[.431,.012,.437,{ic:.074}],120592:[.442,.011,.54,{sk:.036}],120593:[.442,.218,.654,{sk:.028}],120594:[.442,.205,.626,{sk:.018}],120595:[.694,.205,.651,{sk:.143}],120596:[.442,.011,.622,{sk:.034}],120597:[.716,.022,.531,{ic:.035,sk:.069}],120598:[.431,.011,.406,{sk:.066}],120599:[.705,.011,.591,{sk:.116}],120600:[.442,.012,.624,{sk:.053}],120601:[.694,.205,.596,{sk:.125}],120602:[.442,.194,.517,{sk:.102}],120603:[.431,.011,.828,{sk:.039}],120604:[.711,0,.869,{sk:.174}],120605:[.686,0,.866,{sk:.069}],120606:[.68,0,.657,{ic:.12,sk:.071}],120607:[.711,0,.958,{sk:.168}],120608:[.68,0,.81,{ic:.015,sk:.098}],120609:[.686,0,.773,{ic:.032,sk:.117}],120610:[.686,0,.982,{ic:.045,sk:.09}],120611:[.703,.017,.867,{sk:.108}],120612:[.686,0,.511,{ic:.055,sk:.085}],120613:[.686,0,.971,{ic:.032,sk:.093}],120614:[.711,0,.806,{sk:.167}],120615:[.686,0,1.142,{ic:.074,sk:.085}],120616:[.686,0,.95,{ic:.077,sk:.082}],120617:[.675,0,.841,{ic:.026,sk:.104}],120618:[.703,.017,.837,{sk:.111}],120619:[.68,0,.982,{ic:.044,sk:.09}],120620:[.686,0,.723,{ic:.126,sk:.039}],120621:[.703,.017,.867,{sk:.108}],120622:[.686,0,.885,{ic:.019,sk:.108}],120623:[.675,0,.637,{ic:.135,sk:.01}],120624:[.703,0,.671,{ic:.131}],120625:[.686,0,.767,{sk:.08}],120626:[.686,0,.947,{ic:.006,sk:.106}],120627:[.686,0,.714,{ic:.078,sk:.029}],120628:[.703,0,.879,{ic:.007,sk:.135}],120629:[.686,.025,.958],120630:[.452,.008,.761,{sk:.059}],120631:[.703,.194,.66,{sk:.153}],120632:[.452,.211,.59,{ic:.027,sk:-.02}],120633:[.718,.008,.522,{sk:.115}],120634:[.461,.017,.529,{sk:.058}],120635:[.703,.202,.508,{ic:.014,sk:.083}],120636:[.452,.211,.6,{sk:.019}],120637:[.702,.008,.562,{sk:.062}],120638:[.452,.008,.412],120639:[.452,.008,.668,{sk:.025}],120640:[.694,.012,.671,{sk:-.072}],120641:[.452,.211,.708,{sk:.042}],120642:[.453,0,.577,{ic:.026,sk:.028}],120643:[.703,.202,.508,{sk:.061}],120644:[.452,.008,.585],120645:[.444,.009,.682,{sk:.046}],120646:[.452,.211,.612,{sk:.1}],120647:[.452,.105,.424,{ic:.038,sk:-.029}],120648:[.444,.008,.686],120649:[.444,.012,.521,{ic:.083}],120650:[.453,.008,.631,{sk:.037}],120651:[.452,.216,.747,{sk:.033}],120652:[.452,.202,.718,{sk:.011}],120653:[.694,.202,.758,{sk:.151}],120654:[.453,.008,.718,{sk:.039}],120655:[.711,.017,.628,{ic:.029,sk:.079}],120656:[.444,.008,.483,{sk:.074}],120657:[.702,.008,.692,{sk:.119}],120658:[.452,.01,.724,{sk:.053}],120659:[.694,.202,.713,{sk:.126}],120660:[.452,.194,.612,{sk:.094}],120661:[.444,.008,.975,{sk:.043}],120778:[.68,0,.783],120779:[.445,.267,.628],120782:[.655,.011,.575],120783:[.655,0,.575],120784:[.655,0,.575,{sk:-.011}],120785:[.655,.011,.575],120786:[.656,0,.575,{sk:.127}],120787:[.655,.011,.575],120788:[.655,.011,.575,{sk:.048}],120789:[.676,.011,.575,{sk:-.164}],120790:[.655,.011,.575,{sk:.011}],120791:[.655,.011,.575]},bold:{32:[0,0,.383],33:[.705,0,.35],34:[.697,-.418,.481],35:[.694,.194,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.697,-.418,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.132,.894],44:[.156,.194,.319],45:[.271,-.174,.383],46:[.156,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.086,.894],61:[.393,-.108,.894],62:[.587,.086,.894],63:[.7,0,.543],64:[.7,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.744,-.562,.556,{ic:.005}],95:[-.101,.189,.869],96:[.704,-.509,.575],123:[.75,.25,.575],124:[.76,.26,.319],125:[.75,.25,.575],126:[.311,-.189,.556,{ic:.001}],160:[0,0,.575],163:[.686,.031,.869],165:[.686,0,.869],167:[.712,.212,.695],168:[.677,-.537,.575],172:[.403,-.098,.894],175:[.633,-.581,.575],176:[.686,-.367,.431],177:[.693,0,.894],180:[.704,-.509,.575],181:[.45,.194,.639],182:[.694,.194,.703],183:[.396,-.24,.278],215:[.543,.042,.894],240:[.702,.006,.575],247:[.582,.08,.894],305:[.45,0,.319],567:[.45,.2,.351],710:[.71,-.503,.575],711:[.71,-.503,.575],713:[.633,-.581,.575],714:[.704,-.509,.575],715:[.704,-.509,.575],717:[-.247,.307,.383,{ic:.029}],728:[.7,-.513,.575],729:[.685,-.529,.319],730:[.714,-.492,.338],732:[.661,-.553,.575],767:[-.035,.286,0,{dx:.287}],768:[.704,-.509,0,{dx:.317}],769:[.704,-.509,0,{dx:.242}],770:[.71,-.503,0,{dx:.279}],771:[.661,-.553,0,{dx:.279}],772:[.633,-.581,0,{dx:.279}],773:[.697,-.636,.894],774:[.7,-.513,0,{dx:.279}],775:[.685,-.529,0,{dx:.279}],776:[.677,-.537,0,{dx:.28}],778:[.764,-.542,0,{dx:.28}],780:[.71,-.503,0,{dx:.279}],824:[.748,.249,0],978:[.697,0,.87],1014:[.442,.011,.43],8192:[0,0,.575],8193:[0,0,1.15],8194:[0,0,.575],8195:[0,0,1.15],8196:[0,0,.383],8197:[0,0,.288],8198:[0,0,.192],8199:[0,0,.575],8200:[0,0,.319],8201:[0,0,.23],8202:[0,0,.032],8203:[0,0,0],8208:[.271,-.174,.383],8209:[.271,-.174,.383],8210:[.312,-.236,.575],8211:[.312,-.236,.575],8212:[.312,-.236,1.15],8214:[.75,.25,.499],8216:[.694,-.344,.319],8217:[.694,-.344,.319],8220:[.694,-.344,.571],8221:[.694,-.344,.571],8224:[.702,.211,.511],8225:[.702,.202,.511],8230:[.156,0,.838],8260:[.696,.01,.648],8356:[.686,.031,.869],8364:[.697,.011,.72],8486:[.697,0,.831],8487:[.686,.011,.831],8592:[.5,0,1.15],8593:[.694,.204,.575],8594:[.5,0,1.15],8595:[.704,.194,.575],8599:[.725,0,.894],8600:[.694,.031,.894],8710:[.698,0,1.028],8722:[.281,-.22,.894],8730:[.757,.094,.543,{ic:.064}],8734:[.47,.026,1.15],8738:[.634,.132,.894],8902:[.501,-.001,.575],8994:[.365,-.15,.894],9001:[.751,.25,.447],9002:[.751,.25,.447],9675:[.761,.261,1.277],9702:[.381,-.077,.894],10214:[.751,.249,.463],10215:[.751,.249,.463]},italic:{32:[0,0,.358],33:[.716,0,.307,{ic:.068}],34:[.705,-.423,.401,{ic:.048}],35:[.694,.194,.818,{ic:.01}],36:[.75,.056,.5,{ic:.091}],37:[.75,.056,.818,{ic:.028}],38:[.716,.022,.767,{ic:.037}],39:[.705,-.423,.307,{ic:.048}],40:[.75,.25,.409,{ic:.107}],41:[.75,.25,.409],42:[.75,-.319,.511,{ic:.072}],43:[.557,.057,.767],44:[.106,.193,.307],45:[.243,-.187,.358],46:[.106,0,.307],47:[.75,.25,.511,{ic:.105}],48:[.666,.022,.511,{ic:.044}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.665,.022,.511,{ic:.056}],54:[.666,.022,.511,{ic:.057}],55:[.666,.022,.511,{ic:.114}],56:[.666,.022,.511,{ic:.043}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.193,.307],60:[.54,.04,.778,{ic:.049}],61:[.367,-.133,.767,{ic:.01}],62:[.54,.04,.778],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],92:[.75,.25,.5],93:[.75,.25,.307,{ic:.052}],94:[.745,-.561,.556,{ic:.153}],95:[-.11,.14,.743],96:[.696,-.505,.511],123:[.75,.25,.5,{ic:.113}],124:[.75,.25,.278,{ic:.066}],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.072}],160:[0,0,.511],168:[.649,-.553,.511,{ic:.032}],175:[.616,-.586,.511,{ic:.061}],176:[.683,-.428,.383,{ic:.079}],180:[.696,-.505,.511,{ic:.028}],305:[.442,.011,.322],567:[.442,.205,.384,{sk:.083}],710:[.686,-.509,.511,{ic:.024}],711:[.692,-.515,.511,{ic:.061}],713:[.616,-.586,.511,{ic:.061}],714:[.696,-.505,.511,{ic:.028}],715:[.696,-.505,.511],728:[.686,-.516,.511,{ic:.052}],729:[.654,-.548,.307,{ic:.051}],730:[.705,-.529,.831],732:[.651,-.55,.511,{ic:.057}],767:[-.025,.275,0,{dx:.275}],768:[.696,-.505,0,{dx:.136}],769:[.696,-.505,0,{dx:.077}],770:[.686,-.509,0,{dx:.123}],771:[.651,-.55,0,{dx:.105}],772:[.616,-.586,0,{dx:.105}],773:[.681,-.641,.766,{ic:.062}],774:[.686,-.516,0,{dx:.089}],775:[.654,-.548,0,{dx:.105}],776:[.649,-.553,0,{dx:.096}],778:[.705,-.529,0,{dx:.101}],780:[.692,-.515,0,{dx:.086}],824:[.748,.248,0],978:[.722,0,.778,{ic:.007}],1014:[.442,.011,.43],8192:[0,0,.511],8193:[0,0,1.022],8194:[0,0,.511],8195:[0,0,1.022],8196:[0,0,.341],8197:[0,0,.256],8198:[0,0,.17],8199:[0,0,.511],8200:[0,0,.307],8201:[0,0,.204],8202:[0,0,.026],8203:[0,0,0],8208:[.243,-.187,.358,{ic:.001}],8209:[.243,-.187,.358,{ic:.001}],8210:[.277,-.255,.511,{ic:.04}],8211:[.277,-.255,.511,{ic:.04}],8212:[.277,-.255,1.022,{ic:.014}],8214:[.75,.25,.398,{ic:.066}],8216:[.693,-.394,.307,{ic:.053}],8217:[.694,-.395,.307,{ic:.066}],8220:[.693,-.394,.49,{ic:.053}],8221:[.694,-.395,.49,{ic:.064}],8230:[.106,0,.684],8260:[.683,0,.603,{ic:.093}],8356:[.683,.032,.743,{ic:.003}],8364:[.705,.022,.576,{ic:.126}],8486:[.705,0,.716,{ic:.043}],8487:[.684,.021,.716,{ic:.071}],8592:[.512,.011,.971],8593:[.694,.195,.512,{ic:.07}],8594:[.513,.01,.971],8595:[.695,.194,.512],8710:[.716,0,.833],8722:[.27,-.23,.767],8730:[.735,.104,.46,{ic:.226}],8734:[.456,.025,.92,{ic:.022}],8738:[.557,.057,.767,{ic:.047}],8902:[.483,-.019,.511,{ic:.063}],9001:[.751,.249,.409,{ic:.105}],9002:[.751,.249,.409],9675:[.772,.272,1.073,{ic:.003}],9702:[.379,-.081,.767],10214:[.751,.249,.422,{ic:.138}],10215:[.751,.249,.422,{ic:.052}]},"bold-italic":{32:[0,0,.414],33:[.711,0,.386,{ic:.044}],34:[.703,-.422,.518,{ic:.048}],35:[.694,.194,.944],36:[.75,.056,.575,{ic:.079}],37:[.75,.056,.944,{ic:.002}],38:[.711,.017,.886,{ic:.011}],39:[.703,-.422,.356,{ic:.048}],40:[.75,.249,.473,{ic:.094}],41:[.75,.249,.473],42:[.75,-.306,.591,{ic:.057}],43:[.603,.102,.886],44:[.147,.194,.356],45:[.269,-.175,.414],46:[.147,0,.356],47:[.75,.25,.591,{ic:.09}],48:[.661,.017,.591,{ic:.045}],49:[.661,0,.591],50:[.661,.017,.591,{ic:.027}],51:[.661,.017,.591,{ic:.037}],52:[.661,.194,.591],53:[.661,.017,.591,{ic:.037}],54:[.661,.017,.591,{ic:.037}],55:[.661,.017,.591,{ic:.115}],56:[.661,.017,.591,{ic:.027}],57:[.661,.017,.591,{ic:.03}],58:[.444,0,.356],59:[.444,.194,.356],60:[.587,.086,.894,{ic:.046}],61:[.393,-.108,.886],62:[.587,.086,.894],63:[.711,0,.591,{ic:.023}],64:[.702,.008,.886,{ic:.01}],91:[.75,.25,.356,{ic:.129}],92:[.75,.25,.575],93:[.75,.25,.356,{ic:.036}],94:[.744,-.562,.556,{ic:.151}],95:[-.097,.153,.866],96:[.699,-.502,.591],123:[.75,.25,.575,{ic:.109}],124:[.75,.25,.319,{ic:.059}],125:[.75,.25,.575],126:[.307,-.193,.556,{ic:.071}],160:[0,0,.591],168:[.667,-.535,.591,{ic:.045}],175:[.626,-.576,.591,{ic:.047}],176:[.686,-.392,.443,{ic:.081}],180:[.699,-.502,.591,{ic:.005}],305:[.452,.008,.394,{sk:-.012}],567:[.452,.202,.439,{sk:.063}],710:[.704,-.497,.591,{ic:.012}],711:[.704,-.497,.591,{ic:.052}],713:[.626,-.576,.591,{ic:.047}],714:[.699,-.502,.591,{ic:.005}],715:[.699,-.502,.591],717:[-.247,.307,.383,{ic:.032}],728:[.69,-.511,.591,{ic:.037}],729:[.674,-.527,.356,{ic:.048}],730:[.702,-.534,.949],732:[.66,-.541,.591,{ic:.042}],767:[-.035,.286,0,{dx:.272}],768:[.699,-.502,0,{dx:.188}],769:[.699,-.502,0,{dx:.113}],770:[.704,-.497,0,{dx:.165}],771:[.66,-.541,0,{dx:.145}],772:[.626,-.576,0,{dx:.145}],773:[.708,-.647,.885,{ic:.049}],774:[.69,-.511,0,{dx:.13}],775:[.674,-.527,0,{dx:.144}],776:[.667,-.535,0,{dx:.145}],778:[.702,-.534,0,{dx:.141}],780:[.704,-.497,0,{dx:.124}],824:[.749,.249,0],978:[.697,0,.87,{ic:.103}],1014:[.442,.011,.43,{ic:.04}],8192:[0,0,.591],8193:[0,0,1.182],8194:[0,0,.591],8195:[0,0,1.182],8196:[0,0,.394],8197:[0,0,.296],8198:[0,0,.197],8199:[0,0,.591],8200:[0,0,.355],8201:[0,0,.236],8202:[0,0,.029],8203:[0,0,0],8208:[.269,-.175,.414],8209:[.269,-.175,.414],8210:[.293,-.257,.591,{ic:.036}],8211:[.292,-.256,.591,{ic:.037}],8212:[.292,-.256,1.182,{ic:.006}],8214:[.75,.25,.499,{ic:.059}],8216:[.694,-.353,.356,{ic:.037}],8217:[.694,-.353,.356,{ic:.059}],8220:[.694,-.353,.59,{ic:.038}],8221:[.694,-.353,.59,{ic:.059}],8230:[.147,0,.842],8260:[.696,.01,.713,{ic:.08}],8356:[.686,.031,.866,{ic:.008}],8364:[.703,.017,.664,{ic:.115}],8486:[.703,0,.827,{ic:.031}],8487:[.686,.017,.827,{ic:.056}],8592:[.518,.017,1.121],8593:[.694,.204,.592,{ic:.069}],8594:[.518,.017,1.121],8595:[.704,.194,.592],8710:[.699,0,1.028],8722:[.281,-.22,.886],8730:[.757,.094,.531,{ic:.243}],8734:[.473,.029,1.06,{ic:.044}],8738:[.604,.102,.886,{ic:.035}],8902:[.501,-.001,.591,{ic:.048}],9001:[.75,.25,.473,{ic:.09}],9002:[.751,.25,.473],9675:[.772,.272,1.239],9702:[.386,-.072,.886],10214:[.751,.249,.488,{ic:.129}],10215:[.751,.249,.488,{ic:.037}]},"double-struck":{},fraktur:{},"bold-fraktur":{},"sans-serif":{717:[-.208,.286,.333,{ic:.038}],767:[-.023,.277,0,{dx:.274}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.278],8201:[0,0,.2],8202:[0,0,.028],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778],8600:[.694,.024,.778],8710:[.694,0,.833],8902:[.491,.006,.5,{ic:.023}],8994:[.363,-.133,.778],9675:[.772,.272,1.111]},"bold-sans-serif":{717:[-.253,.389,.367,{ic:.067}],767:[-.025,.319,0,{dx:.294}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856],8600:[.72,.037,.856],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.015}],8994:[.381,-.095,.856],9675:[.772,.272,1.222]},"sans-serif-italic":{717:[-.208,.286,.333],767:[-.023,.277,0,{dx:.272}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,.5],8194:[0,0,.333],8195:[0,0,.25],8196:[0,0,.167],8197:[0,0,.5],8198:[0,0,.278],8199:[0,0,.2],8200:[0,0,.028],8201:[0,0,0],8202:[0,0,0],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778,{ic:.095}],8600:[.694,.025,.778,{ic:.029}],8710:[.694,0,.833],8902:[.515,.008,.5,{ic:.09}],8994:[.364,-.133,.778],9675:[.772,.272,1.111,{ic:.008}]},"sans-serif-bold-italic":{717:[-.253,.389,.367,{ic:.003}],767:[-.025,.319,0,{dx:.327}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856,{ic:.086}],8600:[.72,.037,.856,{ic:.049}],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.076}],8994:[.381,-.095,.856],9675:[.772,.272,1.222,{ic:.046}]},monospace:{717:[-.025,.095,.525,{ic:.035}],767:[-.008,.359,.525],824:[.694,.083,.525],8193:[0,0,.525],8195:[0,0,.525],8199:[0,0,.525],8200:[0,0,.525],8356:[.611,.011,.525],8599:[.619,0,.525,{ic:.035}],8600:[.611,.008,.525,{ic:.035}],8710:[.651,0,.525],8902:[.555,-.057,.525],8994:[.414,-.195,.525],9675:[.705,.233,.525,{ic:.075}],64263:[0,0,.525]},"-smallop":{40:[.797,.297,.422],41:[.797,.297,.422],47:[.905,.405,.617],91:[.8,.3,.34],92:[.905,.405,.617],93:[.8,.3,.34],123:[.801,.301,.54],125:[.801,.301,.54],770:[.746,-.571,.644,{ic:.001}],771:[.751,-.55,.652],773:[.67,-.63,.568],774:[.743,-.578,.658,{ic:.001}],780:[.741,-.566,.644,{ic:.001}],8260:[.905,.405,.617],8400:[.711,-.601,.667],8401:[.711,-.601,.667],8406:[.711,-.521,.659],8407:[.711,-.521,.659],8417:[.711,-.521,.715],8428:[-.171,.281,.667],8429:[-.171,.281,.667],8430:[-.091,.281,.659],8431:[-.091,.281,.659],8725:[.605,.105,.572],8726:[.605,.105,.572],8730:[.85,.35,1,{ic:.02}],8739:[.851,.351,.333],8741:[.851,.351,.555],8968:[.8,.3,.458],8969:[.8,.3,.458],8970:[.8,.3,.458],8971:[.8,.3,.458],9140:[.73,-.546,.735],9141:[-.116,.3,.735],9180:[.745,-.54,1.006],9181:[-.11,.315,1.006],9182:[.815,-.509,.993,{ic:.001}],9183:[-.079,.385,.993],9184:[.853,-.613,1.048,{ic:.006}],9185:[-.183,.423,1.048,{ic:.006}],10214:[.8,.3,.444],10215:[.8,.3,.444],10216:[.8,.3,.428],10217:[.8,.3,.428],10218:[.8,.3,.623],10219:[.8,.3,.623],10222:[.813,.313,.305],10223:[.813,.313,.305],10627:[.801,.301,.54],10628:[.801,.301,.54],10629:[.797,.297,.422],10630:[.797,.297,.422],10748:[.791,.291,.422],10749:[.791,.291,.422],126704:[.72,.017,1.953,{sk:-.102}],126705:[.708,.035,2.524]},"-largeop":{40:[.847,.347,.458],41:[.847,.347,.458],47:[1.108,.608,.768],91:[.85,.35,.417],92:[1.108,.608,.768],93:[.85,.35,.417],123:[.85,.35,.583],125:[.85,.35,.583],770:[.746,-.571,.768,{ic:.001}],771:[.753,-.548,.778],774:[.743,-.578,.784,{ic:.001}],780:[.741,-.566,.768,{ic:.001}],8260:[1.108,.608,.768],8512:[.95,.45,1.353,{sk:.067}],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8725:[.608,.107,.577],8726:[.608,.107,.577],8730:[1.15,.651,1,{ic:.02}],8739:[.971,.471,.333],8741:[.971,.471,.555],8747:[1.361,.861,.669,{ic:.33}],8748:[1.361,.861,1.089,{ic:.33}],8749:[1.361,.861,1.509,{ic:.33}],8750:[1.361,.861,.669,{ic:.33}],8751:[1.361,.861,1.089,{ic:.33}],8752:[1.361,.861,1.509,{ic:.33}],8753:[1.361,.861,.669,{ic:.33}],8754:[1.361,.861,.669,{ic:.33}],8755:[1.361,.861,.669,{ic:.33}],8896:[.958,.456,1.111],8897:[.956,.458,1.111],8898:[.939,.417,1.111],8899:[.917,.439,1.111],8968:[.85,.35,.472],8969:[.85,.35,.472],8970:[.85,.35,.472],8971:[.85,.35,.472],9140:[.735,-.541,1.11],9141:[-.111,.305,1.11],9180:[.761,-.511,1.508],9181:[-.081,.331,1.508],9182:[.818,-.509,1.494],9183:[-.078,.387,1.494],9184:[.854,-.612,1.55,{ic:.006}],9185:[-.182,.424,1.55,{ic:.006}],10145:[.469,-.031,1.423],10197:[.621,.006,.888,{sk:.09}],10198:[.621,.006,.888,{sk:-.07}],10199:[.621,.006,1.03],10214:[.85,.35,.48],10215:[.85,.35,.48],10216:[.85,.35,.472],10217:[.85,.35,.472],10218:[.85,.35,.682],10219:[.85,.35,.682],10222:[.864,.364,.323],10223:[.864,.364,.323],10627:[.85,.35,.583],10628:[.85,.35,.583],10629:[.847,.347,.458],10630:[.847,.347,.458],10744:[1.239,.677,.597,{ic:.053}],10745:[1.239,.677,.5,{ic:.15}],10748:[.842,.342,.422],10749:[.842,.342,.422],10752:[.902,.402,1.511],10753:[.902,.402,1.511],10754:[.902,.402,1.511],10755:[.917,.439,1.111],10756:[.917,.439,1.111],10757:[.936,.436,1.111],10758:[.936,.436,1.111],10759:[1.225,.693,1.945,{sk:.015}],10760:[1.23,.681,1.945],10761:[.88,.38,1.371],10762:[.95,.45,1.474,{sk:-.011}],10763:[1.361,.861,1.056],10764:[1.361,.861,1.929,{ic:.33}],10765:[1.361,.861,.669,{ic:.33}],10766:[1.361,.861,.669,{ic:.33}],10767:[1.361,.861,.669,{ic:.33}],10768:[1.361,.861,.669,{ic:.33}],10769:[1.361,.861,.669,{ic:.33}],10770:[1.361,.861,.669,{ic:.33}],10771:[1.361,.861,.669,{ic:.33}],10772:[1.361,.861,.669,{ic:.33}],10773:[1.361,.861,.669,{ic:.33}],10774:[1.361,.861,.669,{ic:.33}],10775:[1.361,.861,.669,{ic:.33}],10776:[1.361,.861,.669,{ic:.33}],10777:[1.361,.861,.849,{ic:.15}],10778:[1.361,.861,.849,{ic:.15}],10779:[1.602,.861,.763,{ic:.44}],10780:[1.361,1.124,.789,{ic:.33}],10781:[.921,.151,1.291],10782:[.885,.188,1.046,{sk:.083}],10784:[.774,.081,1.52],10785:[.976,.284,.784],11004:[1.237,.677,.694],11007:[1.237,.677,.478]},"-size3":{40:[.972,.472,.523],41:[.972,.472,.523],47:[1.374,.874,.964],91:[.975,.475,.444],92:[1.374,.874,.964],93:[.975,.475,.444],123:[.975,.475,.624],125:[.975,.475,.624],770:[.747,-.571,.919,{ic:.001}],771:[.757,-.543,.931],774:[.743,-.577,.937,{ic:.001}],780:[.741,-.565,.919,{ic:.001}],8260:[1.374,.874,.964],8725:[.61,.109,.581],8726:[.61,.109,.581],8730:[1.45,.951,1,{ic:.02}],8739:[1.117,.617,.333],8741:[1.117,.617,.555],8968:[.975,.475,.499],8969:[.975,.475,.499],8970:[.975,.475,.499],8971:[.975,.475,.499],9140:[.742,-.535,1.485],9141:[-.105,.312,1.485],9180:[.767,-.509,2.012],9181:[-.079,.337,2.012],9182:[.825,-.506,1.996],9183:[-.075,.394,1.996],9184:[.858,-.61,2.056,{ic:.006}],9185:[-.18,.428,2.056,{ic:.006}],10214:[.975,.475,.555],10215:[.975,.475,.555],10216:[.975,.475,.537],10217:[.975,.475,.537],10218:[.975,.475,.781],10219:[.975,.475,.781],10222:[.991,.491,.37],10223:[.991,.491,.37],10627:[.975,.475,.624],10628:[.975,.475,.624],10629:[.972,.472,.523],10630:[.972,.472,.523],10748:[.966,.466,.467],10749:[.966,.466,.467]},"-size4":{40:[1.146,.646,.597],41:[1.146,.646,.597],47:[1.722,1.222,1.222],91:[1.15,.65,.472],92:[1.722,1.222,1.222],93:[1.15,.65,.472],123:[1.15,.65,.667],125:[1.15,.65,.667],770:[.747,-.57,1.1,{ic:.001}],771:[.762,-.539,1.115],774:[.743,-.576,1.12,{ic:.001}],780:[.742,-.565,1.1,{ic:.001}],8260:[1.722,1.222,1.222],8725:[.613,.113,.588],8726:[.613,.113,.588],8730:[1.75,1.25,1,{ic:.02}],8739:[1.292,.792,.333],8741:[1.292,.792,.555],8968:[1.15,.65,.528],8969:[1.15,.65,.528],8970:[1.15,.65,.528],8971:[1.15,.65,.528],9140:[.75,-.527,1.86],9141:[-.097,.32,1.86],9180:[.774,-.506,2.516],9181:[-.076,.344,2.516],9182:[.833,-.502,2.498],9183:[-.071,.402,2.498],9184:[.863,-.607,2.564,{ic:.006}],9185:[-.177,.433,2.564,{ic:.006}],10214:[1.15,.65,.66],10215:[1.15,.65,.66],10216:[1.15,.65,.611],10217:[1.15,.65,.611],10218:[1.15,.65,.905],10219:[1.15,.65,.905],10222:[1.168,.668,.432],10223:[1.168,.668,.432],10627:[1.15,.65,.667],10628:[1.15,.65,.667],10629:[1.146,.646,.597],10630:[1.146,.646,.597],10748:[1.146,.646,.467,{ic:.023}],10749:[1.146,.646,.467,{ic:.023}]},"-size5":{40:[1.296,.796,.663],41:[1.296,.796,.663],47:[2.179,1.679,1.557],91:[1.3,.8,.499],92:[2.179,1.679,1.557],93:[1.3,.8,.499],123:[1.3,.8,.707],125:[1.3,.8,.707],770:[.748,-.569,1.32,{ic:.001}],771:[.766,-.534,1.335],774:[.743,-.575,1.341,{ic:.001}],780:[.743,-.564,1.32,{ic:.001}],8260:[2.179,1.679,1.557],8725:[.616,.115,.593],8726:[.616,.115,.593],8739:[1.502,1.002,.333],8741:[1.501,1.001,.555],8968:[1.3,.8,.555],8969:[1.3,.8,.555],8970:[1.3,.8,.555],8971:[1.3,.8,.555],9140:[.757,-.521,2.235],9141:[-.091,.327,2.235],9180:[.78,-.506,3.02],9181:[-.076,.35,3.02],9182:[.838,-.5,3],9183:[-.07,.408,3],9184:[.866,-.607,3.068,{ic:.006}],9185:[-.177,.436,3.068,{ic:.006}],10214:[1.3,.8,.75],10215:[1.3,.8,.75],10216:[1.3,.8,.677],10217:[1.3,.8,.677],10218:[1.3,.8,1.011],10219:[1.3,.8,1.011],10222:[1.32,.82,.485],10223:[1.32,.82,.485],10627:[1.3,.8,.707],10628:[1.3,.8,.707],10629:[1.296,.796,.663],10630:[1.296,.796,.663],10748:[1.296,.796,.467,{ic:.077}],10749:[1.296,.796,.467,{ic:.077}]},"-size6":{40:[1.446,.946,.736],41:[1.446,.946,.736],47:[2.777,2.277,1.997],91:[1.45,.95,.528],92:[2.777,2.277,1.997],93:[1.45,.95,.528],123:[1.45,.95,.75],125:[1.45,.95,.75],770:[.748,-.57,1.581,{ic:.001}],771:[.769,-.532,1.599],774:[.744,-.574,1.604,{ic:.001}],780:[.742,-.564,1.581,{ic:.001}],8260:[2.777,2.277,1.997],8725:[.619,.119,.6],8726:[.619,.119,.6],8739:[1.752,1.252,.333],8741:[1.751,1.252,.555],8968:[1.45,.95,.583],8969:[1.45,.95,.583],8970:[1.45,.95,.583],8971:[1.45,.95,.583],9140:[.764,-.513,2.61],9141:[-.083,.334,2.61],9180:[.787,-.505,3.524],9181:[-.075,.357,3.524],9182:[.845,-.498,3.502],9183:[-.067,.414,3.502],9184:[.869,-.606,3.574,{ic:.006}],9185:[-.176,.439,3.574,{ic:.006}],10214:[1.45,.95,.838],10215:[1.45,.95,.838],10216:[1.45,.95,.75],10217:[1.45,.95,.75],10218:[1.45,.95,1.124],10219:[1.45,.95,1.124],10222:[1.472,.972,.541],10223:[1.472,.972,.541],10627:[1.45,.95,.75],10628:[1.45,.95,.75],10629:[1.446,.946,.736],10630:[1.446,.946,.736],10748:[1.447,.936,.467,{ic:.131}],10749:[1.447,.936,.467,{ic:.131}]},"-size7":{40:[1.745,1.245,.875],41:[1.745,1.245,.875],47:[3.56,3.06,2.572],91:[1.75,1.25,.667],92:[3.56,3.06,2.572],93:[1.75,1.25,.667],123:[1.75,1.25,.902],125:[1.75,1.25,.902],770:[.749,-.569,1.896],771:[.773,-.527,1.915],774:[.744,-.573,1.92,{ic:.001}],780:[.743,-.563,1.896],8260:[3.56,3.06,2.572],8725:[.623,.122,.607],8726:[.623,.122,.607],8739:[2.052,1.552,.333],8741:[2.053,1.553,.555],8968:[1.75,1.25,.623],8969:[1.75,1.25,.623],8970:[1.75,1.25,.623],8971:[1.75,1.25,.623],9140:[.772,-.504,2.985],9141:[-.074,.342,2.985],9180:[.796,-.502,4.032],9181:[-.072,.366,4.032],9182:[.854,-.493,4.006],9183:[-.062,.423,4.006],9184:[.873,-.605,4.082,{ic:.006}],9185:[-.175,.443,4.082,{ic:.006}],10214:[1.75,1.25,1.007],10215:[1.75,1.25,1.007],10216:[1.75,1.25,.908],10217:[1.75,1.25,.908],10218:[1.75,1.25,1.362],10219:[1.75,1.25,1.362],10222:[1.776,1.276,.647],10223:[1.776,1.276,.647],10627:[1.75,1.25,.902],10628:[1.75,1.25,.902],10629:[1.745,1.245,.875],10630:[1.745,1.245,.875],10748:[1.751,1.251,.467,{ic:.257}],10749:[1.751,1.251,.467,{ic:.592}]},"-tex-mathit":{65:[.716,0,.743],66:[.683,0,.704,{oc:.03}],67:[.705,.022,.716,{oc:.096}],68:[.683,0,.755,{oc:.02}],69:[.68,0,.678,{oc:.069}],70:[.68,0,.653,{oc:.082}],71:[.705,.022,.774,{oc:.038}],72:[.683,0,.743,{oc:.109}],73:[.683,0,.386,{oc:.115}],74:[.683,.022,.525,{oc:.097}],75:[.683,0,.769,{oc:.09}],76:[.683,0,.627],77:[.683,0,.897,{oc:.105}],78:[.683,0,.743,{oc:.109}],79:[.705,.022,.767,{oc:.021}],80:[.683,0,.678,{oc:.052}],81:[.705,.194,.767,{oc:.021}],82:[.683,.022,.729],83:[.705,.022,.562,{oc:.07}],84:[.677,0,.716,{oc:.09}],85:[.683,.022,.743,{oc:.109}],86:[.683,.022,.743,{oc:.125}],87:[.683,.022,.999,{oc:.125}],88:[.683,0,.743,{oc:.082}],89:[.683,0,.743,{oc:.131}],90:[.683,0,.613,{oc:.091}],97:[.442,.011,.511,{oc:.014}],98:[.694,.011,.46],99:[.442,.011,.46,{oc:.01}],100:[.694,.011,.511,{oc:.049}],101:[.442,.011,.46,{oc:.008}],102:[.705,.205,.307,{oc:.145}],103:[.442,.205,.46,{oc:.027}],104:[.694,.011,.511,{oc:.024}],105:[.654,.011,.307,{oc:.051}],106:[.654,.205,.307,{oc:.051}],107:[.694,.011,.46,{oc:.042}],108:[.694,.011,.256,{oc:.05}],109:[.442,.011,.818,{oc:.024}],110:[.442,.011,.562,{oc:.024}],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46,{oc:.037}],114:[.442,.011,.422,{oc:.067}],115:[.442,.011,.409,{oc:.01}],116:[.626,.011,.332,{oc:.041}],117:[.442,.011,.537,{oc:.024}],118:[.442,.011,.46,{oc:.033}],119:[.442,.011,.664,{oc:.033}],120:[.442,.011,.464,{oc:.054}],121:[.442,.205,.486,{oc:.03}],122:[.442,.011,.409,{oc:.055}]},"-tex-calligraphic":{},"-tex-bold-calligraphic":{},"-tex-oldstyle":{48:[.472,.022,.57],49:[.472,0,.404],50:[.472,0,.554],51:[.472,.216,.563],52:[.485,.194,.517],53:[.472,.216,.547],54:[.666,.022,.563],55:[.485,.213,.503],56:[.666,.022,.563],57:[.472,.216,.563]},"-tex-bold-oldstyle":{48:[.461,.011,.654],49:[.461,0,.494],50:[.461,0,.636],51:[.461,.205,.648],52:[.488,.194,.595],53:[.461,.205,.63],54:[.655,.011,.648],55:[.488,.199,.579],56:[.655,.011,.648],57:[.461,.205,.648]},"-tex-variant":{8216:[.549,-.096,.407],8217:[.549,-.096,.407],8218:[.549,-.096,.407],8219:[.549,-.096,.407],8220:[.549,-.096,.647],8221:[.549,-.096,.647],8222:[.549,-.096,.647],8223:[.549,-.096,.647],8242:[.549,-.096,.407],8243:[.549,-.096,.647],8244:[.549,-.096,.887],8245:[.549,-.096,.407],8246:[.549,-.096,.647],8247:[.549,-.096,.887],8279:[.549,-.096,1.127],8463:[.694,.011,.511,{ic:.024}],8592:[.437,-.063,.5],8594:[.437,-.063,.5],8709:[.597,.097,.778],8722:[.27,-.23,.5],8726:[.431,.022,.777],8730:[.75,.25,.833,{ic:.02}],8733:[.472,-.028,.777],8739:[.431,.022,.222],8740:[.431,.022,.222,{ic:.019}],8741:[.431,.022,.388],8742:[.431,.022,.388,{ic:.02}],8764:[.367,-.133,.777],8776:[.483,-.056,.777],8808:[.753,.276,.777],8809:[.753,.276,.777],8816:[.92,.42,.777],8817:[.92,.42,.777],8840:[.828,.328,.777],8841:[.828,.328,.777],8842:[.636,.248,.777],8843:[.636,.248,.777],8902:[.485,-.019,.5],8994:[.378,-.122,.777],8995:[.378,-.142,.777],10887:[.803,.303,.777],10888:[.803,.303,.777],10955:[.753,.325,.777],10956:[.753,.325,.777]},"-lf-tp":{8400:[.711,-.601,.208],8406:[.711,-.521,.205],8429:[-.171,.281,.208],8430:[-.091,.281,.205],8592:[.51,.01,.507],8593:[.505,0,.5],8602:[.51,.01,.386],8606:[.51,.01,.507],8607:[.505,0,.572],8611:[.51,.01,.58],8614:[.51,.011,.499],8615:[.498,0,.632],8618:[.546,-.226,.507],8620:[.55,.05,.507],8636:[.499,-.226,.513],8637:[.273,0,.512],8638:[.513,0,.441],8639:[.513,0,.441],8644:[.432,.172,.515],8645:[.514,0,.896],8646:[.669,-.065,.514],8647:[.75,.25,.507],8648:[.505,0,.992],8651:[.598,-.131,.515],8652:[.369,.098,.514],8653:[.52,.02,.384],8656:[.52,.02,.504],8657:[.504,0,.652],8666:[.617,.117,.506],8693:[.515,0,.896],8730:[.62,0,1.056,{ic:.013}],9140:[.772,-.504,1.493],9141:[-.074,.342,1.493],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.002],9183:[-.062,.294,1.002],9184:[.873,-.605,2.041],9185:[-.175,.443,2.041],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616],11057:[.99,.49,.507]},"-rt-bt":{8401:[.711,-.601,.208],8407:[.711,-.521,.205],8428:[-.171,.281,.208],8431:[-.091,.281,.205],8594:[.51,.01,.507],8595:[.505,0,.5],8603:[.51,.01,.386],8608:[.51,.01,.507],8609:[.505,0,.572],8610:[.51,.01,.58],8612:[.51,.011,.499],8613:[.498,0,.632],8617:[.546,-.226,.507],8619:[.55,.05,.507],8640:[.499,-.226,.513],8641:[.273,0,.513],8642:[.513,0,.441],8643:[.513,0,.441],8644:[.669,-.065,.514],8645:[.515,0,.896],8646:[.432,.172,.515],8649:[.75,.25,.507],8650:[.505,0,.992],8651:[.369,.098,.514],8652:[.598,-.131,.515],8654:[.52,.02,.406],8658:[.52,.02,.504],8659:[.504,0,.652],8667:[.617,.117,.506],8693:[.514,0,.896],8694:[.99,.49,.507],9140:[.772,-.504,1.492],9141:[-.074,.342,1.492],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.001],9183:[-.062,.294,1.001],9184:[.873,-.605,2.041,{ic:.006}],9185:[-.175,.443,2.041,{ic:.006}],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616]},"-ex-md":{95:[-.188,.294,.994],123:[.748,0,.902],175:[.724,-.618,.994],773:[.67,-.63,.19],8400:[.631,-.601,.139],8592:[.274,-.226,.337],8593:[.337,0,.5],8602:[.51,.01,.386],8617:[.274,-.226,.337],8636:[.273,-.226,.341],8638:[.341,0,.441],8639:[.341,0,.441],8644:[.432,-.065,.343],8645:[.343,0,.896],8647:[.512,.012,.337],8648:[.337,0,.992],8651:[.369,-.131,.343],8653:[.52,.02,.384],8654:[.369,-.131,.102],8656:[.369,-.131,.336],8657:[.336,0,.652],8666:[.466,-.034,.337],8694:[.751,.251,.337],8730:[.64,0,1.056],9140:[.772,-.706,.995],9141:[-.276,.342,.995],9180:[.796,-.689,.994],9181:[-.259,.366,.994],9182:[.85,-.618,2.003],9183:[-.188,.419,2.003],9184:[.873,-.766,1.36],9185:[-.336,.443,1.36],10214:[1,0,1.007],10215:[1,0,1.007],10222:[.998,0,.647],10223:[.998,0,.647],10572:[.337,0,.616]},"-bbold":{8450:[.705,.022,.722,{sk:.042}],8461:[.683,0,.833,{sk:.052}],8469:[.683,0,.833],8473:[.683,0,.736],8474:[.705,.194,.778],8477:[.683,.022,.792],8484:[.683,0,.75,{sk:.021}],8508:[.431,.011,.687,{sk:.085}],8509:[.442,.215,.518,{ic:.025,sk:.098}],8510:[.68,0,.737,{sk:.026}],8511:[.68,0,.862,{sk:.056}],8512:[.683,0,.839,{sk:.048}],8517:[.683,0,.794,{ic:.023,sk:.115}],8518:[.694,.011,.673,{ic:.042,sk:.245}],8519:[.448,.011,.444,{ic:.03,sk:.082}],8520:[.691,0,.395,{ic:.028,sk:.119}],8521:[.691,.205,.423,{ic:.038,sk:.12}],120120:[.683,0,.863,{sk:-.025}],120121:[.683,0,.764],120123:[.683,0,.794,{sk:-.043}],120124:[.68,0,.736,{sk:.03}],120125:[.68,0,.709,{sk:.013}],120126:[.705,.022,.785],120128:[.683,0,.467,{sk:.015}],120129:[.683,.022,.597,{sk:.065}],120130:[.683,0,.833,{sk:.022}],120131:[.683,0,.68,{sk:-.08}],120132:[.684,0,1,{sk:.051}],120134:[.705,.022,.778],120138:[.705,.022,.556,{sk:-.018}],120139:[.677,0,.754,{sk:.023}],120140:[.683,.022,.806,{sk:.045}],120141:[.683,.008,.804,{sk:.059}],120142:[.683,.022,1.058,{sk:.015}],120143:[.683,0,.866,{sk:.043}],120144:[.683,0,.868,{sk:.057}],120146:[.448,.011,.614,{sk:-.013}],120147:[.694,.011,.673,{sk:-.126}],120148:[.448,.011,.444,{sk:.026}],120149:[.694,.011,.673,{sk:.152}],120150:[.448,.011,.444,{sk:.014}],120151:[.705,0,.423,{ic:.051,sk:-.028}],120152:[.453,.206,.5,{sk:-.026}],120153:[.694,0,.676,{sk:-.117}],120154:[.691,0,.395],120155:[.691,.205,.423,{sk:.015}],120156:[.694,0,.648,{sk:-.109}],120157:[.694,0,.394,{sk:.018}],120158:[.442,0,.95,{sk:-.037}],120159:[.442,0,.673],120160:[.448,.011,.5],120161:[.442,.194,.673],120162:[.442,.194,.645,{sk:.019}],120163:[.442,0,.509,{sk:-.051}],120164:[.448,.011,.394],120165:[.615,.011,.506,{sk:-.037}],120166:[.442,.011,.673,{sk:.024}],120167:[.431,.011,.635,{sk:.053}],120168:[.431,.011,.635,{ic:.155,sk:.012}],120169:[.431,0,.645,{sk:.049}],120170:[.431,.205,.635,{sk:.05}],120171:[.431,0,.561,{sk:.046}],120792:[.666,.022,.5],120793:[.666,0,.624,{sk:.025}],120794:[.666,0,.5],120795:[.666,.022,.5],120796:[.677,0,.627,{sk:.11}],120797:[.666,.022,.5,{sk:.011}],120798:[.666,.022,.5,{sk:.013}],120799:[.676,.022,.55,{sk:.038}],120800:[.666,.022,.5],120801:[.666,.022,.5]},"-upsmall":{8747:[.805,.306,.665],8748:[.805,.306,1.035],8749:[.805,.306,1.405],8750:[.81,.312,.665],8751:[.805,.306,1.035],8752:[.805,.306,1.405],8753:[.805,.306,.695],8754:[.805,.306,.665],8755:[.805,.306,.665],10764:[.805,.306,1.775],10765:[.805,.306,.665],10766:[.805,.306,.665],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.665],10779:[.967,.306,.665,{ic:.002}],10780:[.805,.468,.665],58230:[.805,.306,.665],58231:[.805,.306,.665],58261:[.805,.306,.665],58263:[.805,.306,.665],58264:[.805,.306,.665],58265:[.805,.306,.665],58266:[.805,.306,.665,{ic:.085}],58267:[.798,.299,.695],58323:[.805,.306,.665],59991:[.805,.306,.707]},"-uplarge":{8747:[1.361,.861,.763],8748:[1.361,.861,1.175],8749:[1.361,.861,1.623],8750:[1.363,.861,.899],8751:[1.361,.861,1.295],8752:[1.361,.861,1.699],8753:[1.361,.861,.999],8754:[1.361,.861,.999],8755:[1.361,.861,.999],10763:[1.361,.861,1.056],10764:[1.361,.861,2.019],10765:[1.361,.861,.999],10766:[1.361,.861,.999],10767:[1.361,.861,.999],10768:[1.361,.861,.999],10769:[1.361,.861,.999],10770:[1.361,.861,.895],10771:[1.361,.861,.871],10772:[1.361,.861,.831,{ic:.077}],10773:[1.361,.861,.903],10774:[1.361,.861,.883],10775:[1.361,.861,.967],10776:[1.361,.861,.875],10777:[1.361,.861,.955],10778:[1.361,.861,.967],10779:[1.602,.861,.999],10780:[1.361,1.124,.807]},script:{},"bold-script":{}},Kl.defaultStyles=Object.assign(Object.assign({},Za.defaultStyles),{'mjx-container[jax="CHTML"] > mjx-math.NCM-N[breakable] > *':{"font-family":"MJX-NCM-ZERO, MJX-NCM-N"},".NCM-N":{"font-family":"MJX-NCM-ZERO, MJX-NCM-N"},".NCM-B":{"font-family":"MJX-NCM-ZERO, MJX-NCM-B"},".NCM-I":{"font-family":"MJX-NCM-ZERO, MJX-NCM-I"},".NCM-BI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-BI"},".NCM-DS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-DS"},".NCM-F":{"font-family":"MJX-NCM-ZERO, MJX-NCM-F"},".NCM-FB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-FB"},".NCM-SS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SS"},".NCM-SSB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSB"},".NCM-SSI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSI"},".NCM-SSBI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSBI"},".NCM-M":{"font-family":"MJX-NCM-ZERO, MJX-NCM-M"},".NCM-SO":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SO"},".NCM-LO":{"font-family":"MJX-NCM-ZERO, MJX-NCM-LO"},".NCM-S3":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S3"},".NCM-S4":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S4"},".NCM-S5":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S5"},".NCM-S6":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S6"},".NCM-S7":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S7"},".NCM-MI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-MI"},".NCM-C":{"font-family":"MJX-NCM-ZERO, MJX-NCM-C"},".NCM-CB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-CB"},".NCM-OS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-OS"},".NCM-OB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-OB"},".NCM-V":{"font-family":"MJX-NCM-ZERO, MJX-NCM-V"},".NCM-LT":{"font-family":"MJX-NCM-ZERO, MJX-NCM-LT"},".NCM-RB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-RB"},".NCM-EM":{"font-family":"MJX-NCM-ZERO, MJX-NCM-EM"},".NCM-Be":{"font-family":"MJX-NCM-ZERO, MJX-NCM-Be"},".NCM-U":{"font-family":"MJX-NCM-ZERO, MJX-NCM-U"},".NCM-Ue":{"font-family":"MJX-NCM-ZERO, MJX-NCM-Ue"},".NCM-S":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S"},".NCM-SB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SB"}}),Kl.defaultFonts=Object.assign(Object.assign({},Za.defaultFonts),{"@font-face /* MJX-NCM-ZERO */":{"font-family":"MJX-NCM-ZERO",src:'url("%%URL%%/mjx-ncm-zero.woff2") format("woff2")'},"@font-face /* MJX-BRK */":{"font-family":"MJX-BRK",src:'url("%%URL%%/mjx-ncm-brk.woff2") format("woff2")'},"@font-face /* MJX-NCM-N */":{"font-family":"MJX-NCM-N",src:'url("%%URL%%/mjx-ncm-n.woff2") format("woff2")'},"@font-face /* MJX-NCM-B */":{"font-family":"MJX-NCM-B",src:'url("%%URL%%/mjx-ncm-b.woff2") format("woff2")'},"@font-face /* MJX-NCM-I */":{"font-family":"MJX-NCM-I",src:'url("%%URL%%/mjx-ncm-i.woff2") format("woff2")'},"@font-face /* MJX-NCM-BI */":{"font-family":"MJX-NCM-BI",src:'url("%%URL%%/mjx-ncm-bi.woff2") format("woff2")'},"@font-face /* MJX-NCM-DS */":{"font-family":"MJX-NCM-DS",src:'url("%%URL%%/mjx-ncm-ds.woff2") format("woff2")'},"@font-face /* MJX-NCM-F */":{"font-family":"MJX-NCM-F",src:'url("%%URL%%/mjx-ncm-f.woff2") format("woff2")'},"@font-face /* MJX-NCM-FB */":{"font-family":"MJX-NCM-FB",src:'url("%%URL%%/mjx-ncm-fb.woff2") format("woff2")'},"@font-face /* MJX-NCM-SS */":{"font-family":"MJX-NCM-SS",src:'url("%%URL%%/mjx-ncm-ss.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSB */":{"font-family":"MJX-NCM-SSB",src:'url("%%URL%%/mjx-ncm-ssb.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSI */":{"font-family":"MJX-NCM-SSI",src:'url("%%URL%%/mjx-ncm-ssi.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSBI */":{"font-family":"MJX-NCM-SSBI",src:'url("%%URL%%/mjx-ncm-ssbi.woff2") format("woff2")'},"@font-face /* MJX-NCM-M */":{"font-family":"MJX-NCM-M",src:'url("%%URL%%/mjx-ncm-m.woff2") format("woff2")'},"@font-face /* MJX-NCM-SO */":{"font-family":"MJX-NCM-SO",src:'url("%%URL%%/mjx-ncm-so.woff2") format("woff2")'},"@font-face /* MJX-NCM-LO */":{"font-family":"MJX-NCM-LO",src:'url("%%URL%%/mjx-ncm-lo.woff2") format("woff2")'},"@font-face /* MJX-NCM-S3 */":{"font-family":"MJX-NCM-S3",src:'url("%%URL%%/mjx-ncm-s3.woff2") format("woff2")'},"@font-face /* MJX-NCM-S4 */":{"font-family":"MJX-NCM-S4",src:'url("%%URL%%/mjx-ncm-s4.woff2") format("woff2")'},"@font-face /* MJX-NCM-S5 */":{"font-family":"MJX-NCM-S5",src:'url("%%URL%%/mjx-ncm-s5.woff2") format("woff2")'},"@font-face /* MJX-NCM-S6 */":{"font-family":"MJX-NCM-S6",src:'url("%%URL%%/mjx-ncm-s6.woff2") format("woff2")'},"@font-face /* MJX-NCM-S7 */":{"font-family":"MJX-NCM-S7",src:'url("%%URL%%/mjx-ncm-s7.woff2") format("woff2")'},"@font-face /* MJX-NCM-MI */":{"font-family":"MJX-NCM-MI",src:'url("%%URL%%/mjx-ncm-mi.woff2") format("woff2")'},"@font-face /* MJX-NCM-C */":{"font-family":"MJX-NCM-C",src:'url("%%URL%%/mjx-ncm-c.woff2") format("woff2")'},"@font-face /* MJX-NCM-CB */":{"font-family":"MJX-NCM-CB",src:'url("%%URL%%/mjx-ncm-cb.woff2") format("woff2")'},"@font-face /* MJX-NCM-OS */":{"font-family":"MJX-NCM-OS",src:'url("%%URL%%/mjx-ncm-os.woff2") format("woff2")'},"@font-face /* MJX-NCM-OB */":{"font-family":"MJX-NCM-OB",src:'url("%%URL%%/mjx-ncm-ob.woff2") format("woff2")'},"@font-face /* MJX-NCM-V */":{"font-family":"MJX-NCM-V",src:'url("%%URL%%/mjx-ncm-v.woff2") format("woff2")'},"@font-face /* MJX-NCM-LT */":{"font-family":"MJX-NCM-LT",src:'url("%%URL%%/mjx-ncm-lt.woff2") format("woff2")'},"@font-face /* MJX-NCM-RB */":{"font-family":"MJX-NCM-RB",src:'url("%%URL%%/mjx-ncm-rb.woff2") format("woff2")'},"@font-face /* MJX-NCM-EM */":{"font-family":"MJX-NCM-EM",src:'url("%%URL%%/mjx-ncm-em.woff2") format("woff2")'},"@font-face /* MJX-NCM-Be */":{"font-family":"MJX-NCM-Be",src:'url("%%URL%%/mjx-ncm-be.woff2") format("woff2")'},"@font-face /* MJX-NCM-U */":{"font-family":"MJX-NCM-U",src:'url("%%URL%%/mjx-ncm-u.woff2") format("woff2")'},"@font-face /* MJX-NCM-Ue */":{"font-family":"MJX-NCM-Ue",src:'url("%%URL%%/mjx-ncm-ue.woff2") format("woff2")'},"@font-face /* MJX-NCM-S */":{"font-family":"MJX-NCM-S",src:'url("%%URL%%/mjx-ncm-s.woff2") format("woff2")'},"@font-face /* MJX-NCM-SB */":{"font-family":"MJX-NCM-SB",src:'url("%%URL%%/mjx-ncm-sb.woff2") format("woff2")'}}),Kl.dynamicFiles=Za.defineDynamicFiles([["latin",{normal:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7835],7838,[7840,7929],11377]}],["latin-b",{bold:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["latin-i",{italic:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],["latin-bi",{"bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],["double-struck",{normal:[8450,8461,8469,8473,8474,8477,8484,[8508,8512],[8517,8521],120120,120121,[120123,120126],[120128,120132],120134,[120138,120144],[120146,120171],[120792,120801]],"double-struck":[305,567]}],["fraktur",{normal:[8460,8465,8476,8488,8493,120068,120069,[120071,120074],[120077,120084],[120086,120092],[120094,120119],[120172,120223]],fraktur:[305,567],"bold-fraktur":[305,567]}],["script",{normal:[8458,8459,8464,8466,8467,8472,8475,8492,[8495,8497],8499,8500,119964,119966,119967,119970,119973,119974,[119977,119980],[119982,119993],119995,[119997,120003],[120005,120067]],script:[],"bold-script":[]}],["sans-serif",{normal:[[8513,8516],[120224,120431],[120662,120777],[120802,120821]],"sans-serif":[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"bold-sans-serif":[32,33,[35,47],58,59,61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-italic":[[32,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-bold-italic":[32,33,[35,59],61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],["sans-serif-r",{"sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-b",{"bold-sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-i",{"sans-serif-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-bi",{"sans-serif-bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-ex",{"sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59959,59962,59966,59970,59973,60163,60164,60168,60175,60177,60178,60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"bold-sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-bold-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126]}],["monospace",{normal:[[120432,120483],[120822,120831]],monospace:[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],["monospace-l",{monospace:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["monospace-ex",{monospace:[161,162,164,166,[169,171],173,174,184,[186,191],[592,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,995],1010,1011,[1015,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309],3647,7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575,7620,7621,7624,7625,[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,[9552,9579],9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64262],65126]}],["calligraphic",{"-tex-calligraphic":[[65,90]],"-tex-bold-calligraphic":[[65,90]]}],["math",{normal:[8714,8717,8731,8732,8762,8763,8782,8783,[8785,8787],[8790,8796],8798,8844,[8886,8889],[8891,8895],8903,[8912,8929],[8932,8937],[8946,8959],[10176,10199],[10202,10204],[10207,10213],[10625,10646],[10649,10740],10742,[10746,10751],10762,10763,[10781,10798],[10800,10814],[10816,10876],[10879,10884],[10893,10900],[10903,10926],[10939,10948],[10951,10954],[10957,10973],[10988,10993],[10998,11003],[11005,11007]]}],["symbols",{normal:[127,161,162,164,166,[169,171],173,174,178,179,[185,191],3647,8204,8205,8215,8218,8219,8222,8223,[8226,8229],8233,8240,8241,[8248,8259],[8261,8278],[8280,8286],8319,8320,8353,8358,[8361,8363],8369,8370,8448,8449,[8451,8454],8456,8457,8468,8470,8471,[8478,8483],8485,8489,8494,[8505,8507],[8522,8527],[8960,8966],[8977,8984],8986,8987,[8996,9e3],[9003,9114],9142,[9146,9165],9167,[9169,9179],[9186,9203],[9208,9215],9250,9251,11159,11193,11209,[11216,11241],[11248,11263],11800,12306,12310,12311,12336,[64256,64262],65126,65279]},[8215]],["symbols-b-i",{bold:[161,162,164,166,[169,171],173,174,[186,191],3647,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],italic:[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],"bold-italic":[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126]}],["greek",{normal:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],bold:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,987],[990,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],italic:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],"bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]]}],["greek-ss",{"sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"bold-sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]]}],["cyrillic",{normal:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],bold:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],italic:[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-italic":[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],["cyrillic-ss",{"sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-bold-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],["phonetics",{normal:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],bold:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],italic:[[592,685],687],"bold-italic":[[592,687]]}],["phonetics-ss",{"sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"bold-sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-bold-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575]}],["hebrew",{normal:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],bold:[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]],italic:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],"bold-italic":[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]]}],["devanagari",{normal:[[2304,2431]],bold:[],italic:[],"bold-italic":[]}],["cherokee",{normal:[[5024,5109],[5112,5117]],bold:[[5024,5109],[5112,5117]],italic:[[5024,5115]],"bold-italic":[[5024,5115]]}],["arabic",{normal:[[126464,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],126704,126705],bold:[],italic:[],"bold-italic":[]}],["braille-d",{normal:[[10240,10495]]}],["braille",{"sans-serif":[[10240,10495]]}],["arrows",{normal:[8604,8605,8607,8609,8613,8615,8616,8621,[8623,8629],8632,8633,[8662,8665],[8668,8671],[8678,8692],[8695,8703],9166,10145,[10224,10228],10239,[10496,10505],[10508,10569],10572,10573,10575,10577,10580,10581,10584,10585,10588,10589,[10592,10601],[10608,10619],[11008,11026],[11056,11087],[11098,11123],[11126,11157],[11160,11192],[11244,11247]],"-largeop":[8593,8595,[8597,8603],[8606,8611],8613,8615,[8617,8622],[8624,8627],8630,8631,[8636,8655],8657,8659,[8661,8667],[8678,8681],8691,8693,8694,[11012,11015],11020,11021,11057],"-lf-tp":[[8678,8681],10503,11013,11014],"-rt-bt":[[8678,8681],10502,11015,11020],"-ex-md":[8678,8679,11013,11014]},[8607,8609,8613,8615,8621,8622,[8624,8627],[8662,8665],8668,8669,[8678,8681],8691,10145,10237,10238,10502,10503,10572,10573,10575,10577,10588,10589,10592,10593,[11012,11015],11020,11021,11057]],["marrows",{normal:[[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],129200,129201]}],["accents",{normal:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],7620,7621,7624,7625,[8403,8405],8408,[8413,8415],[8420,8427],8432],"-smallop":[785,[812,816],818,819,831,845],"-largeop":[785,[812,816]],"-size3":[785,[812,816]],"-size4":[785,[812,816]],"-size5":[785,[812,816]],"-size6":[785,[812,816]],"-size7":[785,[812,816]],"-ex-md":[818,819,831,845]},[785,[812,816],818,819,831,845,8425]],["accents-b-i",{bold:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],7620,7621,7624,7625],italic:[184,[688,700],[702,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]],"bold-italic":[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]]}],["shapes",{normal:[8962,[8998,9e3],9003,[9211,9214],[9472,9631],[9634,9641],[9644,9649],9672,9673,[9676,9678],[9680,9701],[9703,9710],[9712,9719],9728,9733,9734,9737,9761,9773,[9785,9790],9792,9794,[9824,9831],[9833,9835],[9837,9839],9854,[9856,9865],9893,[9898,9902],9906,10003,10013,10016,10026,10038,10045,10098,10099,10139,10145,[11026,11055],[11088,11097],[11194,11208],[11210,11215],11242,11243],bold:[9474,9553,9773,9792,9834,9901,9902,9906,10013],italic:[9773,9834,9901,9902,10013],"bold-italic":[9773,9834,9901,9902,10013]}],["mshapes",{normal:[[128896,128984],[128992,129003]]}],["variants",{"-tex-variant":[34,39,42,96,126,170,176,178,179,185,186,8212,8289,8304,8305,[8308,8334]]}],["PUA",{normal:[[57344,57395],[57409,57458],[59264,59274],59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],bold:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],italic:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198],"bold-italic":[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198]}]]);const Yl={fontName:"mathjax-newcm",DefaultFont:Kl},Ql=Yl.fontName,Zl=Yl.DefaultFont;class th extends Fa{constructor(t={}){super(t,Xl,Zl),this.chtmlStyles=null,this.font.adaptiveCSS(this.options.adaptiveCSS),this.wrapperUsage=new Qa}addExtension(t,e=""){const s=super.addExtension(t,e);return s.length&&this.options.adaptiveCSS&&this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,s),[]}escaped(t,e){return this.setDocument(e),this.html("span",{},[this.text(t.math)])}styleSheet(t){if(this.chtmlStyles){const t=new ca;return this.options.adaptiveCSS&&(this.addWrapperStyles(t),this.updateFontStyles(t)),t.addStyles(this.font.updateDynamicStyles()),this.adaptor.insertRules(this.chtmlStyles,t.getStyleRules()),this.chtmlStyles}const e=this.chtmlStyles=super.styleSheet(t);return this.adaptor.setAttribute(e,"id",th.STYLESHEETID),this.wrapperUsage.update(),e}updateFontStyles(t){t.addStyles(this.font.updateStyles({}))}addWrapperStyles(t){if(this.options.adaptiveCSS)for(const e of this.wrapperUsage.update()){const s=this.factory.getNodeClass(e);s&&this.addClassStyles(s,t)}else super.addWrapperStyles(t)}addClassStyles(t,e){const s=t;s.autoStyle&&"unknown"!==s.kind&&e.addStyles({["mjx-"+s.kind]:{display:"inline-block","text-align":"left"}}),this.wrapperUsage.add(s.kind),super.addClassStyles(t,e)}insertStyles(t){this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,new ca(t).getStyleRules())}processMath(t,e){t.toCHTML([e])}clearCache(){this.styleJson.clear(),this.font.clearCache(),this.wrapperUsage.clear(),this.chtmlStyles=null}reset(){this.clearCache()}unknownText(t,e,s=null){const r={},i=100/this.math.metrics.scale;if(100!==i&&(r["font-size"]=this.fixed(i,1)+"%",r.padding=Yo(75/i)+" 0 "+Yo(20/i)+" 0"),"-explicitFont"!==e){const s=_n(t);(1!==s.length||s[0]<119808||s[0]>120831)&&this.cssFontStyles(this.font.getCssFont(e),r)}return null!==s&&(r.width=this.fixed(s*this.math.metrics.scale)+"em"),this.html("mjx-utext",{variant:e,style:r},[this.text(t)])}measureTextNode(t){const e=this.adaptor,s=e.clone(t);e.setStyle(s,"font-family",e.getStyle(s,"font-family").replace(/MJXZERO, /g,""));const r=this.math.metrics.em,i={position:"absolute",top:0,left:0,"white-space":"nowrap","font-size":this.fixed(r,3)+"px"},n=this.html("mjx-measure-text",{style:i},[s]);e.append(e.parent(this.math.start.node),this.container),e.append(this.container,n);const o=e.nodeSize(s,r)[0];return e.remove(this.container),e.remove(n),{w:o,h:.75,d:.2}}}function eh(t,e){const s={};for(const r of Object.keys(t)){const i=t[r];for(const t of Object.keys(i)){s[t]||(s[t]={});const n=i[t];if(r)for(const t of Object.keys(n)){const s=n[parseInt(t)];s[3]||(s[3]={}),e?s[3].ff=e+"-"+r:s[3].f=r}Object.assign(s[t],n)}}return s}th.NAME="CHTML",th.OPTIONS=Object.assign(Object.assign({},Fa.OPTIONS),{adaptiveCSS:!0,matchFontHeight:!0}),th.commonStyles=Object.assign(Object.assign({},Fa.commonStyles),{'mjx-container[jax="CHTML"]':{"white-space":"nowrap"},[["mjx-mo > mjx-c","mjx-mi > mjx-c","mjx-mn > mjx-c","mjx-ms > mjx-c","mjx-mtext > mjx-c"].join(", ")]:{"clip-path":"padding-box xywh(-1em -2px calc(100% + 2em) calc(100% + 4px))"},"mjx-stretchy-h":{"clip-path":"padding-box xywh(0 -2px 100% calc(100% + 4px))"},"mjx-stretchy-v":{"clip-path":"padding-box xywh(-2px 0 calc(100% + 4px) 100%)"},'mjx-container [space="1"]':{"margin-left":".111em"},'mjx-container [space="2"]':{"margin-left":".167em"},'mjx-container [space="3"]':{"margin-left":".222em"},'mjx-container [space="4"]':{"margin-left":".278em"},'mjx-container [space="5"]':{"margin-left":".333em"},'mjx-container [rspace="1"]':{"margin-right":".111em"},'mjx-container [rspace="2"]':{"margin-right":".167em"},'mjx-container [rspace="3"]':{"margin-right":".222em"},'mjx-container [rspace="4"]':{"margin-right":".278em"},'mjx-container [rspace="5"]':{"margin-right":".333em"},'mjx-container [size="s"]':{"font-size":"70.7%"},'mjx-container [size="ss"]':{"font-size":"50%"},'mjx-container [size="Tn"]':{"font-size":"60%"},'mjx-container [size="sm"]':{"font-size":"85%"},'mjx-container [size="lg"]':{"font-size":"120%"},'mjx-container [size="Lg"]':{"font-size":"144%"},'mjx-container [size="LG"]':{"font-size":"173%"},'mjx-container [size="hg"]':{"font-size":"207%"},'mjx-container [size="HG"]':{"font-size":"249%"},'mjx-container [width="full"]':{width:"100%"},"mjx-box":{display:"inline-block"},"mjx-block":{display:"block"},"mjx-itable":{display:"inline-table"},"mjx-row":{display:"table-row"},"mjx-row > *":{display:"table-cell"},"mjx-container [inline-breaks]":{display:"inline"},"mjx-mtext":{display:"inline-block"},"mjx-mstyle":{display:"inline-block"},"mjx-merror":{display:"inline-block",color:"red","background-color":"yellow"},"mjx-mphantom":{visibility:"hidden"}}),th.STYLESHEETID="MJX-CHTML-styles",MathJax.loader&&MathJax.loader.checkVersion("output/chtml",jr,"output"),Vr({_:{output:{chtml_ts:Ve,chtml:{DefaultFont:We,DynamicFonts:Xe,FontData:Wt,Notation:ne,Usage:zt,Wrapper:Ft,WrapperFactory:ze,Wrappers_ts:Ge,Wrappers:{HtmlNode:He,TeXAtom:qe,TextNode:Ue,maction:Ie,math:jt,menclose:oe,mfenced:he,mfrac:ue,mglyph:Oe,mi:Ht,mmultiscripts:we,mn:$t,mo:Vt,mpadded:se,mroot:ge,mrow:ce,ms:Kt,mspace:te,msqrt:me,msubsup:ye,mtable:ke,mtd:Se,mtext:Qt,mtr:Te,munderover:_e,scriptbase:Ee,semantics:Be}},common_ts:Pt,common:{Direction:Lt,FontData:It,LineBBox:Rt,LinebreakVisitor:Ot,Notation:re,Wrapper:Bt,WrapperFactory:Dt,Wrappers:{TeXAtom:Fe,TextNode:je,XmlNode:De,maction:Le,math:qt,menclose:ie,mfenced:le,mfrac:de,mglyph:Re,mi:Ut,mmultiscripts:ve,mn:Xt,mo:Gt,mpadded:ee,mroot:fe,mrow:ae,ms:Jt,mspace:Zt,msqrt:pe,msubsup:be,mtable:Ce,mtd:Me,mtext:Yt,mtr:Ae,munderover:Ne,scriptbase:xe,semantics:Pe}}}}});const sh=$r?"https://cdn.jsdelivr.net/npm/@mathjax/%%FONT%%-font":"@mathjax/%%FONT%%-font",rh={config(t,e,s,r){if(MathJax.loader){Wr(MathJax.config,t,MathJax.config.output||{});let e=MathJax.config[t],i=e.font||e.fontData||s;if("string"!=typeof i&&(e.fontData=i,e.font=i=i.NAME),"["!==i.charAt(0)){const s=e.fontPath||sh,r=i.match(/^[a-z]+:/)?(i.match(/[^/:\\]*$/)||[t])[0]:i;Wr(MathJax.config.loader,"paths",{[r]:r===i?s.replace(/%%FONT%%/g,i):i}),i=`[${r}]`}const n=i.substring(1,i.length-1);if(n===s&&r){const e=MathJax.config.loader[`${i}/${t}`]?.extraLoads;e&&MathJax.loader.addPackageData(`output/${t}`,{extraLoads:e}),Vr({_:{output:{fonts:{[n]:{[t+"_ts"]:{[r.NAME+"Font"]:r}}}}}}),Wr(MathJax,"config",{output:{font:i},[t]:{fontData:r,dynamicPrefix:`${i}/${t}/dynamic`}}),"chtml"===t&&Wr(MathJax.config,t,{fontURL:Yr.resolvePath(`${i}/${t}/woff2`,!1)})}else MathJax.loader.addPackageData(`output/${t}`,{extraLoads:[`${i}/${t}`]})}MathJax.startup&&(MathJax.startup.registerConstructor(t,e),MathJax.startup.useOutput(t))},loadFont:(t,e,s,r)=>MathJax.loader?(r&&MathJax.loader.preLoaded(`[${s}]/${e}`),Yr.loadPromise(`output/${e}`).then(t)):t};var ih;rh.config("chtml",th,Ql,Zl),function(t){t[t.RETURN=13]="RETURN",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"}(ih||(ih={}));const nh="click",oh="dblclick",ah="mousedown",ch="mouseup",lh="mouseover",hh="mouseout",dh="selectstart";class uh{constructor(){this.bubble=!1}bubbleKey(){this.bubble=!0}keydown(t){switch(t.keyCode){case ih.ESCAPE:this.escape(t);break;case ih.RIGHT:this.right(t);break;case ih.LEFT:this.left(t);break;case ih.UP:this.up(t);break;case ih.DOWN:this.down(t);break;case ih.RETURN:case ih.SPACE:this.space(t);break;default:return}this.bubble?this.bubble=!1:this.stop(t)}escape(t){}space(t){}left(t){}right(t){}up(t){}down(t){}stop(t){t&&(t.stopPropagation(),t.preventDefault(),t.cancelBubble=!0)}mousedown(t){return this.stop(t)}mouseup(t){return this.stop(t)}mouseover(t){return this.stop(t)}mouseout(t){return this.stop(t)}click(t){return this.stop(t)}addEvents(t){t.addEventListener(ah,this.mousedown.bind(this)),t.addEventListener(ch,this.mouseup.bind(this)),t.addEventListener(lh,this.mouseover.bind(this)),t.addEventListener(hh,this.mouseout.bind(this)),t.addEventListener(nh,this.click.bind(this)),t.addEventListener("keydown",this.keydown.bind(this)),t.addEventListener("dragstart",this.stop.bind(this)),t.addEventListener(dh,this.stop.bind(this)),t.addEventListener("contextmenu",this.stop.bind(this)),t.addEventListener(oh,this.stop.bind(this))}}class ph extends uh{addAttributes(t){for(const e in t)this.html.setAttribute(e,t[e])}get html(){return this._html||this.generateHtml(),this._html}set html(t){this._html=t,this.addEvents(t)}generateHtml(){const t=document.createElement("div");t.classList.add(this.className),t.setAttribute("role",this.role),this.html=t}focus(){const t=this.html;t.setAttribute("tabindex","0"),t.focus()}unfocus(){const t=this.html;t.hasAttribute("tabindex")&&t.setAttribute("tabindex","-1");try{t.blur()}catch(t){}t.blur()}}class mh extends ph{constructor(){super(...arguments),this.posted=!1}isPosted(){return this.posted}post(t,e){this.posted||(void 0!==t&&void 0!==e&&this.html.setAttribute("style","left: "+t+"px; top: "+e+"px;"),this.display(),this.posted=!0)}unpost(){if(!this.posted)return;const t=this.html;t.parentNode&&t.parentNode.removeChild(t),this.posted=!1}}function fh(t){return"CtxtMenu_"+t}function gh(t){return fh(t)}function bh(t){return fh(t)}const xh={ATTACHED:gh("Attached"),CONTEXTMENU:gh("ContextMenu"),MENU:gh("Menu"),MENUARROW:gh("MenuArrow"),MENUACTIVE:gh("MenuActive"),MENUCHECK:gh("MenuCheck"),MENUCLOSE:gh("MenuClose"),MENUCOMBOBOX:gh("MenuComboBox"),MENUDISABLED:gh("MenuDisabled"),MENUFRAME:gh("MenuFrame"),MENUITEM:gh("MenuItem"),MENULABEL:gh("MenuLabel"),MENURADIOCHECK:gh("MenuRadioCheck"),MENUINPUTBOX:gh("MenuInputBox"),MENURULE:gh("MenuRule"),MENUSLIDER:gh("MenuSlider"),MOUSEPOST:gh("MousePost"),RTL:gh("RTL"),INFO:gh("Info"),INFOCLOSE:gh("InfoClose"),INFOCONTENT:gh("InfoContent"),INFOSIGNATURE:gh("InfoSignature"),INFOTITLE:gh("InfoTitle"),SLIDERVALUE:gh("SliderValue"),SLIDERBAR:gh("SliderBar"),SELECTION:gh("Selection"),SELECTIONBOX:gh("SelectionBox"),SELECTIONMENU:gh("SelectionMenu"),SELECTIONDIVIDER:gh("SelectionDivider"),SELECTIONITEM:gh("SelectionItem")},Eh={COUNTER:bh("Counter"),KEYDOWNFUNC:bh("keydownFunc"),CONTEXTMENUFUNC:bh("contextmenuFunc"),OLDTAB:bh("Oldtabindex"),TOUCHFUNC:bh("TouchFunc")};class yh extends ph{constructor(t,e){super(),this._menu=t,this._type=e,this.className=xh.MENUITEM,this.role="menuitem",this.hidden=!1}get menu(){return this._menu}set menu(t){this._menu=t}get type(){return this._type}hide(){this.hidden=!0,this.menu.generateMenu()}show(){this.hidden=!1,this.menu.generateMenu()}isHidden(){return this.hidden}}function Nh(t){const e=t.menu;e.baseMenu?e.baseMenu.unpost():e.unpost()}function _h(t){const e=t.menu;return(e.baseMenu?e.baseMenu:e).store.active}function vh(t,e){console.error("ContextMenu Error: "+e)}function wh(){return Ch++}let Ch=0;class kh extends yh{constructor(t,e,s,r){super(t,e),this._content=s,this.disabled=!1,this.callbacks=[],this._id=r||s}get content(){return this._content}set content(t){this._content=t,this.generateHtml(),this.menu&&this.menu.generateHtml()}get id(){return this._id}press(){this.disabled||(this.executeAction(),this.executeCallbacks_())}executeAction(){}registerCallback(t){-1===this.callbacks.indexOf(t)&&this.callbacks.push(t)}unregisterCallback(t){const e=this.callbacks.indexOf(t);-1!==e&&this.callbacks.splice(e,1)}mousedown(t){this.press(),this.stop(t)}mouseover(t){this.focus(),this.stop(t)}mouseout(t){this.deactivate(),this.stop(t)}generateHtml(){super.generateHtml();const t=this.html;t.setAttribute("aria-disabled","false"),t.textContent=this.content}activate(){this.disabled||this.html.classList.add(xh.MENUACTIVE)}deactivate(){this.html.classList.remove(xh.MENUACTIVE)}focus(){this.menu.focused=this,super.focus(),this.activate()}unfocus(){this.deactivate(),super.unfocus()}escape(t){Nh(this)}up(t){this.menu.up(t)}down(t){this.menu.down(t)}left(t){this.menu.left(t)}right(t){this.menu.right(t)}space(t){this.press()}disable(){this.disabled=!0;const t=this.html;t.classList.add(xh.MENUDISABLED),t.setAttribute("aria-disabled","true")}enable(){this.disabled=!1;const t=this.html;t.classList.remove(xh.MENUDISABLED),t.removeAttribute("aria-disabled")}executeCallbacks_(){for(const t of this.callbacks)try{t(this)}catch(t){vh(0,"Callback for menu entry "+this.id+" failed.")}}}class Ah extends kh{static fromJson(t,{content:e,menu:s,id:r},i){const n=new this(i,e,r),o=t.get("subMenu")(t,s,n);return n.submenu=o,n}constructor(t,e,s){super(t,"submenu",e,s),this._submenu=null}set submenu(t){this._submenu=t}get submenu(){return this._submenu}mouseover(t){this.focus(),this.stop(t)}mouseout(t){this.stop(t)}unfocus(){if(this.submenu.isPosted()){if(this.menu.focused!==this)return super.unfocus(),void this.menu.unpostSubmenus();this.html.setAttribute("tabindex","-1"),this.html.blur()}else super.unfocus()}focus(){super.focus(),this.submenu.isPosted()||this.disabled||this.submenu.post()}executeAction(){this.submenu.isPosted()?this.submenu.unpost():this.submenu.post()}generateHtml(){super.generateHtml();const t=this.html;this.span=document.createElement("span"),this.span.textContent="\u25ba",this.span.classList.add(xh.MENUARROW),t.appendChild(this.span),t.setAttribute("aria-haspopup","true")}left(t){this.submenu.isPosted()?this.submenu.unpost():super.left(t)}right(t){this.submenu.isPosted()?this.submenu.down(t):this.submenu.post()}toJson(){return{type:""}}}class Th extends mh{constructor(){super(...arguments),this.className=xh.CONTEXTMENU,this.role="menu",this._items=[],this._baseMenu=null}set baseMenu(t){this._baseMenu=t}get baseMenu(){return this._baseMenu}get items(){return this._items}set items(t){this._items=t}get pool(){return this.variablePool}get focused(){return this._focused}set focused(t){if(this._focused===t)return;this._focused||this.unfocus();const e=this._focused;this._focused=t,e&&e.unfocus()}up(t){const e=this.items.filter(t=>t instanceof kh&&!t.isHidden());if(0===e.length)return;if(!this.focused)return void e[e.length-1].focus();let s=e.indexOf(this.focused);-1!==s&&(s=s?--s:e.length-1,e[s].focus())}down(t){const e=this.items.filter(t=>t instanceof kh&&!t.isHidden());if(0===e.length)return;if(!this.focused)return void e[0].focus();let s=e.indexOf(this.focused);-1!==s&&(s++,s=s===e.length?0:s,e[s].focus())}generateHtml(){super.generateHtml(),this.generateMenu()}generateMenu(){const t=this.html;t.classList.add(xh.MENU);for(const e of this.items){if(!e.isHidden()){t.appendChild(e.html);continue}const s=e.html;s.parentNode&&s.parentNode.removeChild(s)}}post(t,e){this.variablePool.update(),super.post(t,e)}unpostSubmenus(){const t=this.items.filter(t=>t instanceof Ah);for(const e of t)e.submenu.unpost(),e!==this.focused&&e.unfocus()}unpost(){super.unpost(),this.unpostSubmenus(),this.focused=null}find(t){for(const e of this.items)if("rule"!==e.type){if(e.id===t)return e;if("submenu"===e.type){const s=e.submenu.find(t);if(s)return s}}return null}}class Mh{constructor(t){this.menu=t,this.store=[],this._active=null,this.counter=0,this.attachedClass=xh.ATTACHED+"_"+wh(),this.taborder=!0,this.attrMap={}}set active(t){do{if(-1!==this.store.indexOf(t)){this._active=t;break}t=t.parentNode}while(t)}get active(){return this._active}next(){const t=this.store.length;if(0===t)return this.active=null,null;let e=this.store.indexOf(this.active);return e=-1===e?0:e<t-1?e+1:0,this.active=this.store[e],this.active}previous(){const t=this.store.length;if(0===t)return this.active=null,null;const e=t-1;let s=this.store.indexOf(this.active);return s=-1===s||0===s?e:s-1,this.active=this.store[s],this.active}clear(){this.remove(this.store)}insert(t){const e=t instanceof HTMLElement?[t]:t;for(const t of e)this.insertElement(t);this.sort()}remove(t){const e=t instanceof HTMLElement?[t]:t;for(const t of e)this.removeElement(t);this.sort()}inTaborder(t){this.taborder&&!t&&this.removeTaborder(),!this.taborder&&t&&this.insertTaborder(),this.taborder=t}insertTaborder(){this.taborder&&this.insertTaborder_()}removeTaborder(){this.taborder&&this.removeTaborder_()}insertElement(t){t.classList.contains(this.attachedClass)||(t.classList.add(this.attachedClass),this.taborder&&this.addTabindex(t),this.addEvents(t))}removeElement(t){t.classList.contains(this.attachedClass)&&(t.classList.remove(this.attachedClass),this.taborder&&this.removeTabindex(t),this.removeEvents(t))}sort(){const t=document.getElementsByClassName(this.attachedClass);this.store=[].slice.call(t)}insertTaborder_(){this.store.forEach(t=>t.setAttribute("tabindex","0"))}removeTaborder_(){this.store.forEach(t=>t.setAttribute("tabindex","-1"))}addTabindex(t){t.hasAttribute("tabindex")&&t.setAttribute(Eh.OLDTAB,t.getAttribute("tabindex")),t.setAttribute("tabindex","0")}removeTabindex(t){t.hasAttribute(Eh.OLDTAB)?(t.setAttribute("tabindex",t.getAttribute(Eh.OLDTAB)),t.removeAttribute(Eh.OLDTAB)):t.removeAttribute("tabindex")}addEvents(t){t.hasAttribute(Eh.COUNTER)||(this.addEvent(t,"contextmenu",this.menu.post.bind(this.menu)),this.addEvent(t,"keydown",this.keydown.bind(this)),t.setAttribute(Eh.COUNTER,this.counter.toString()),this.counter++)}addEvent(t,e,s){const r=Eh[e.toUpperCase()+"FUNC"];this.attrMap[r+this.counter]=s,t.addEventListener(e,s)}removeEvents(t){if(!t.hasAttribute(Eh.COUNTER))return;const e=t.getAttribute(Eh.COUNTER);this.removeEvent(t,"contextmenu",e),this.removeEvent(t,"keydown",e),t.removeAttribute(Eh.COUNTER)}removeEvent(t,e,s){const r=Eh[e.toUpperCase()+"FUNC"],i=this.attrMap[r+s];t.removeEventListener(e,i)}keydown(t){t.keyCode===ih.SPACE&&(this.menu.post(t),t.preventDefault(),t.stopImmediatePropagation())}}class Sh{constructor(){this.pool={}}insert(t){this.pool[t.name]=t}lookup(t){return this.pool[t]}remove(t){delete this.pool[t]}update(){for(const t in this.pool)this.pool[t].update()}}class Lh extends Th{static fromJson(t,{pool:e,items:s,id:r=""}){const i=new this(t);i.id=r;const n=t.get("variable");e.forEach(e=>n(t,e,i.pool));const o=t.get("items")(t,s,i);return i.items=o,i}constructor(t){super(),this.factory=t,this.id="",this.moving=!1,this._store=new Mh(this),this.widgets=[],this.variablePool=new Sh}generateHtml(){this.isPosted()&&this.unpost(),super.generateHtml(),this._frame=document.createElement("div"),this._frame.classList.add(xh.MENUFRAME);const t="left: 0px; top: 0px; z-index: 200; width: 100%; height: 100%; border: 0px; padding: 0px; margin: 0px;";this._frame.setAttribute("style","position: absolute; "+t);const e=document.createElement("div");e.setAttribute("style","position: fixed; "+t),this._frame.appendChild(e),e.addEventListener("mousedown",function(t){this.unpost(),this.unpostWidgets(),this.stop(t)}.bind(this))}display(){document.body.appendChild(this.frame),this.frame.appendChild(this.html),this.focus()}escape(t){this.unpost(),this.unpostWidgets()}unpost(){if(super.unpost(),this.widgets.length>0)return;this.frame.parentNode.removeChild(this.frame);const t=this.store;this.moving||t.insertTaborder(),t.active.focus()}left(t){this.move_(this.store.previous())}right(t){this.move_(this.store.next())}get frame(){return this._frame}get store(){return this._store}post(t,e){if(void 0!==e)return this.moving||this.store.removeTaborder(),void super.post(t,e);const s=t;let r,i,n;if(s instanceof Event?(r=s.target,this.stop(s)):r=s,s instanceof MouseEvent&&(i=s.pageX,n=s.pageY,i||n||!s.clientX||(i=s.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=s.clientY+document.body.scrollTop+document.documentElement.scrollTop)),!i&&!n&&r){const t=window.pageXOffset||document.documentElement.scrollLeft,e=window.pageYOffset||document.documentElement.scrollTop,s=r.getBoundingClientRect();i=(s.right+s.left)/2+t,n=(s.bottom+s.top)/2+e}this.store.active=r,this.anchor=this.store.active;const o=this.html;i+o.offsetWidth>document.body.offsetWidth-5&&(i=document.body.offsetWidth-o.offsetWidth-5),this.post(i,n)}registerWidget(t){this.widgets.push(t)}unregisterWidget(t){const e=this.widgets.indexOf(t);e>-1&&this.widgets.splice(e,1),0===this.widgets.length&&this.unpost()}unpostWidgets(){this.widgets.forEach(t=>t.unpost())}toJson(){return{type:""}}move_(t){this.anchor&&t!==this.anchor&&(this.moving=!0,this.unpost(),this.post(t),this.moving=!1)}}class Ih extends Th{static fromJson(t,{items:e},s){const r=new this(s),i=t.get("items")(t,e,r);return r.items=i,r}constructor(t){super(),this._anchor=t,this.variablePool=this.anchor.menu.pool,this.setBaseMenu()}get anchor(){return this._anchor}post(){if(!this.anchor.menu.isPosted())return;let t=this.anchor.html;const e=this.html,s=this.baseMenu.frame,r=t.offsetWidth;let i=r-2,n=0;for(;t&&t!==s;)i+=t.offsetLeft,n+=t.offsetTop,t=t.parentNode;i+e.offsetWidth>document.body.offsetWidth-5&&(i=Math.max(5,i-r-e.offsetWidth+6)),super.post(i,n)}display(){this.baseMenu.frame.appendChild(this.html)}setBaseMenu(){let t=this;do{t=t.anchor.menu}while(t instanceof Ih);this.baseMenu=t}left(t){this.focused=null,this.anchor.focus()}toJson(){return{type:""}}}class Rh extends mh{constructor(t){super(),this.element=t,this.className=xh.MENUCLOSE,this.role="button"}generateHtml(){const t=document.createElement("span");t.classList.add(this.className),t.setAttribute("role",this.role),t.setAttribute("tabindex","0");const e=document.createElement("span");e.textContent="\xd7",t.appendChild(e),this.html=t}display(){}unpost(){super.unpost(),this.element.unpost()}keydown(t){this.bubbleKey(),super.keydown(t)}space(t){this.unpost(),this.stop(t)}mousedown(t){this.unpost(),this.stop(t)}}class Oh extends mh{constructor(t,e,s){super(),this.title=t,this.signature=s,this.className=xh.INFO,this.role="dialog",this.contentDiv=this.generateContent(),this.close=this.generateClose(),this.content=e||function(){return""}}attachMenu(t){this.menu=t}generateHtml(){super.generateHtml();const t=this.html;t.appendChild(this.generateTitle()),t.appendChild(this.contentDiv),t.appendChild(this.generateSignature()),t.appendChild(this.close.html),t.setAttribute("tabindex","0")}post(){super.post();const t=document.documentElement,e=this.html,s=window.innerHeight||t.clientHeight||t.scrollHeight||0,r=Math.floor(-e.offsetWidth/2),i=Math.floor((s-e.offsetHeight)/3);e.setAttribute("style","margin-left: "+r+"px; top: "+i+"px;"),window.event instanceof MouseEvent&&e.classList.add(xh.MOUSEPOST),e.focus()}display(){this.menu.registerWidget(this),this.contentDiv.innerHTML=this.content();const t=this.menu.html;t.parentNode&&t.parentNode.removeChild(t),this.menu.frame.appendChild(this.html)}click(t){}keydown(t){this.bubbleKey(),super.keydown(t)}escape(t){this.unpost()}unpost(){super.unpost(),this.html.classList.remove(xh.MOUSEPOST),this.menu.unregisterWidget(this)}generateClose(){const t=new Rh(this),e=t.html;return e.classList.add(xh.INFOCLOSE),e.setAttribute("aria-label","Close Dialog Box"),t}generateTitle(){const t=document.createElement("span");return t.innerHTML=this.title,t.classList.add(xh.INFOTITLE),t}generateContent(){const t=document.createElement("div");return t.classList.add(xh.INFOCONTENT),t.setAttribute("tabindex","0"),t}generateSignature(){const t=document.createElement("span");return t.innerHTML=this.signature,t.classList.add(xh.INFOSIGNATURE),t}toJson(){return{type:""}}}class Ph extends kh{generateHtml(){super.generateHtml();const t=this.html;this.span||this.generateSpan(),t.appendChild(this.span),this.update()}register(){this.variable.register(this)}unregister(){this.variable.unregister(this)}update(){this.updateAria(),this.span&&this.updateSpan()}}class Dh extends Ph{static fromJson(t,{content:e,variable:s,id:r},i){return new this(i,e,s,r)}constructor(t,e,s,r){super(t,"radio",e,r),this.role="menuitemradio",this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.id),Nh(this)}generateSpan(){this.span=document.createElement("span"),this.span.textContent="\u2713",this.span.classList.add(xh.MENURADIOCHECK)}updateAria(){this.html.setAttribute("aria-checked",this.variable.getValue()===this.id?"true":"false")}updateSpan(){this.span.style.display=this.variable.getValue()===this.id?"":"none"}toJson(){return{type:""}}}class Bh extends yh{static fromJson(t,e,s){return new this(s)}constructor(t){super(t,"rule"),this.className=xh.MENUITEM,this.role="separator"}generateHtml(){super.generateHtml();const t=this.html;t.classList.add(xh.MENURULE),t.setAttribute("aria-orientation","vertical")}addEvents(t){}toJson(){return{type:"rule"}}}class Fh extends kh{static fromJson(t,{content:e,action:s,id:r},i){return new this(i,e,s,r)}constructor(t,e,s,r){super(t,"command",e,r),this.command=s}executeAction(){try{this.command(_h(this))}catch(t){vh(0,"Illegal command callback.")}Nh(this)}toJson(){return{type:""}}}class qh{static fromJson(t,{name:e,getter:s,setter:r},i){const n=new this(e,s,r);i.insert(n)}constructor(t,e,s){this._name=t,this.getter=e,this.setter=s,this.items=[]}get name(){return this._name}getValue(t){try{return this.getter(t)}catch(t){return vh(0,"Command of variable "+this.name+" failed."),null}}setValue(t,e){try{this.setter(t,e)}catch(t){vh(0,"Command of variable "+this.name+" failed.")}this.update()}register(t){-1===this.items.indexOf(t)&&this.items.push(t)}unregister(t){const e=this.items.indexOf(t);-1!==e&&this.items.splice(e,1)}update(){this.items.forEach(t=>t.update())}registerCallback(t){this.items.forEach(e=>e.registerCallback(t))}unregisterCallback(t){this.items.forEach(e=>e.unregisterCallback(t))}toJson(){return{type:"variable",name:this.name,getter:this.getter.toString(),setter:this.setter.toString()}}}class jh extends Ph{static fromJson(t,{content:e,variable:s,id:r},i){return new this(i,e,s,r)}constructor(t,e,s,r){super(t,"checkbox",e,r),this.role="menuitemcheckbox",this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(!this.variable.getValue()),Nh(this)}generateSpan(){this.span=document.createElement("span"),this.span.textContent="\u2713",this.span.classList.add(xh.MENUCHECK)}updateAria(){this.html.setAttribute("aria-checked",this.variable.getValue()?"true":"false")}updateSpan(){this.span.style.display=this.variable.getValue()?"":"none"}toJson(){return{type:""}}}class Uh extends Ph{static fromJson(t,{content:e,variable:s,id:r},i){return new this(i,e,s,r)}constructor(t,e,s,r){super(t,"combobox",e,r),this.role="combobox",this.inputEvent=!1,this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.input.value,_h(this))}space(t){super.space(t),Nh(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml();this.html.classList.add(xh.MENUCOMBOBOX)}generateSpan(){this.span=document.createElement("span"),this.span.classList.add(xh.MENUINPUTBOX),this.input=document.createElement("input"),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.setAttribute("size","10em"),this.input.setAttribute("type","text"),this.input.setAttribute("tabindex","-1"),this.span.appendChild(this.input)}inputKey(t){this.bubbleKey(),this.inputEvent=!0}keydown(t){if(this.inputEvent&&t.keyCode!==ih.ESCAPE&&t.keyCode!==ih.RETURN)return this.inputEvent=!1,void t.stopPropagation();super.keydown(t),t.stopPropagation()}updateAria(){}updateSpan(){let t;try{t=this.variable.getValue(_h(this))}catch(e){t=""}this.input.value=t}toJson(){return{type:""}}}class Hh extends kh{static fromJson(t,{content:e,id:s},r){return new this(r,e,s)}constructor(t,e,s){super(t,"label",e,s)}generateHtml(){super.generateHtml();this.html.classList.add(xh.MENULABEL)}toJson(){return{type:""}}}class Gh extends Ph{static fromJson(t,{content:e,variable:s,id:r},i){return new this(i,e,s,r)}constructor(t,e,s,r){super(t,"slider",e,r),this.role="slider",this.labelId="ctx_slideLabel"+wh(),this.valueId="ctx_slideValue"+wh(),this.inputEvent=!1,this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.input.value,_h(this)),this.update()}space(t){super.space(t),Nh(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml();this.html.classList.add(xh.MENUSLIDER),this.valueSpan=document.createElement("span"),this.valueSpan.setAttribute("id",this.valueId),this.valueSpan.classList.add(xh.SLIDERVALUE),this.html.appendChild(this.valueSpan)}generateSpan(){this.span=document.createElement("span"),this.labelSpan=document.createElement("span"),this.labelSpan.setAttribute("id",this.labelId),this.labelSpan.appendChild(this.html.childNodes[0]),this.html.appendChild(this.labelSpan),this.input=document.createElement("input"),this.input.setAttribute("type","range"),this.input.setAttribute("min","0"),this.input.setAttribute("max","100"),this.input.setAttribute("aria-valuemin","0"),this.input.setAttribute("aria-valuemax","100"),this.input.setAttribute("aria-labelledby",this.labelId),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.addEventListener("input",this.executeAction.bind(this)),this.input.classList.add(xh.SLIDERBAR),this.span.appendChild(this.input)}inputKey(t){this.inputEvent=!0}mousedown(t){t.stopPropagation()}mouseup(t){event.stopPropagation()}keydown(t){const e=t.keyCode;return e===ih.UP||e===ih.DOWN?(t.preventDefault(),void super.keydown(t)):this.inputEvent&&e!==ih.ESCAPE&&e!==ih.RETURN?(this.inputEvent=!1,void t.stopPropagation()):(super.keydown(t),void t.stopPropagation())}updateAria(){const t=this.variable.getValue();t&&this.input&&(this.input.setAttribute("aria-valuenow",t),this.input.setAttribute("aria-valuetext",t+"%"))}updateSpan(){let t;try{t=this.variable.getValue(_h(this)),this.valueSpan.innerHTML=t+"%"}catch(e){t=""}this.input.value=t}toJson(){return{type:""}}}class zh extends Th{static fromJson(t,{title:e,values:s,variable:r},i){const n=new this(i),o=t.get("label")(t,{content:e||"",id:e||"id"},n),a=t.get("rule")(t,{},n),c=s.map(e=>t.get("radio")(t,{content:e,variable:r,id:e},n)),l=[o,a].concat(c);return n.items=l,n}constructor(t){super(),this.anchor=t,this.className=xh.SELECTIONMENU,this.variablePool=this.anchor.menu.pool,this.baseMenu=this.anchor.menu}generateHtml(){super.generateHtml(),this.items.forEach(t=>t.html.classList.add(xh.SELECTIONITEM))}display(){}right(t){this.anchor.right(t)}left(t){this.anchor.left(t)}}class Wh extends Oh{static fromJson(t,{title:e,signature:s,selections:r,order:i,grid:n},o){const a=new this(e,s,i,n);a.attachMenu(o);const c=r.map(e=>t.get("selectionMenu")(t,e,a));return a.selections=c,a}constructor(t,e,s="none",r="vertical"){super(t,null,e),this.style=s,this.grid=r,this._selections=[],this.prefix="ctxt-selection",this._balanced=!0}attachMenu(t){this.menu=t}get selections(){return this._selections}set selections(t){this._selections=[],t.forEach(t=>this.addSelection(t))}addSelection(t){t.anchor=this,this._selections.push(t)}rowDiv(t){const e=document.createElement("div");this.contentDiv.appendChild(e);const s=t.map(t=>(e.appendChild(t.html),t.html.id||(t.html.id=this.prefix+wh()),t.html.getBoundingClientRect())),r=s.map(t=>t.width),i=r.reduce((t,e)=>t+e,0),n=s.reduce((t,e)=>Math.max(t,e.height),0);return e.classList.add(xh.SELECTIONDIVIDER),e.setAttribute("style","height: "+n+"px;"),[e,i,n,r]}display(){if(super.display(),this.order(),!this.selections.length)return;const t=[];let e=0,s=[];const r=this.getChunkSize(this.selections.length);for(let i=0;i<this.selections.length;i+=r){const n=this.selections.slice(i,i+r),[o,a,c,l]=this.rowDiv(n);t.push(o),e=Math.max(e,a),n.forEach(t=>t.html.style.height=c+"px"),s=this.combineColumn(s,l)}this._balanced&&(this.balanceColumn(t,s),e=s.reduce((t,e)=>t+e,20)),t.forEach(t=>t.style.width=e+"px")}getChunkSize(t){switch(this.grid){case"square":return Math.floor(Math.sqrt(t));case"horizontal":return Math.floor(t/Wh.chunkSize);default:return Wh.chunkSize}}balanceColumn(t,e){t.forEach(t=>{const s=Array.from(t.children);for(let t,r=0;t=s[r];r++)t.style.width=e[r]+"px"})}combineColumn(t,e){let s=[],r=0;for(;t[r]||e[r];){if(!t[r]){s=s.concat(e.slice(r));break}if(!e[r]){s=s.concat(t.slice(r));break}s.push(Math.max(t[r],e[r])),r++}return s}left(t){this.move(t,t=>(0===t?this.selections.length:t)-1)}right(t){this.move(t,t=>t===this.selections.length-1?0:t+1)}generateHtml(){super.generateHtml(),this.html.classList.add(xh.SELECTION)}generateContent(){const t=super.generateContent();return t.classList.add(xh.SELECTIONBOX),t.removeAttribute("tabindex"),t}findSelection(t){const e=t.target;let s=null;if(e.id&&(s=this.selections.find(t=>t.html.id===e.id)),!s){const t=e.parentElement.id;s=this.selections.find(e=>e.html.id===t)}return s}move(t,e){const s=this.findSelection(t);s.focused&&s.focused.unfocus();const r=e(this.selections.indexOf(s));this.selections[r].focus()}order(){this.selections.sort(Wh.orderMethod.get(this.style))}toJson(){return{type:""}}}Wh.chunkSize=4,Wh.orderMethod=new Map([["alphabetical",(t,e)=>t.items[0].content.localeCompare(e.items[0].content)],["none",(t,e)=>1],["decreasing",(t,e)=>{const s=t.items.length,r=e.items.length;return s<r?1:r<s?-1:0}],["increasing",(t,e)=>{const s=t.items.length,r=e.items.length;return s<r?-1:r<s?1:0}]]);class Vh{constructor(t){this._parser=new Map(t)}get(t){return this._parser.get(t)}add(t,e){this._parser.set(t,e)}}var Xh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]])}return s};class $h{constructor(t=[]){this._initList=[["command",Fh.fromJson.bind(Fh)],["checkbox",jh.fromJson.bind(jh)],["combo",Uh.fromJson.bind(Uh)],["slider",Gh.fromJson.bind(Gh)],["label",Hh.fromJson.bind(Hh)],["radio",Dh.fromJson.bind(Dh)],["rule",Bh.fromJson.bind(Bh)],["submenu",Ah.fromJson.bind(Ah)],["contextMenu",Lh.fromJson.bind(Lh)],["subMenu",Ih.fromJson.bind(Ih)],["variable",qh.fromJson.bind(qh)],["items",this.items.bind(this)],["selectionMenu",zh.fromJson.bind(zh)],["selectionBox",Wh.fromJson.bind(Wh)]],this._factory=new Vh(this._initList),t.forEach(([t,e])=>this.factory.add(t,e))}get factory(){return this._factory}items(t,e,s){const r=[];for(const t of e){const e=this.parse(t,s);e&&(s.items.push(e),t.disabled&&e.disable(),t.hidden&&r.push(e))}return r.forEach(t=>t.hide()),s.items}parse(t,...e){var{type:s}=t,r=Xh(t,["type"]);const i=this.factory.get(s);return i?i(this.factory,r,...e):null}}function Jh(t){return"."+(xh[t]||t)}const Kh={};Kh[Jh("INFOCLOSE")]="{  top:.2em; right:.2em;}",Kh[Jh("INFOCONTENT")]="{  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}",Kh[Jh("INFO")+Jh("MOUSEPOST")]="{outline:none;}",Kh[Jh("INFO")]='{  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}';const Yh={};Yh[Jh("MENU")]="{  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}",Yh[Jh("MENUITEM")]="{  padding: 1px 2em;  background:transparent;}",Yh[Jh("MENUARROW")]="{  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}",Yh[Jh("MENUACTIVE")+" "+Jh("MENUARROW")]="{color:white}",Yh[Jh("MENUARROW")+Jh("RTL")]="{left:.5em; right:auto}",Yh[Jh("MENUCHECK")]="{  position:absolute; left:.7em;  font-family: null}",Yh[Jh("MENUCHECK")+Jh("RTL")]="{ right:.7em; left:auto }",Yh[Jh("MENURADIOCHECK")]="{  position:absolute; left: .7em;}",Yh[Jh("MENURADIOCHECK")+Jh("RTL")]="{  right: .7em; left:auto}",Yh[Jh("MENUINPUTBOX")]="{  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}",Yh[Jh("MENUINPUTBOX")+Jh("RTL")]="{  left: .1em;}",Yh[Jh("MENUCOMBOBOX")]="{  left:.1em; padding-bottom:.5em;}",Yh[Jh("MENUSLIDER")]="{  left: .1em;}",Yh[Jh("SLIDERVALUE")]="{  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}",Yh[Jh("SLIDERBAR")]="{  outline: none; background: #d3d3d3}",Yh[Jh("MENULABEL")]="{  padding: 1px 2em 3px 1.33em;  font-style:italic}",Yh[Jh("MENURULE")]="{  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}",Yh[Jh("MENUDISABLED")]="{  color:GrayText}",Yh[Jh("MENUACTIVE")]="{  background-color: #606872;  color: white;}",Yh[Jh("MENUDISABLED")+":focus"]="{  background-color: #E8E8E8}",Yh[Jh("MENULABEL")+":focus"]="{  background-color: #E8E8E8}",Yh[Jh("CONTEXTMENU")+":focus"]="{  outline:none}",Yh[Jh("CONTEXTMENU")+" "+Jh("MENUITEM")+":focus"]="{  outline:none}",Yh[Jh("SELECTIONMENU")]="{  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }",Yh[Jh("SELECTIONITEM")]="{  padding-right: 1em;}",Yh[Jh("SELECTION")]="{  right: 40%; width:50%; }",Yh[Jh("SELECTIONBOX")]="{  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}",Yh[Jh("SELECTIONDIVIDER")]="{  clear: both; border-top: 2px solid #000000;}",Yh[Jh("MENU")+" "+Jh("MENUCLOSE")]="{  top:-10px; left:-10px}";const Qh={};Qh[Jh("MENUCLOSE")]='{  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}',Qh[Jh("MENUCLOSE")+" span"]="{  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}",Qh[Jh("MENUCLOSE")+":hover"]="{  color:white!important;  border:2px solid #CCC!important}",Qh[Jh("MENUCLOSE")+":hover span"]="{  background-color:#CCC!important}",Qh[Jh("MENUCLOSE")+":hover:focus"]="{  outline:none}";let Zh=!1,td=!1,ed=!1;function sd(t){ed||(rd(Qh,t),ed=!0)}function rd(t,e){const s=e||document,r=s.createElement("style");r.type="text/css";let i="";for(const e in t)i+=e,i+=" ",i+=t[e],i+="\n";r.innerHTML=i,s.head.appendChild(r)}class id extends Lh{constructor(){super(...arguments),this.mathItem=null,this.nofocus=!1,this.errorMsg=""}post(t,e){var s,r;if(this.mathItem){const i=null===(r=null===(s=this.mathItem)||void 0===s?void 0:s.explorers)||void 0===r?void 0:r.speech;(null==i?void 0:i.active)&&(i.restarted=i.semanticFocus()),void 0!==e&&(this.getOriginalMenu(),this.getSemanticsMenu(),this.getSpeechMenu(),this.getBrailleMenu(),this.getSvgMenu(),this.getErrorMessage(),this.dynamicSubmenus()),super.post(t,e)}}unpost(){super.unpost(),this.mathItem&&(this.mathItem.outputData.nofocus=this.nofocus),this.mathItem=null,this.nofocus=!1}findID(...t){let e=this,s=null;for(const r of t){if(!e)return null;for(s of e.items){if(s.id===r){e=s instanceof Ah?s.submenu:null;break}e=s=null}}return s}setJax(t){this.jax=t}getOriginalMenu(){const t=this.mathItem.inputJax.name,e=this.findID("Show","Original");e.content="MathML"===t?"Original MathML":t+" Commands";this.findID("Copy","Original").content=e.content}getSemanticsMenu(){const t=this.findID("Settings","MathmlIncludes","semantics");"MathML"===this.mathItem.inputJax.name?t.disable():t.enable()}getSpeechMenu(){const t=this.mathItem.outputData.speech;this.findID("Show","Speech")[t?"enable":"disable"](),this.findID("Copy","Speech")[t?"enable":"disable"]()}getBrailleMenu(){const t=this.mathItem.outputData.braille;this.findID("Show","Braille")[t?"enable":"disable"](),this.findID("Copy","Braille")[t?"enable":"disable"]()}getSvgMenu(){const t=this.jax.SVG;this.findID("Show","SVG")[t?"enable":"disable"](),this.findID("Copy","SVG")[t?"enable":"disable"]()}getErrorMessage(){const t=this.mathItem.root.childNodes[0].childNodes;let e=!0;if(this.errorMsg="",1===t.length&&t[0].isKind("merror")){const s=t[0].attributes;this.errorMsg=s.get("data-mjx-error")||s.get("data-mjx-message")||"",e=!this.errorMsg}this.findID("Show","Error")[e?"disable":"enable"](),this.findID("Copy","Error")[e?"disable":"enable"]()}dynamicSubmenus(){for(const[t,[e,s]]of id.DynamicSubmenus){const r=this.find(t);r&&e(this,r,t=>{var e;r.submenu=t,!(null===(e=null==t?void 0:t.items)||void 0===e?void 0:e.length)||s&&!this.settings[s]?r.disable():r.enable()})}}}var nd,od,ad;id.DynamicSubmenus=new Map,function(t){t.DOMAIN="domain",t.STYLE="style",t.LOCALE="locale",t.TOPIC="topic",t.MODALITY="modality"}(nd||(nd={}));class cd{static createProp(...t){const e=ld.DEFAULT_ORDER,s={};for(let r=0,i=t.length,n=e.length;r<i&&r<n;r++)s[e[r]]=t[r];return new cd(s)}constructor(t,e=Object.keys(t)){this.properties=t,this.order=e}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(t){return this.properties[t]}updateProperties(t){this.properties=t}allProperties(){const t=[];return this.order.forEach(e=>t.push(this.getProperty(e).slice())),t}toString(){const t=[];return this.order.forEach(e=>t.push(e+": "+this.getProperty(e).toString())),t.join("\n")}}class ld extends cd{static createCstr(...t){const e=ld.DEFAULT_ORDER,s={};for(let r=0,i=t.length,n=e.length;r<i&&r<n;r++)s[e[r]]=t[r];return new ld(s)}static defaultCstr(){return ld.createCstr.apply(null,ld.DEFAULT_ORDER.map(function(t){return ld.DEFAULT_VALUES[t]}))}static validOrder(t){const e=ld.DEFAULT_ORDER.slice();return t.every(t=>{const s=e.indexOf(t);return-1!==s&&e.splice(s,1)})}constructor(t,e){const s={};for(const[e,r]of Object.entries(t))s[e]=[r];super(s,e),this.components=t}getComponents(){return this.components}getValue(t){return this.components[t]}getValues(){return this.order.map(t=>this.getValue(t))}allProperties(){const t=super.allProperties();for(let e,s,r=0;e=t[r],s=this.order[r];r++){const t=this.getValue(s);-1===e.indexOf(t)&&e.unshift(t)}return t}toString(){return this.getValues().join(".")}equal(t){const e=t.getAxes();if(this.order.length!==e.length)return!1;for(let s,r=0;s=e[r];r++){const e=this.getValue(s);if(!e||t.getValue(s)!==e)return!1}return!0}}ld.DEFAULT_ORDER=[nd.LOCALE,nd.MODALITY,nd.DOMAIN,nd.STYLE,nd.TOPIC],ld.BASE_LOCALE="base",ld.DEFAULT_VALUE="default",ld.DEFAULT_VALUES={[nd.LOCALE]:"en",[nd.DOMAIN]:ld.DEFAULT_VALUE,[nd.STYLE]:ld.DEFAULT_VALUE,[nd.TOPIC]:ld.DEFAULT_VALUE,[nd.MODALITY]:"speech"};class hd{constructor(t){this.order=t}parse(t){const e=t.split("."),s={};if(e.length>this.order.length)throw new Error("Invalid dynamic constraint: "+s);let r=0;for(let t,i=0;t=this.order[i],e.length;i++,r++){const r=e.shift();s[t]=r}return new ld(s,this.order.slice(0,r))}}class dd{constructor(t,e=new cd(t.getProperties(),t.getOrder())){this.reference=t,this.fallback=e,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(t,e){this.reference=t,this.fallback=e||new cd(t.getProperties(),t.getOrder()),this.order=this.reference.getOrder()}match(t){const e=t.getAxes();return e.length===this.reference.getAxes().length&&e.every(e=>{const s=t.getValue(e);return s===this.reference.getValue(e)||-1!==this.fallback.getProperty(e).indexOf(s)})}compare(t,e){let s=!1;for(let r,i=0;r=this.order[i];i++){const i=t.getValue(r),n=e.getValue(r);if(!s){const t=this.reference.getValue(r);if(t===i&&t!==n)return-1;if(t===n&&t!==i)return 1;if(t===i&&t===n)continue;t!==i&&t!==n&&(s=!0)}const o=this.fallback.getProperty(r),a=o.indexOf(i),c=o.indexOf(n);if(a<c)return-1;if(c<a)return 1}return 0}toString(){return this.reference.toString()+"\n"+this.fallback.toString()}}!function(t){t.SYNC="sync",t.ASYNC="async",t.HTTP="http"}(od||(od={})),function(t){t.PITCH="pitch",t.RATE="rate",t.VOLUME="volume",t.PAUSE="pause",t.JOIN="join",t.LAYOUT="layout"}(ad||(ad={}));ad.PITCH,ad.RATE,ad.VOLUME,ad.PAUSE,ad.JOIN;var ud,pd;!function(t){t.NONE="none",t.SHALLOW="shallow",t.DEEP="deep"}(ud||(ud={})),function(t){t.NONE="none",t.LAYOUT="layout",t.COUNTING="counting",t.PUNCTUATION="punctuation",t.SSML="ssml",t.ACSS="acss",t.SABLE="sable",t.VOICEXML="voicexml"}(pd||(pd={}));var md=__webpack_require__(983);function fd(t){return t.match("/$")?t:t+"/"}class gd{static getInstance(){return gd.instance=gd.instance||new gd,gd.instance}init(t){return t&&this.startDebugFile_(t),this.isActive_=!0,this.fileHandle}output(...t){this.isActive_&&this.output_(t)}generate(t){this.isActive_&&this.output_(t.apply(t,[]))}exit(t=()=>{}){this.fileHandle.then(()=>{this.isActive_&&this.stream_&&this.stream_.end("","",t)})}constructor(){this.isActive_=!1,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(t){this.fileHandle=md.f.fs.promises.open(t,"w"),this.fileHandle=this.fileHandle.then(e=>{this.stream_=e.createWriteStream(t),this.outputFunction=function(...t){this.stream_.write(t.join(" ")),this.stream_.write("\n")}.bind(this),this.stream_.on("error",function(t){console.info("Invalid log file. Debug information sent to console."),this.outputFunction=console.info}.bind(this)),this.stream_.on("finish",function(){console.info("Finalizing debug file.")})})}output_(t){this.stream_?this.fileHandle.then(()=>this.outputFunction.apply(this.outputFunction,["Speech Rule Engine Debugger:"].concat(t))):console.info.apply(console,["Speech Rule Engine Debugger:"].concat(t))}}var bd=__webpack_require__(799);class xd{constructor(t={}){this.delay=!1,this.domain="clearspeak",this.style=ld.DEFAULT_VALUES[nd.STYLE],this.locale=ld.DEFAULT_VALUES[nd.LOCALE],this.subiso="",this.modality=ld.DEFAULT_VALUES[nd.MODALITY],this.speech=ud.NONE,this.markup=pd.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.tree=!1,this.strict=!1,this.pprint=!1,this.rules="",this.prune="",this.set(t)}set(t){this.ensureDomain(t);for(const[e,s]of Object.entries(t))(xd.BINARY_FEATURES.includes(e)||xd.STRING_FEATURES.includes(e))&&(this[e]=s)}json(){const t={};return[].concat(xd.STRING_FEATURES,xd.BINARY_FEATURES).forEach(e=>t[e]=this[e]),t}ensureDomain(t){if(t.modality&&"speech"!==t.modality||!t.modality&&"speech"!==this.modality)return;if(!t.domain&&!t.locale)return;if("default"===t.domain)return void(t.domain="mathspeak");const e=t.locale||this.locale,s=t.domain||this.domain;-1===Ed.indexOf(e)||"mathspeak"===s?"en"!==e?"mathspeak"!==s&&"clearspeak"!==s&&(t.domain="mathspeak"):-1===yd.indexOf(s)&&(t.domain="mathspeak"):t.domain="mathspeak"}}xd.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint","cayleyshort","linebreaks","tree"],xd.STRING_FEATURES=["markup","style","domain","speech","walker","locale","delay","modality","rate","rules","subiso","prune"];const Ed=["ca","da","es"],yd=["chromevox","clearspeak","mathspeak","emacspeak","html"];class Nd extends Error{constructor(t=""){super(),this.message=t,this.name="SRE Error"}}class _d{set defaultLocale(t){this._defaultLocale=bd.u.ensureLocale(t,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return _d.instance=_d.instance||new _d,_d.instance}static defaultEvaluator(t,e){return t}static evaluateNode(t){return _d.nodeEvaluator(t)}getRate(){const t=parseInt(this.options.rate,10);return isNaN(t)?100:t}setDynamicCstr(t){if(this.defaultLocale&&(ld.DEFAULT_VALUES[nd.LOCALE]=this.defaultLocale),t){const e=Object.keys(t);for(let s=0;s<e.length;s++){const r=e[s];if(-1!==ld.DEFAULT_ORDER.indexOf(r)){const e=t[r];this.options[r]=e}}}const e=[this.options.locale,this.options.modality,this.options.domain,this.options.style].join("."),s=cd.createProp([ld.DEFAULT_VALUES[nd.LOCALE]],[ld.DEFAULT_VALUES[nd.MODALITY]],[ld.DEFAULT_VALUES[nd.DOMAIN]],[ld.DEFAULT_VALUES[nd.STYLE]]),r=this.comparators[this.options.domain],i=this.parsers[this.options.domain];this.parser=i||this.defaultParser,this.dynamicCstr=this.parser.parse(e),this.dynamicCstr.updateProperties(s.getProperties()),this.comparator=r?r():new dd(this.dynamicCstr)}constructor(){this.options=new xd,this.config=!1,this.customLoader=null,this.parsers={},this.comparator=null,this.mode=od.SYNC,this.init=!0,this.comparators={},this._defaultLocale=ld.DEFAULT_VALUES[nd.LOCALE],this.options.locale=this.defaultLocale,this.evaluator=_d.defaultEvaluator,this.defaultParser=new hd(ld.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=ld.defaultCstr()}configurate(t){this.mode!==od.HTTP||md.f.webworker||this.config||(!function(t){const e=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let s=0,r=e.length;s<r;s++){let r;try{r=e[s].innerHTML;const i=JSON.parse(r);for(const[e,s]of Object.entries(i))t[e]=s}catch(t){gd.getInstance().output("Illegal configuration ",r)}}}(t),this.config=!0),function(t){if("undefined"!=typeof SREfeature)for(const[e,s]of Object.entries(SREfeature))t[e]=s}(t)}setCustomLoader(t){t&&(this.customLoader=t)}setup(t){void 0!==t.mode&&(this.mode=t.mode),this.configurate(t),this.options.set(t),t.json&&(md.f.jsonPath=fd(t.json)),this.setCustomLoader(t.custom)}json(){return Object.assign({mode:this.mode},this.options.json())}reset(){this.options=new xd}}_d.nodeEvaluator=function(t){return[]};class vd{static get(t=_d.getInstance().options.locale){return vd.promises[t]||Promise.resolve("")}static getall(){return Promise.all(Object.values(vd.promises))}}vd.loaded={},vd.promises={};const wd=md.f.xpath,Cd={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function kd(t){return Cd[t]||null}class Ad{constructor(){this.lookupNamespaceURI=kd}}function Td(t,e,s){return wd.evaluate(t,e,new Ad,s,null)}function Md(t){const e=[];for(let s=0,r=t.length;s<r;s++)e.push(t[s]);return e}function Sd(t){const e=new md.f.xmldom.DOMParser,s=function(t){return(t=t.replace(/&nbsp;/g,"\xa0")).replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()}(t),r=!!s.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!s)throw new Error("Empty input!");try{const t=e.parseFromString(s,r?"text/html":"text/xml");return _d.getInstance().mode===od.HTTP?(wd.currentDocument=t,r?t.body.childNodes[0]:t.documentElement):t.documentElement}catch(t){throw new Nd("Illegal input: "+t.message)}}var Ld;function Id(t,e){t.parentNode&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t))}function Rd(t){return md.f.document.createElement(t)}function Od(t){let e="",s=/(>)(<)(\/*)/g,r=0,i=(t=t.replace(s,"$1\r\n$2$3")).split("\r\n");for(s=/(\.)*(<)(\/*)/g,i=i.map(t=>t.replace(s,"$1\r\n$2$3").split("\r\n")).reduce((t,e)=>t.concat(e),[]);i.length;){let t=i.shift();if(!t)continue;let s=0;if(t.match(/^<\w[^>/]*>[^>]+$/)){const e=Pd(t,i[0]);e[0]?e[1]?(t+=i.shift().slice(0,-e[1].length),e[1].trim()&&i.unshift(e[1])):t+=i.shift():s=1}else if(t.match(/^<\/\w/))0!==r&&(r-=1);else if(t.match(/^<\w[^>]*[^/]>.*$/))s=1;else if(t.match(/^<\w[^>]*\/>.+$/)){const e=t.indexOf(">")+1,s=t.slice(e);s.trim()&&i.unshift(),t=t.slice(0,e)+s}else s=0;e+=new Array(r+1).join("  ")+t+"\r\n",r+=s}return e}function Pd(t,e){if(!e)return[!1,""];const s=t.match(/^<([^> ]+).*>/),r=e.match(/^<\/([^>]+)>(.*)/);return s&&r&&s[1]===r[1]?[!0,r[2]]:[!1,""]}function Dd(t){return t.tagName.toUpperCase()}function Bd(t){return(new md.f.xmldom.XMLSerializer).serializeToString(t)}!function(t){t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",t[t.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",t[t.ENTITY_NODE=6]="ENTITY_NODE",t[t.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE",t[t.DOCUMENT_NODE=9]="DOCUMENT_NODE",t[t.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",t[t.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",t[t.NOTATION_NODE=12]="NOTATION_NODE"}(Ld||(Ld={}));class Fd{constructor(t,e,s){this.domain=t,this.name=e,this.func=s,this.active=!1}annotate(t){t.childNodes.forEach(this.annotate.bind(this)),t.contentNodes.forEach(this.annotate.bind(this)),t.addAnnotation(this.domain,this.func(t))}}class qd{constructor(t,e,s,r={}){this.domain=t,this.name=e,this.func=s,this.def=r,this.active=!1}visit(t,e){let s=this.func(t,e);t.addAnnotation(this.domain,s[0]);for(let e,r=0;e=t.childNodes[r];r++)s=this.visit(e,s[1]);for(let e,r=0;e=t.contentNodes[r];r++)s=this.visit(e,s[1]);return s}}const jd=new Map,Ud=new Map;function Hd(t){const e=t.domain+":"+t.name;t instanceof Fd?jd.set(e,t):Ud.set(e,t)}function Gd(t,e){const s=t+":"+e,r=jd.get(s)||Ud.get(s);r&&(r.active=!0)}var zd,Wd,Vd;function Xd(t){const e=t.toString(16).toUpperCase();return e.length>3?e:("000"+e).slice(-4)}function $d([t,e],s){const r=parseInt(t,16),i=parseInt(e,16),n=[];for(let t=r;t<=i;t++){let e=Xd(t);!1!==s[e]&&(e=s[e]||e,n.push(e))}return n}function Jd(t,e={}){return $d(t,e).map(t=>String.fromCodePoint(parseInt(t,16)))}!function(t){t.BOLD="bold",t.BOLDFRAKTUR="bold-fraktur",t.BOLDITALIC="bold-italic",t.BOLDSCRIPT="bold-script",t.DOUBLESTRUCK="double-struck",t.DOUBLESTRUCKITALIC="double-struck-italic",t.FULLWIDTH="fullwidth",t.FRAKTUR="fraktur",t.ITALIC="italic",t.MONOSPACE="monospace",t.NORMAL="normal",t.SCRIPT="script",t.SANSSERIF="sans-serif",t.SANSSERIFITALIC="sans-serif-italic",t.SANSSERIFBOLD="sans-serif-bold",t.SANSSERIFBOLDITALIC="sans-serif-bold-italic"}(zd||(zd={})),function(t){t.SUPER="super",t.SUB="sub",t.CIRCLED="circled",t.PARENTHESIZED="parenthesized",t.PERIOD="period",t.NEGATIVECIRCLED="negative-circled",t.DOUBLECIRCLED="double-circled",t.CIRCLEDSANSSERIF="circled-sans-serif",t.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",t.COMMA="comma",t.SQUARED="squared",t.NEGATIVESQUARED="negative-squared"}(Wd||(Wd={})),function(t){t.LATINCAP="latinCap",t.LATINSMALL="latinSmall",t.GREEKCAP="greekCap",t.GREEKSMALL="greekSmall",t.DIGIT="digit"}(Vd||(Vd={}));const Kd=[{interval:["1D400","1D419"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.BOLD},{interval:["1D41A","1D433"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.BOLD},{interval:["1D56C","1D585"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.BOLDFRAKTUR},{interval:["1D468","1D481"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.BOLDITALIC},{interval:["1D482","1D49B"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.BOLDSCRIPT},{interval:["1D538","1D551"],base:Vd.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:zd.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:Vd.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:zd.FRAKTUR},{interval:["1D51E","1D537"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.FRAKTUR},{interval:["FF21","FF3A"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.FULLWIDTH},{interval:["FF41","FF5A"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.FULLWIDTH},{interval:["1D434","1D44D"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.ITALIC},{interval:["1D44E","1D467"],base:Vd.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:zd.ITALIC},{interval:["1D670","1D689"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.MONOSPACE},{interval:["1D68A","1D6A3"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.MONOSPACE},{interval:["0041","005A"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.NORMAL},{interval:["0061","007A"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.NORMAL},{interval:["1D49C","1D4B5"],base:Vd.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:zd.SCRIPT},{interval:["1D4B6","1D4CF"],base:Vd.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:zd.SCRIPT},{interval:["1D5A0","1D5B9"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.SANSSERIF},{interval:["1D5BA","1D5D3"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.SANSSERIF},{interval:["1D608","1D621"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:Vd.LATINCAP,subst:{},capital:!0,category:"Lu",font:zd.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"Ll",font:zd.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:Vd.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:zd.NORMAL},{interval:["03B0","03D0"],base:Vd.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:zd.NORMAL},{interval:["1D6A8","1D6C0"],base:Vd.GREEKCAP,subst:{},capital:!0,category:"Lu",font:zd.BOLD},{interval:["1D6C1","1D6E1"],base:Vd.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:zd.BOLD},{interval:["1D6E2","1D6FA"],base:Vd.GREEKCAP,subst:{},capital:!0,category:"Lu",font:zd.ITALIC},{interval:["1D6FB","1D71B"],base:Vd.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:zd.ITALIC},{interval:["1D71C","1D734"],base:Vd.GREEKCAP,subst:{},capital:!0,category:"Lu",font:zd.BOLDITALIC},{interval:["1D735","1D755"],base:Vd.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:zd.BOLDITALIC},{interval:["1D756","1D76E"],base:Vd.GREEKCAP,subst:{},capital:!0,category:"Lu",font:zd.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:Vd.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:zd.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:Vd.GREEKCAP,subst:{},capital:!0,category:"Lu",font:zd.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:Vd.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:zd.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.NORMAL},{interval:["2070","2079"],base:Vd.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:Wd.SUPER},{interval:["2080","2089"],base:Vd.DIGIT,subst:{},offset:0,category:"No",font:Wd.SUB},{interval:["245F","2473"],base:Vd.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:Wd.CIRCLED},{interval:["3251","325F"],base:Vd.DIGIT,subst:{},offset:21,category:"No",font:Wd.CIRCLED},{interval:["32B1","32BF"],base:Vd.DIGIT,subst:{},offset:36,category:"No",font:Wd.CIRCLED},{interval:["2474","2487"],base:Vd.DIGIT,subst:{},offset:1,category:"No",font:Wd.PARENTHESIZED},{interval:["2487","249B"],base:Vd.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:Wd.PERIOD},{interval:["2775","277F"],base:Vd.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:Wd.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:Vd.DIGIT,subst:{},offset:11,category:"No",font:Wd.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:Vd.DIGIT,subst:{},offset:1,category:"No",font:Wd.DOUBLECIRCLED},{interval:["277F","2789"],base:Vd.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:Wd.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:Vd.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:Wd.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.BOLD},{interval:["1D7D8","1D7E1"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.SANSSERIF},{interval:["1D7EC","1D7F5"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:Vd.DIGIT,subst:{},offset:0,category:"Nd",font:zd.MONOSPACE},{interval:["1F101","1F10A"],base:Vd.DIGIT,subst:{},offset:0,category:"No",font:Wd.COMMA},{interval:["24B6","24CF"],base:Vd.LATINCAP,subst:{},capital:!0,category:"So",font:Wd.CIRCLED},{interval:["24D0","24E9"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"So",font:Wd.CIRCLED},{interval:["1F110","1F129"],base:Vd.LATINCAP,subst:{},capital:!0,category:"So",font:Wd.PARENTHESIZED},{interval:["249C","24B5"],base:Vd.LATINSMALL,subst:{},capital:!1,category:"So",font:Wd.PARENTHESIZED},{interval:["1F130","1F149"],base:Vd.LATINCAP,subst:{},capital:!0,category:"So",font:Wd.SQUARED},{interval:["1F170","1F189"],base:Vd.LATINCAP,subst:{},capital:!0,category:"So",font:Wd.NEGATIVESQUARED},{interval:["1F150","1F169"],base:Vd.LATINCAP,subst:{},capital:!0,category:"So",font:Wd.NEGATIVECIRCLED}],Yd=new Map;function Qd(t,e){return t+e.split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}for(const t of Kd){const e=Qd(t.base,t.font),s=Jd(t.interval,t.subst);let r=Yd.get(e);r?r.unicode=r.unicode.concat(s):(r=t,r.unicode=s,Yd.set(e,r))}var Zd;!function(t){t.PUNCTUATION="punctuation",t.FENCE="fence",t.NUMBER="number",t.IDENTIFIER="identifier",t.TEXT="text",t.OPERATOR="operator",t.RELATION="relation",t.LARGEOP="largeop",t.FUNCTION="function",t.ACCENT="accent",t.FENCED="fenced",t.FRACTION="fraction",t.PUNCTUATED="punctuated",t.RELSEQ="relseq",t.MULTIREL="multirel",t.INFIXOP="infixop",t.PREFIXOP="prefixop",t.POSTFIXOP="postfixop",t.APPL="appl",t.INTEGRAL="integral",t.BIGOP="bigop",t.SQRT="sqrt",t.ROOT="root",t.LIMUPPER="limupper",t.LIMLOWER="limlower",t.LIMBOTH="limboth",t.SUBSCRIPT="subscript",t.SUPERSCRIPT="superscript",t.UNDERSCORE="underscore",t.OVERSCORE="overscore",t.TENSOR="tensor",t.TABLE="table",t.MULTILINE="multiline",t.MATRIX="matrix",t.VECTOR="vector",t.CASES="cases",t.ROW="row",t.LINE="line",t.CELL="cell",t.ENCLOSE="enclose",t.INFERENCE="inference",t.RULELABEL="rulelabel",t.CONCLUSION="conclusion",t.PREMISES="premises",t.UNKNOWN="unknown",t.EMPTY="empty"}(Zd||(Zd={}));const tu=Object.assign({},Zd);var eu;!function(t){t.COMMA="comma",t.SEMICOLON="semicolon",t.ELLIPSIS="ellipsis",t.FULLSTOP="fullstop",t.QUESTION="question",t.EXCLAMATION="exclamation",t.QUOTES="quotes",t.DASH="dash",t.TILDE="tilde",t.PRIME="prime",t.DEGREE="degree",t.VBAR="vbar",t.COLON="colon",t.OPENFENCE="openfence",t.CLOSEFENCE="closefence",t.APPLICATION="application",t.DUMMY="dummy",t.UNIT="unit",t.LABEL="label",t.OPEN="open",t.CLOSE="close",t.TOP="top",t.BOTTOM="bottom",t.NEUTRAL="neutral",t.METRIC="metric",t.LATINLETTER="latinletter",t.GREEKLETTER="greekletter",t.OTHERLETTER="otherletter",t.NUMBERSET="numbersetletter",t.INTEGER="integer",t.FLOAT="float",t.OTHERNUMBER="othernumber",t.INFTY="infty",t.MIXED="mixed",t.MULTIACCENT="multiaccent",t.OVERACCENT="overaccent",t.UNDERACCENT="underaccent",t.UNDEROVER="underover",t.SUBSUP="subsup",t.LEFTSUB="leftsub",t.LEFTSUPER="leftsuper",t.RIGHTSUB="rightsub",t.RIGHTSUPER="rightsuper",t.LEFTRIGHT="leftright",t.ABOVEBELOW="abovebelow",t.INTERVAL="interval",t.SETEMPTY="set empty",t.SETEXT="set extended",t.SETSINGLE="set singleton",t.SETCOLLECT="set collection",t.STRING="string",t.SPACE="space",t.ANNOTATION="annotation",t.TEXT="text",t.SEQUENCE="sequence",t.ENDPUNCT="endpunct",t.STARTPUNCT="startpunct",t.NEGATIVE="negative",t.POSITIVE="positive",t.NEGATION="negation",t.MULTIOP="multiop",t.PREFIXOP="prefix operator",t.POSTFIXOP="postfix operator",t.LIMFUNC="limit function",t.INFIXFUNC="infix function",t.PREFIXFUNC="prefix function",t.POSTFIXFUNC="postfix function",t.SIMPLEFUNC="simple function",t.COMPFUNC="composed function",t.SUM="sum",t.INTEGRAL="integral",t.GEOMETRY="geometry",t.BOX="box",t.BLOCK="block",t.ADDITION="addition",t.MULTIPLICATION="multiplication",t.SUBTRACTION="subtraction",t.IMPLICIT="implicit",t.DIVISION="division",t.VULGAR="vulgar",t.EQUALITY="equality",t.INEQUALITY="inequality",t.ARROW="arrow",t.ELEMENT="element",t.NONELEMENT="nonelement",t.REELEMENT="reelement",t.RENONELEMENT="renonelement",t.SET="set",t.DETERMINANT="determinant",t.ROWVECTOR="rowvector",t.BINOMIAL="binomial",t.SQUAREMATRIX="squarematrix",t.CYCLE="cycle",t.MULTILINE="multiline",t.MATRIX="matrix",t.VECTOR="vector",t.CASES="cases",t.TABLE="table",t.CAYLEY="cayley",t.PROOF="proof",t.LEFT="left",t.RIGHT="right",t.UP="up",t.DOWN="down",t.FINAL="final",t.SINGLE="single",t.HYP="hyp",t.AXIOM="axiom",t.LOGIC="logic",t.UNKNOWN="unknown",t.MGLYPH="mglyph"}(eu||(eu={}));const su=Object.assign({},eu);var ru;!function(t){t.CALIGRAPHIC="caligraphic",t.CALIGRAPHICBOLD="caligraphic-bold",t.OLDSTYLE="oldstyle",t.OLDSTYLEBOLD="oldstyle-bold",t.UNKNOWN="unknown"}(ru||(ru={}));const iu=Object.assign(Object.assign(Object.assign({},zd),ru),Wd);var nu;!function(t){t.ALLLETTERS="allLetters",t.D="d",t.BAR="bar",t.TILDE="tilde"}(nu||(nu={}));const ou=Object.assign(Object.assign({},Vd),nu);var au=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]])}return s};const cu={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class lu extends Map{get(t){return super.get(t)||{role:su.UNKNOWN,type:tu.UNKNOWN,font:iu.UNKNOWN}}}class hu extends Map{set(t,e,s=""){return super.set(this.secKey(e,t),s||e),this}has(t,e){return super.has(this.secKey(e,t))}get(t,e){return super.get(this.secKey(e,t))}secKey(t,e){return e?`${t} ${e}`:`${t}`}}const du={Meaning:new lu,Secondary:new hu,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};function uu(t,e){for(const s of t)du.Meaning.set(s,{role:e.role||su.UNKNOWN,type:e.type||tu.UNKNOWN,font:e.font||iu.UNKNOWN}),e.secondary&&du.Secondary.set(s,e.secondary)}function pu(t,e,s=1){const r={},i=function(t){let e=[];for(const s of t)Array.isArray(s)?e=e.concat($d(s,{}).map(t=>parseInt(t,16))):e.push(parseInt(s,16));return e}(e);for(const e of i)r[e]||(t.set(String.fromCodePoint(e),String.fromCodePoint(e+s)),r[e]=!0,r[e+s]=!0)}const mu=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function fu(t,e,s,r,i,n=[],o={},a={}){const c=Yd.get(Qd(t,r));c&&(c.unicode.forEach(t=>{du.Meaning.set(t,{type:e,role:s,font:i}),n.forEach(e=>du.Secondary.set(t,e))}),function(t,e){for(const[s,r]of Object.entries(e)){const e=t[s];void 0!==e&&du.Meaning.set(e,r)}}(c.unicode,o),function(t,e){for(const[s,r]of Object.entries(e)){const e=t[s];void 0!==e&&du.Secondary.set(e,r)}}(c.unicode,a))}[{set:["23","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6b","ff03","ff06","ff0f","ff20","ff3c"],type:tu.PUNCTUATION,role:su.UNKNOWN},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:tu.PUNCTUATION,role:su.QUOTES},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:tu.PUNCTUATION,role:su.SEMICOLON},{set:["3f","203d","fe16","fe56","ff1f"],type:tu.PUNCTUATION,role:su.QUESTION},{set:["21","fe15","fe57","ff01"],type:tu.PUNCTUATION,role:su.EXCLAMATION},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:tu.PUNCTUATION,role:su.OVERACCENT},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:tu.PUNCTUATION,role:su.UNDERACCENT},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:tu.PUNCTUATION,role:su.COLON},{set:["2c","2063","fe50","ff0c"],type:tu.PUNCTUATION,role:su.COMMA},{set:["2026",["22ee","22f1"],"fe19"],type:tu.PUNCTUATION,role:su.ELLIPSIS},{set:["2e","fe52","ff0e"],type:tu.PUNCTUATION,role:su.FULLSTOP},{set:["2d","207b","208b","2212","2796","fe63","ff0d"],type:tu.OPERATOR,role:su.DASH,secondary:ou.BAR},{set:["5f","af",["2010","2015"],"203e","208b",["fe49","fe4f"],"fe58","ff3f","ffe3"],type:tu.PUNCTUATION,role:su.DASH,secondary:ou.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:tu.OPERATOR,role:su.TILDE,secondary:ou.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:tu.PUNCTUATION,role:su.PRIME},{set:["b0"],type:tu.PUNCTUATION,role:su.DEGREE},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:tu.OPERATOR,role:su.ADDITION},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:tu.OPERATOR,role:su.MULTIPLICATION},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:tu.OPERATOR,role:su.SUBTRACTION},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:tu.OPERATOR,role:su.DIVISION},{set:["25","2030","2031","ff05","fe6a"],type:tu.OPERATOR,role:su.POSTFIXOP},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:tu.OPERATOR,role:su.PREFIXOP},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:tu.OPERATOR,role:su.PREFIXOP},{set:["1d7ca","1d7cb"],type:tu.OPERATOR,role:su.PREFIXOP,font:iu.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:tu.RELATION,role:su.EQUALITY},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:tu.RELATION,role:su.INEQUALITY},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:tu.RELATION,role:su.SET},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:tu.RELATION,role:su.UNKNOWN},{set:["2205",["29b0","29b4"]],type:tu.IDENTIFIER,role:su.SETEMPTY},{set:["1ab2","221e",["29dc","29de"]],type:tu.IDENTIFIER,role:su.INFTY},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:tu.RELATION,role:su.LOGIC},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:tu.IDENTIFIER,role:su.LOGIC},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:tu.RELATION,role:su.ARROW},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:tu.OPERATOR,role:su.ELEMENT},{set:["2209"],type:tu.OPERATOR,role:su.NONELEMENT},{set:["220b","220d",["22fa","22fe"]],type:tu.OPERATOR,role:su.REELEMENT},{set:["220c"],type:tu.OPERATOR,role:su.RENONELEMENT},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:tu.LARGEOP,role:su.SUM},{set:["2140"],type:tu.LARGEOP,role:su.SUM,font:iu.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:tu.LARGEOP,role:su.INTEGRAL},{set:[["2500","257F"]],type:tu.RELATION,role:su.BOX},{set:[["2580","259F"]],type:tu.IDENTIFIER,role:su.BLOCK},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:tu.RELATION,role:su.GEOMETRY},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:tu.OPERATOR,role:su.GEOMETRY},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:tu.OPERATOR,role:su.GEOMETRY},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:tu.IDENTIFIER,role:su.UNKNOWN},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:tu.IDENTIFIER,role:su.OTHERLETTER},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:tu.OPERATOR,role:su.UNKNOWN},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:tu.OPERATOR,role:su.UNKNOWN},{set:[["2145","2149"]],type:tu.IDENTIFIER,role:su.LATINLETTER,font:iu.DOUBLESTRUCKITALIC,secondary:ou.ALLLETTERS},{set:[["213c","213f"]],type:tu.IDENTIFIER,role:su.GREEKLETTER,font:iu.DOUBLESTRUCK,secondary:ou.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:tu.IDENTIFIER,role:su.GREEKLETTER,font:iu.NORMAL,secondary:ou.ALLLETTERS},{set:[["2135","2138"]],type:tu.IDENTIFIER,role:su.OTHERLETTER,font:iu.NORMAL,secondary:ou.ALLLETTERS},{set:["131","237"],type:tu.IDENTIFIER,role:su.LATINLETTER,font:iu.NORMAL},{set:["1d6a4","1d6a5"],type:tu.IDENTIFIER,role:su.LATINLETTER,font:iu.ITALIC},{set:["2113","2118"],type:tu.IDENTIFIER,role:su.LATINLETTER,font:iu.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:tu.IDENTIFIER,role:su.LATINLETTER,font:iu.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:tu.NUMBER,role:su.FLOAT},{set:["23E8",["3248","324f"]],type:tu.NUMBER,role:su.INTEGER},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:tu.IDENTIFIER,role:su.UNKNOWN},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:tu.TEXT,role:su.SPACE},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:tu.FENCE,role:su.NEUTRAL},{set:["2016","2225","2980","2af4"],type:tu.FENCE,role:su.METRIC}].forEach(t=>{var{set:e}=t,s=au(t,["set"]);return uu(function(t){let e=[];for(const s of t)Array.isArray(s)?e=e.concat(Jd(s)):e.push(String.fromCodePoint(parseInt(s,16)));return e}(e),s)}),pu(du.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),pu(du.FencesHoriz,["28","2045","207D","208D",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),pu(du.FencesHoriz,["5b","7b","ff3b","ff5b"],2),pu(du.FencesHoriz,[["239b","23a6"]],3),pu(du.FencesHoriz,[["23a7","23a9"]],4),uu([...du.FencesHoriz.keys()],{type:tu.FENCE,role:su.OPEN}),uu([...du.FencesHoriz.values()],{type:tu.FENCE,role:su.CLOSE}),uu([...du.FencesVert.keys()],{type:tu.FENCE,role:su.TOP}),uu([...du.FencesVert.values()],{type:tu.FENCE,role:su.BOTTOM}),function(){for(const[t,e]of Object.entries(iu)){const s=!!Wd[t]?iu.UNKNOWN:e===iu.FULLWIDTH?iu.NORMAL:e;fu(Vd.LATINCAP,tu.IDENTIFIER,su.LATINLETTER,e,s,[ou.ALLLETTERS]),fu(Vd.LATINSMALL,tu.IDENTIFIER,su.LATINLETTER,e,s,[ou.ALLLETTERS],{},{3:ou.D}),fu(Vd.GREEKCAP,tu.IDENTIFIER,su.GREEKLETTER,e,s,[ou.ALLLETTERS]),fu(Vd.GREEKSMALL,tu.IDENTIFIER,su.GREEKLETTER,e,s,[ou.ALLLETTERS],{0:{type:tu.OPERATOR,role:su.PREFIXOP,font:s},26:{type:tu.OPERATOR,role:su.PREFIXOP,font:s}}),fu(Vd.DIGIT,tu.NUMBER,su.INTEGER,e,s)}}(),uu(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:tu.FUNCTION,role:su.LIMFUNC}),uu(mu,{type:tu.FUNCTION,role:su.PREFIXFUNC}),uu(["mod","rem"],{type:tu.OPERATOR,role:su.PREFIXFUNC});const gu=[];function bu(t,e){for(let s,r=0;s=gu[r];r++){const r=s.compare(t,e);if(0!==r)return r}return 0}function xu(t){if(t.length<=1)return t;const e=t.slice();!function(t){t.sort(bu)}(e);const s=[];let r;do{r=e.pop(),s.push(r)}while(r&&e.length&&0===bu(e[e.length-1],r));return s}function Eu(t,e){return t.match(/^.+:.+$/)||!e?t:t+":"+e}new class{constructor(t,e=null){this.comparator=t,this.type=e,function(t){gu.push(t)}(this)}compare(t,e){return this.type&&this.type===t.type&&this.type===e.type?this.comparator(t,e):0}}(function(t,e){return t.role===su.SIMPLEFUNC?1:e.role===su.SIMPLEFUNC?-1:0},tu.IDENTIFIER);class yu extends Map{set(t,e){return super.set(Eu(t,e.font),e),this}setNode(t){this.set(t.textContent,t.meaning())}get(t,e=null){return super.get(Eu(t,e))}getNode(t){return this.get(t.textContent,t.font)}}class Nu extends Map{add(t,e){const s=this.get(t);s?s.push(e):super.set(t,[e])}get(t,e=null){return super.get(Eu(t,e))}getNode(t){return this.get(t.textContent,t.font)}minimize(){for(const[t,e]of this)1===e.length&&this.delete(t)}isMultiValued(){for(const t of this.values())if(t.length>1)return!0;return!1}}class _u extends Nu{add(t,e){super.add(Eu(t,e.font),e)}addNode(t){this.add(t.textContent,t)}toString(){const t=[];for(const[e,s]of this){const r=Array(e.length+3).join(" "),i=s.map(t=>t.toString()).join("\n"+r);t.push(e+": "+i)}return t.join("\n")}collateMeaning(){const t=new vu;for(const[e,s]of this)t.set(e,s.map(t=>t.meaning()));return t}}class vu extends Nu{add(t,e){const s=this.get(t,e.font);s&&s.find(function(t){return r=e,(s=t).type===r.type&&s.role===r.role&&s.font===r.font;var s,r})||super.add(Eu(t,e.font),e)}addNode(t){this.add(t.textContent,t.meaning())}toString(){const t=[];for(const[e,s]of this){const r=Array(e.length+3).join(" "),i=s.map(t=>`{type: ${t.type}, role: ${t.role}, font: ${t.font}}`).join("\n"+r);t.push(e+": "+i)}return t.join("\n")}reduce(){for(const[t,e]of this)1!==e.length&&this.set(t,xu(e))}default(){const t=new yu;for(const[e,s]of this)1===s.length&&t.set(e,s[0]);return t}newDefault(){const t=this.default();this.reduce();const e=this.default();return t.size!==e.size?e:null}}var wu;!function(t){t.ANNOTATION="ANNOTATION",t.ANNOTATIONXML="ANNOTATION-XML",t.MACTION="MACTION",t.MALIGNGROUP="MALIGNGROUP",t.MALIGNMARK="MALIGNMARK",t.MATH="MATH",t.MENCLOSE="MENCLOSE",t.MERROR="MERROR",t.MFENCED="MFENCED",t.MFRAC="MFRAC",t.MGLYPH="MGLYPH",t.MI="MI",t.MLABELEDTR="MLABELEDTR",t.MMULTISCRIPTS="MMULTISCRIPTS",t.MN="MN",t.MO="MO",t.MOVER="MOVER",t.MPADDED="MPADDED",t.MPHANTOM="MPHANTOM",t.MPRESCRIPTS="MPRESCRIPTS",t.MROOT="MROOT",t.MROW="MROW",t.MS="MS",t.MSPACE="MSPACE",t.MSQRT="MSQRT",t.MSTYLE="MSTYLE",t.MSUB="MSUB",t.MSUBSUP="MSUBSUP",t.MSUP="MSUP",t.MTABLE="MTABLE",t.MTD="MTD",t.MTEXT="MTEXT",t.MTR="MTR",t.MUNDER="MUNDER",t.MUNDEROVER="MUNDEROVER",t.NONE="NONE",t.SEMANTICS="SEMANTICS"}(wu||(wu={}));const Cu=Object.values(wu),ku=[wu.MO,wu.MI,wu.MN,wu.MTEXT,wu.MS,wu.MSPACE],Au=[wu.MERROR,wu.MPHANTOM,wu.MALIGNGROUP,wu.MALIGNMARK,wu.MPRESCRIPTS,wu.ANNOTATION,wu.ANNOTATIONXML],Tu=[wu.MATH,wu.MROW,wu.MPADDED,wu.MACTION,wu.NONE,wu.MSTYLE,wu.SEMANTICS],Mu=[wu.MROOT,wu.MSQRT],Su=["aria-label","exact-speech","alt"];function Lu(t){return!!t&&Dd(t)===wu.MATH}function Iu(t){return!!t&&(Au.includes(Dd(t))||!Cu.includes(Dd(t)))}function Ru(t){return!!t&&Tu.includes(Dd(t))}function Ou(t){return!!t&&Dd(t)===wu.MGLYPH&&!function(t){return!!t&&ku.includes(Dd(t))}(t.parentNode)}function Pu(t){const e=[];for(let s,r=0;s=t[r];r++){if(s.nodeType!==Ld.ELEMENT_NODE)continue;const t=Dd(s);Au.includes(t)||(Tu.includes(t)&&0===s.childNodes.length||e.push(s))}return e}function Du(t,e){var s;if(null===(s=e.attributes)||void 0===s?void 0:s.length){const s=e.attributes;for(let e=s.length-1;e>=0;e--){const r=s[e].name;r.match(/^ext/)&&(t.attributes[r]=s[e].value,t.nobreaking=!0),Su.includes(r)&&(t.attributes["ext-speech"]=s[e].value,t.nobreaking=!0),r.match(/texclass$/)&&(t.attributes.texclass=s[e].value),"data-latex"===r.toLowerCase()&&(t.attributes.latex=s[e].value),"href"===r&&(t.attributes.href=s[e].value,t.nobreaking=!0)}}}function Bu(t){return t&&t.embellished&&t.childNodes.length>0?Bu(t.childNodes[0]):t}function Fu(t,e,s){s&&t.reverse();const r=[];for(let i,n=0;i=t[n];n++){if(e(i))return s?{head:t.slice(n+1).reverse(),div:i,tail:r.reverse()}:{head:r,div:i,tail:t.slice(n+1)};r.push(i)}return s?{head:[],div:null,tail:r.reverse()}:{head:r,div:null,tail:[]}}function qu(t,e){let s=t;const r=[],i=[];let n=null;do{n=Fu(s,e),i.push(n.head),r.push(n.div),s=n.tail}while(n.div);return r.pop(),{rel:r,comp:i}}var ju;!function(t){t.EMBELLISHED="embellished",t.FENCEPOINTER="fencepointer",t.FONT="font",t.ID="id",t.ANNOTATION="annotation",t.ROLE="role",t.TYPE="type",t.CHILDREN="children",t.CONTENT="content",t.TEXT="$t"}(ju||(ju={}));class Uu{static fromXml(t){const e=parseInt(t.getAttribute("id"),10),s=new Uu(e);return s.type=t.tagName,Uu.setAttribute(s,t,"role"),Uu.setAttribute(s,t,"font"),Uu.setAttribute(s,t,"embellished"),Uu.setAttribute(s,t,"fencepointer","fencePointer"),t.getAttribute("annotation")&&s.parseAnnotation(t.getAttribute("annotation")),Du(s,t),Uu.processChildren(s,t),s}static setAttribute(t,e,s,r){r=r||s;const i=e.getAttribute(s);i&&(t[r]=i)}static processChildren(t,e){for(const s of Md(e.childNodes)){if(s.nodeType===Ld.TEXT_NODE){t.textContent=s.textContent;continue}const e=Md(s.childNodes).map(Uu.fromXml);e.forEach(e=>e.parent=t),"CONTENT"===Dd(s)?t.contentNodes=e:t.childNodes=e}}constructor(t){this.id=t,this.mathml=[],this.parent=null,this.type=tu.UNKNOWN,this.role=su.UNKNOWN,this.font=iu.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(t){let e=[];for(let s,r=0;s=this.childNodes[r];r++)e=e.concat(s.querySelectorAll(t));for(let s,r=0;s=this.contentNodes[r];r++)e=e.concat(s.querySelectorAll(t));return t(this)&&e.unshift(this),e}xml(t,e){const s=function(s,r){const i=r.map(function(s){return s.xml(t,e)}),n=t.createElementNS("",s);for(let t,e=0;t=i[e];e++)n.appendChild(t);return n},r=t.createElementNS("",this.type);return e||this.xmlAttributes(r),r.textContent=this.textContent,this.contentNodes.length>0&&r.appendChild(s(ju.CONTENT,this.contentNodes)),this.childNodes.length>0&&r.appendChild(s(ju.CHILDREN,this.childNodes)),r}toString(t=!1){const e=Sd("<snode/>");return Bd(this.xml(e.ownerDocument,t))}allAttributes(){const t=[];return t.push([ju.ROLE,this.role]),this.font!==iu.UNKNOWN&&t.push([ju.FONT,this.font]),Object.keys(this.annotation).length&&t.push([ju.ANNOTATION,this.annotationXml()]),this.embellished&&t.push([ju.EMBELLISHED,this.embellished]),this.fencePointer&&t.push([ju.FENCEPOINTER,this.fencePointer]),t.push([ju.ID,this.id.toString()]),t}annotationXml(){const t=[];for(const[e,s]of Object.entries(this.annotation))s.forEach(s=>t.push(e+":"+s));return t.join(";")}attributesXml(){const t=[];for(const[e,s]of Object.entries(this.attributes))t.push(e+":"+Uu.escapeValue(s));return t.join(";")}toJson(){const t={};t[ju.TYPE]=this.type;const e=this.allAttributes();for(let s,r=0;s=e[r];r++)t[s[0]]=s[1].toString();return this.textContent&&(t[ju.TEXT]=this.textContent),this.childNodes.length&&(t[ju.CHILDREN]=this.childNodes.map(function(t){return t.toJson()})),this.contentNodes.length&&(t[ju.CONTENT]=this.contentNodes.map(function(t){return t.toJson()})),t}updateContent(t,e){const s=e?t.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):t.trim();if(t=t&&!s?t:s,this.textContent===t)return;const r=du.Meaning.get(t.replace(/\s/g," "));this.textContent=t,this.role=r.role,this.type=r.type,this.font=r.font}addMathmlNodes(t){for(let e,s=0;e=t[s];s++)-1===this.mathml.indexOf(e)&&this.mathml.push(e)}appendChild(t){this.childNodes.push(t),this.addMathmlNodes(t.mathml),t.parent=this}replaceChild(t,e){const s=this.childNodes.indexOf(t);if(-1===s)return;t.parent=null,e.parent=this,this.childNodes[s]=e;const r=t.mathml.filter(function(t){return-1===e.mathml.indexOf(t)}),i=e.mathml.filter(function(e){return-1===t.mathml.indexOf(e)});this.removeMathmlNodes(r),this.addMathmlNodes(i)}appendContentNode(t){t&&(this.contentNodes.push(t),this.addMathmlNodes(t.mathml),t.parent=this)}removeContentNode(t){if(t){const e=this.contentNodes.indexOf(t);-1!==e&&this.contentNodes.slice(e,1)}}equals(t){if(!t)return!1;if(this.type!==t.type||this.role!==t.role||this.textContent!==t.textContent||this.childNodes.length!==t.childNodes.length||this.contentNodes.length!==t.contentNodes.length)return!1;for(let e,s,r=0;e=this.childNodes[r],s=t.childNodes[r];r++)if(!e.equals(s))return!1;for(let e,s,r=0;e=this.contentNodes[r],s=t.contentNodes[r];r++)if(!e.equals(s))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(t,e){e&&this.addAnnotation_(t,e)}getAnnotation(t){const e=this.annotation[t];return e||[]}hasAnnotation(t,e){const s=this.annotation[t];return!!s&&-1!==s.indexOf(e)}parseAnnotation(t){const e=t.split(";");for(let t=0,s=e.length;t<s;t++){const s=e[t].split(":");this.addAnnotation(s[0],s[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(t){const e=this.allAttributes();for(let s,r=0;s=e[r];r++)t.setAttribute(s[0],s[1]);this.addExternalAttributes(t)}addExternalAttributes(t){for(const[e,s]of Object.entries(this.attributes))t.setAttribute(e,s)}static escapeValue(t){return t.replace(/;/g,"\\0003B")}parseAttributes(t){if(!t)return;const e=t.split(";");for(let t=0,s=e.length;t<s;t++){const[s,...r]=e[t].split(":");s&&(this.attributes[s]=r.join("").replace(/\\0003B/g,";"))}}removeMathmlNodes(t){const e=this.mathml;for(let s,r=0;s=t[r];r++){const t=e.indexOf(s);-1!==t&&e.splice(t,1)}this.mathml=e}displayTree_(t){t++;const e=Array(t).join("  ");let s="";s+="\n"+e+this.toString(),s+="\n"+e+"MathmlTree:",s+="\n"+e+this.mathmlTreeString(),s+="\n"+e+"MathML:";for(let t,r=0;t=this.mathml[r];r++)s+="\n"+e+t.toString();return s+="\n"+e+"Begin Content",this.contentNodes.forEach(function(e){s+=e.displayTree_(t)}),s+="\n"+e+"End Content",s+="\n"+e+"Begin Children",this.childNodes.forEach(function(e){s+=e.displayTree_(t)}),s+="\n"+e+"End Children",s}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(t,e){const s=this.annotation[t];s&&!s.includes(e)?s.push(e):this.annotation[t]=[e]}}class Hu{constructor(){this.leafMap=new _u,this.defaultMap=new yu,this.idCounter_=-1}makeNode(t){return this.createNode_(t)}makeUnprocessed(t){const e=this.createNode_();return e.mathml=[t],e.mathmlTree=t,e}makeEmptyNode(){const t=this.createNode_();return t.type=tu.EMPTY,t}makeContentNode(t){const e=this.createNode_();return e.updateContent(t),e}makeMultipleContentNodes(t,e){const s=[];for(let r=0;r<t;r++)s.push(this.makeContentNode(e));return s}makeLeafNode(t,e){if(!t)return this.makeEmptyNode();const s=this.makeContentNode(t);s.font=e||s.font;const r=this.defaultMap.getNode(s);return r&&(s.type=r.type,s.role=r.role,s.font=r.font),this.leafMap.addNode(s),s}makeBranchNode(t,e,s,r){const i=this.createNode_();return r&&i.updateContent(r),i.type=t,i.childNodes=e,i.contentNodes=s,e.concat(s).forEach(function(t){t.parent=i,i.addMathmlNodes(t.mathml)}),i}createNode_(t){return void 0!==t?this.idCounter_=Math.max(this.idCounter_,t):t=++this.idCounter_,new Uu(t)}}class Gu{constructor(t){this.type=t,this.factory_=new Hu}getFactory(){return this.factory_}setFactory(t){this.factory_=t}getType(){return this.type}parseList(t){const e=[];for(let s,r=0;s=t[r];r++)e.push(this.parse(s));return e}}function zu(t,e){return t.type===e}function Wu(t,e){return t.embellished===e}function Vu(t,e){return t.role===e}function Xu(t){return zu(t,tu.FENCE)||zu(t,tu.PUNCTUATION)||zu(t,tu.OPERATOR)||zu(t,tu.RELATION)}function $u(t){return tp(t)&&!Vu(t,su.DIVISION)||zu(t,tu.APPL)||Qu(t)}function Ju(t){return tp(t)||Qu(t)}function Ku(t,e){return!!e&&zu(e,tu.IDENTIFIER)&&du.Secondary.has(t.textContent,ou.D)}function Yu(t){if(zu(t,tu.IDENTIFIER)){const e=t.textContent[0];return e&&t.textContent[1]&&du.Secondary.has(e,ou.D)}return!1}function Qu(t){return ep(t)||sp(t)}function Zu(t){return t.embellished?t.embellished:(e=t.type)===tu.OPERATOR||e===tu.RELATION||e===tu.FENCE||e===tu.PUNCTUATION?t.type:null;var e}function tp(t){return zu(t,tu.OPERATOR)||Wu(t,tu.OPERATOR)}function ep(t){return zu(t,tu.RELATION)||Wu(t,tu.RELATION)}function sp(t){return zu(t,tu.PUNCTUATION)||Wu(t,tu.PUNCTUATION)}function rp(t){return zu(t,tu.FENCE)||Wu(t,tu.FENCE)}function ip(t){return!(!t||!rp(t))&&(!t.embellished||np(t))}function np(t){return!t.embellished||!function(t){return zu(t,tu.TENSOR)&&(!zu(t.childNodes[1],tu.EMPTY)||!zu(t.childNodes[2],tu.EMPTY))&&(!zu(t.childNodes[3],tu.EMPTY)||!zu(t.childNodes[4],tu.EMPTY))}(t)&&((!Vu(t,su.CLOSE)||!zu(t,tu.TENSOR))&&((!Vu(t,su.OPEN)||!zu(t,tu.SUBSCRIPT)&&!zu(t,tu.SUPERSCRIPT))&&np(t.childNodes[0])))}function op(t){return!!t&&(zu(t,tu.TABLE)||zu(t,tu.MULTILINE))}function ap(t){return!!t&&cp(t)&&op(t.childNodes[0])}function cp(t){return!!t&&zu(t,tu.FENCED)&&(Vu(t,su.LEFTRIGHT)||_p(t))&&1===t.childNodes.length}function lp(t,e){return e.length>0&&Vu(e[e.length-1],su.OPENFENCE)}function hp(t){return t.childNodes.every(function(t){return t.childNodes.length<=1})}function dp(t){return zu(t,tu.LARGEOP)||zu(t,tu.LIMBOTH)||zu(t,tu.LIMLOWER)||zu(t,tu.LIMUPPER)||zu(t,tu.FUNCTION)&&Vu(t,su.LIMFUNC)||(zu(t,tu.OVERSCORE)||zu(t,tu.UNDERSCORE))&&dp(t.childNodes[0])}function up(t,e,s){return 1===e.length&&(t[s].type===tu.PUNCTUATION||t[s].embellished===tu.PUNCTUATION)&&t[s]===e[0]}function pp(t){return zu(t,tu.IDENTIFIER)&&Vu(t,su.SIMPLEFUNC)}const mp=[tu.PUNCTUATION,tu.PUNCTUATED,tu.RELSEQ,tu.MULTIREL,tu.TABLE,tu.MULTILINE,tu.CASES,tu.INFERENCE],fp=[tu.LIMUPPER,tu.LIMLOWER,tu.LIMBOTH,tu.SUBSCRIPT,tu.SUPERSCRIPT,tu.UNDERSCORE,tu.OVERSCORE,tu.TENSOR];function gp(t){const e=t.type;return-1===mp.indexOf(e)&&(e!==tu.INFIXOP||t.role===su.IMPLICIT)&&(e===tu.FENCED?t.role!==su.LEFTRIGHT||gp(t.childNodes[0]):-1===fp.indexOf(e)||gp(t.childNodes[0]))}function bp(t){return function(t){return t.type===tu.NUMBER&&(t.role===su.INTEGER||t.role===su.FLOAT)}(t)||t.role===su.VULGAR||t.role===su.MIXED}function xp(t){const e=t.childNodes;return t.role===su.UNIT&&(!e.length||e[0].role===su.UNIT)}function Ep(t){const e=t.childNodes;return t.type===tu.INFIXOP&&(t.role===su.MULTIPLICATION||t.role===su.IMPLICIT)&&e.length&&(xp(e[0])||bp(e[0]))&&t.childNodes.slice(1).every(xp)}function yp(t){return t.type===tu.INFIXOP&&(t.role===su.IMPLICIT||t.role===su.UNIT&&!!t.contentNodes.length&&t.contentNodes[0].textContent===cu.invisibleTimes)}function Np(t){return t.type===tu.INFIXOP&&t.role===su.IMPLICIT}function _p(t){return t.role===su.NEUTRAL||t.role===su.METRIC}function vp(t,e){return _p(t)&&_p(e)&&Bu(t).textContent===Bu(e).textContent}function wp(t){return!!_p(t)&&(!t.embellished||t.type!==tu.SUPERSCRIPT&&t.type!==tu.SUBSCRIPT&&(t.type!==tu.TENSOR||t.childNodes[3].type===tu.EMPTY&&t.childNodes[4].type===tu.EMPTY))}function Cp(t){return!!_p(t)&&(!t.embellished||(t.type!==tu.TENSOR||t.childNodes[1].type===tu.EMPTY&&t.childNodes[2].type===tu.EMPTY))}function kp(t){return[su.ELEMENT,su.NONELEMENT,su.REELEMENT,su.RENONELEMENT].includes(t.role)}const Ap={factory:null,options:new xd,updateFactory:function(t){Ap.factory=t},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(t){const e=t.name;Ap.heuristics.set(e,t),Ap.flags[e]||(Ap.flags[e]=!1)},run:function(t,e,s){const r=Ap.heuristics.get(t);return r&&!Ap.blacklist[t]&&(Ap.flags[t]||r.applicable(e))?r.apply(e):s?s(e):e}};class Tp{static getInstance(){return Tp.instance=Tp.instance||new Tp,Tp.instance}static tableToMultiline(t){if(!hp(t))return Ap.run("rewrite_subcases",t,Tp.classifyTable);t.type=tu.MULTILINE;for(let e,s=0;e=t.childNodes[s];s++)Tp.rowToLine_(e,su.MULTILINE);var e;return 1!==t.childNodes.length||zu(e=t.childNodes[0],tu.LINE)&&e.contentNodes.length&&Vu(e.contentNodes[0],su.LABEL)||!cp(t.childNodes[0].childNodes[0])||Tp.tableToMatrixOrVector_(Tp.rewriteFencedLine_(t)),Tp.binomialForm_(t),Tp.classifyMultiline(t),t}static number(t){t.type!==tu.UNKNOWN&&t.type!==tu.IDENTIFIER||(t.type=tu.NUMBER),Tp.meaningFromContent(t,Tp.numberRole_),Tp.exprFont_(t)}static classifyMultiline(t){let e=0;const s=t.childNodes.length;let r;for(;e<s&&(!(r=t.childNodes[e])||!r.childNodes.length);)e++;if(e>=s)return;const i=r.childNodes[0].role;i!==su.UNKNOWN&&t.childNodes.every(function(t){const e=t.childNodes[0];return!e||e.role===i&&(zu(e,tu.RELATION)||zu(e,tu.RELSEQ))})&&(t.role=i)}static classifyTable(t){const e=Tp.computeColumns_(t);return Tp.classifyByColumns_(t,e,su.EQUALITY)||Tp.classifyByColumns_(t,e,su.INEQUALITY,[su.EQUALITY])||Tp.classifyByColumns_(t,e,su.ARROW)||Tp.detectCaleyTable(t),t}static detectCaleyTable(t){if(!t.mathmlTree)return!1;const e=t.mathmlTree,s=e.getAttribute("columnlines"),r=e.getAttribute("rowlines");return!(!s||!r)&&(!(!Tp.cayleySpacing(s)||!Tp.cayleySpacing(r))&&(t.role=su.CAYLEY,!0))}static cayleySpacing(t){const e=t.split(" ");return("solid"===e[0]||"dashed"===e[0])&&e.slice(1).every(t=>"none"===t)}static proof(t,e,s){const r=Tp.separateSemantics(e);return Tp.getInstance().proof(t,r,s)}static findSemantics(t,e,s){const r=null==s?null:s,i=Tp.getSemantics(t);return!!i&&(!!i[e]&&(null==r||i[e]===r))}static getSemantics(t){const e=t.getAttribute("semantics");return e?Tp.separateSemantics(e):null}static removePrefix(t){const[,...e]=t.split("_");return e.join("_")}static separateSemantics(t){const e={};return t.split(";").forEach(function(t){const[s,r]=t.split(":");e[Tp.removePrefix(s)]=r}),e}static matchSpaces_(t,e){for(let s,r=0;s=e[r];r++){const e=t[r].mathmlTree,i=t[r+1].mathmlTree;if(!e||!i)continue;const n=e.nextSibling;if(!n||n===i)continue;const o=Tp.getSpacer_(n);o&&(s.mathml.push(o),s.mathmlTree=o,s.role=su.SPACE)}}static getSpacer_(t){if(Dd(t)===wu.MSPACE)return t;for(;Ru(t)&&1===t.childNodes.length;)if(Dd(t=t.childNodes[0])===wu.MSPACE)return t;return null}static fenceToPunct_(t){const e=Tp.FENCE_TO_PUNCT_[t.role];if(e){for(;t.embellished;)t.embellished=tu.PUNCTUATION,Vu(t,su.SUBSUP)||Vu(t,su.UNDEROVER)||(t.role=e),t=t.childNodes[0];t.type=tu.PUNCTUATION,t.role=e}}static classifyFunction_(t,e){if(t.type===tu.APPL||t.type===tu.BIGOP||t.type===tu.INTEGRAL)return"";if(e[0]&&e[0].textContent===cu.functionApplication){Tp.getInstance().funcAppls[t.id]=e.shift();let s=su.SIMPLEFUNC;return Ap.run("simple2prefix",t),t.role!==su.PREFIXFUNC&&t.role!==su.LIMFUNC||(s=t.role),Tp.propagateFunctionRole_(t,s),"prefix"}const s=Tp.CLASSIFY_FUNCTION_[t.role];return s||((r=t).type===tu.IDENTIFIER||r.role===su.LATINLETTER||r.role===su.GREEKLETTER||r.role===su.OTHERLETTER?"simple":"");var r}static propagateFunctionRole_(t,e){if(t){if(t.type===tu.INFIXOP)return;Vu(t,su.SUBSUP)||Vu(t,su.UNDEROVER)||(t.role=e),Tp.propagateFunctionRole_(t.childNodes[0],e)}}static getFunctionOp_(t,e){if(e(t))return t;for(let s,r=0;s=t.childNodes[r];r++){const t=Tp.getFunctionOp_(s,e);if(t)return t}return null}static tableToMatrixOrVector_(t){const e=t.childNodes[0];zu(e,tu.MULTILINE)?Tp.tableToVector_(t):Tp.tableToMatrix_(t),t.contentNodes.forEach(e.appendContentNode.bind(e));for(let t,s=0;t=e.childNodes[s];s++)Tp.assignRoleToRow_(t,Tp.getComponentRoles_(e));return e.parent=null,e}static tableToVector_(t){const e=t.childNodes[0];e.type=tu.VECTOR,1!==e.childNodes.length?Tp.binomialForm_(e):Tp.tableToSquare_(t)}static binomialForm_(t){Vu(t,su.UNKNOWN)&&(2===t.childNodes.length&&(t.role=su.BINOMIAL,t.childNodes[0].role=su.BINOMIAL,t.childNodes[1].role=su.BINOMIAL))}static tableToMatrix_(t){const e=t.childNodes[0];e.type=tu.MATRIX,e.childNodes&&e.childNodes.length>0&&e.childNodes[0].childNodes&&e.childNodes.length===e.childNodes[0].childNodes.length?Tp.tableToSquare_(t):e.childNodes&&1===e.childNodes.length&&(e.role=su.ROWVECTOR)}static tableToSquare_(t){const e=t.childNodes[0];Vu(e,su.UNKNOWN)&&(_p(t)?e.role=su.DETERMINANT:e.role=su.SQUAREMATRIX)}static getComponentRoles_(t){const e=t.role;return e&&e!==su.UNKNOWN?e:t.type.toLowerCase()||su.UNKNOWN}static tableToCases_(t,e){for(let e,s=0;e=t.childNodes[s];s++)Tp.assignRoleToRow_(e,su.CASES);return t.type=tu.CASES,t.appendContentNode(e),hp(t)&&Tp.binomialForm_(t),t}static rewriteFencedLine_(t){const e=t.childNodes[0],s=t.childNodes[0].childNodes[0],r=t.childNodes[0].childNodes[0].childNodes[0];return s.parent=t.parent,t.parent=s,r.parent=e,s.childNodes=[t],e.childNodes=[r],s}static rowToLine_(t,e){const s=e||su.UNKNOWN;zu(t,tu.ROW)&&(t.type=tu.LINE,t.role=s,1===t.childNodes.length&&zu(t.childNodes[0],tu.CELL)&&(t.childNodes=t.childNodes[0].childNodes,t.childNodes.forEach(function(e){e.parent=t})))}static assignRoleToRow_(t,e){zu(t,tu.LINE)?t.role=e:zu(t,tu.ROW)&&(t.role=e,t.childNodes.forEach(function(t){zu(t,tu.CELL)&&(t.role=e)}))}static nextSeparatorFunction_(t){let e;if(t){if(t.match(/^\s+$/))return null;e=t.replace(/\s/g,"").split("").filter(function(t){return t})}else e=[","];return function(){return e.length>1?e.shift():e[0]}}static meaningFromContent(t,e){const s=[...t.textContent].filter(t=>t.match(/[^\s]/)),r=s.map(t=>du.Meaning.get(t));e(t,s,r)}static numberRole_(t,e,s){if(t.role===su.UNKNOWN)return s.every(function(t){return t.type===tu.NUMBER&&t.role===su.INTEGER||t.type===tu.PUNCTUATION&&t.role===su.COMMA})?(t.role=su.INTEGER,void("0"===e[0]&&t.addAnnotation("general","basenumber"))):void(s.every(function(t){return t.type===tu.NUMBER&&t.role===su.INTEGER||t.type===tu.PUNCTUATION})?t.role=su.FLOAT:t.role=su.OTHERNUMBER)}static exprFont_(t){t.font===iu.UNKNOWN&&Tp.compSemantics(t,"font",iu)}static compSemantics(t,e,s){const r=[...t.textContent].map(t=>du.Meaning.get(t)).reduce(function(t,r){return t&&r[e]&&r[e]!==s.UNKNOWN&&r[e]!==t?t===s.UNKNOWN?r[e]:null:t},s.UNKNOWN);r&&(t[e]=r)}static purgeFences_(t){const e=t.rel,s=t.comp,r=[],i=[];for(;e.length>0;){const t=e.shift();let n=s.shift();ip(t)?(r.push(t),i.push(n)):(Tp.fenceToPunct_(t),n.push(t),n=n.concat(s.shift()),s.unshift(n))}return i.push(s.shift()),{rel:r,comp:i}}static rewriteFencedNode_(t){const e=t.contentNodes[0],s=t.contentNodes[1];let r=Tp.rewriteFence_(t,e);return t.contentNodes[0]=r.fence,r=Tp.rewriteFence_(r.node,s),t.contentNodes[1]=r.fence,t.contentNodes[0].parent=t,t.contentNodes[1].parent=t,r.node.parent=null,r.node}static rewriteFence_(t,e){if(!e.embellished)return{node:t,fence:e};const s=e.childNodes[0],r=Tp.rewriteFence_(t,s);return zu(e,tu.SUPERSCRIPT)||zu(e,tu.SUBSCRIPT)||zu(e,tu.TENSOR)?(Vu(e,su.SUBSUP)||(e.role=t.role),s!==r.node&&(e.replaceChild(s,r.node),s.parent=t),Tp.propagateFencePointer_(e,s),{node:e,fence:r.fence}):(e.replaceChild(s,r.fence),e.mathmlTree&&-1===e.mathml.indexOf(e.mathmlTree)&&e.mathml.push(e.mathmlTree),{node:r.node,fence:e})}static propagateFencePointer_(t,e){t.fencePointer=e.fencePointer||e.id.toString(),t.embellished=null}static classifyByColumns_(t,e,s,r=[]){const i=[s].concat(r);return!!(3===e.length&&Tp.testColumns_(e,1,t=>Tp.isPureRelation_(t,i))||2===e.length&&(Tp.testColumns_(e,1,t=>Tp.isEndRelation_(t,i)||Tp.isPureRelation_(t,i))||Tp.testColumns_(e,0,t=>Tp.isEndRelation_(t,i,!0)||Tp.isPureRelation_(t,i))))&&(t.role=s,!0)}static isEndRelation_(t,e,s){const r=s?t.childNodes.length-1:0;return zu(t,tu.RELSEQ)&&e.some(e=>Vu(t,e))&&zu(t.childNodes[r],tu.EMPTY)}static isPureRelation_(t,e){return zu(t,tu.RELATION)&&e.some(e=>Vu(t,e))}static computeColumns_(t){const e=[];for(let s,r=0;s=t.childNodes[r];r++)for(let t,r=0;t=s.childNodes[r];r++){e[r]?e[r].push(t):e[r]=[t]}return e}static testColumns_(t,e,s){const r=t[e];return!!r&&(r.some(function(t){return t.childNodes.length&&s(t.childNodes[0])})&&r.every(function(t){return!t.childNodes.length||s(t.childNodes[0])}))}setNodeFactory(t){Tp.getInstance().factory_=t,Ap.updateFactory(Tp.getInstance().factory_)}getNodeFactory(){return Tp.getInstance().factory_}identifierNode(t,e,s){if("MathML-Unit"===s)t.type=tu.IDENTIFIER,t.role=su.UNIT;else if(!e&&1===t.textContent.length&&(t.role===su.INTEGER||t.role===su.LATINLETTER||t.role===su.GREEKLETTER)&&t.font===iu.NORMAL)return t.font=iu.ITALIC,Ap.run("simpleNamedFunction",t);return t.type===tu.UNKNOWN&&(t.type=tu.IDENTIFIER),Tp.exprFont_(t),Ap.run("simpleNamedFunction",t)}implicitNode(t){if(t=Tp.getInstance().getMixedNumbers_(t),1===(t=Tp.getInstance().combineUnits_(t)).length)return t[0];const e=Tp.getInstance().implicitNode_(t);return Ap.run("combine_juxtaposition",e)}text(t,e){return Tp.exprFont_(t),t.type=tu.TEXT,e===wu.ANNOTATIONXML?(t.role=su.ANNOTATION,t):e===wu.MS?(t.role=su.STRING,t):e===wu.MSPACE||t.textContent.match(/^\s*$/)?(t.role=su.SPACE,t):/\s/.exec(t.textContent)?(t.role=su.TEXT,t):(t.role=su.UNKNOWN,t)}row(t){return 0===(t=t.filter(function(t){return!zu(t,tu.EMPTY)})).length?Tp.getInstance().factory_.makeEmptyNode():(t=Tp.getInstance().getFencesInRow_(t),t=Tp.getInstance().tablesInRow(t),t=Tp.getInstance().getPunctuationInRow_(t),t=Tp.getInstance().getTextInRow_(t),t=Tp.getInstance().getFunctionsInRow_(t),Tp.getInstance().relationsInRow_(t))}limitNode(t,e){if(!e.length)return Tp.getInstance().factory_.makeEmptyNode();let s,r=e[0],i=tu.UNKNOWN;if(!e[1])return r;if(Ap.run("op_with_limits",e),dp(r)){s=Tp.MML_TO_LIMIT_[t];const n=s.length;if(i=s.type,e=e.slice(0,s.length+1),1===n&&Xu(e[1])||2===n&&Xu(e[1])&&Xu(e[2]))return s=Tp.MML_TO_BOUNDS_[t],Tp.getInstance().accentNode_(r,e,s.type,s.length,s.accent);if(2===n){if(Xu(e[1]))return r=Tp.getInstance().accentNode_(r,[r,e[1]],{MSUBSUP:tu.SUBSCRIPT,MUNDEROVER:tu.UNDERSCORE}[t],1,!0),e[2]?Tp.getInstance().makeLimitNode_(r,[r,e[2]],null,tu.LIMUPPER):r;if(e[2]&&Xu(e[2]))return r=Tp.getInstance().accentNode_(r,[r,e[2]],{MSUBSUP:tu.SUPERSCRIPT,MUNDEROVER:tu.OVERSCORE}[t],1,!0),Tp.getInstance().makeLimitNode_(r,[r,e[1]],null,tu.LIMLOWER);e[n]||(i=tu.LIMLOWER)}return Tp.getInstance().makeLimitNode_(r,e,null,i)}return s=Tp.MML_TO_BOUNDS_[t],Tp.getInstance().accentNode_(r,e,s.type,s.length,s.accent)}tablesInRow(t){let e=qu(t,ap),s=[];for(let t,r=0;t=e.rel[r];r++)s=s.concat(e.comp.shift()),s.push(Tp.tableToMatrixOrVector_(t));s=s.concat(e.comp.shift()),e=qu(s,op),s=[];for(let t,r=0;t=e.rel[r];r++){const r=e.comp.shift();lp(0,r)&&Tp.tableToCases_(t,r.pop()),s=s.concat(r),s.push(t)}return s.concat(e.comp.shift())}mfenced(t,e,s,r){if(s&&r.length>0){const t=Tp.nextSeparatorFunction_(s),e=[r.shift()];r.forEach(s=>{e.push(Tp.getInstance().factory_.makeContentNode(t())),e.push(s)}),r=e}return t&&e?Tp.getInstance().horizontalFencedNode_(Tp.getInstance().factory_.makeContentNode(t),Tp.getInstance().factory_.makeContentNode(e),r):(t&&r.unshift(Tp.getInstance().factory_.makeContentNode(t)),e&&r.push(Tp.getInstance().factory_.makeContentNode(e)),Tp.getInstance().row(r))}fractionLikeNode(t,e,s,r){let i;if(!r&&function(t){if(!t)return!1;if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].includes(t))return!0;const e=t.match(/[0-9.]+/);return!!e&&0===parseFloat(e[0])}(s)){const s=Tp.getInstance().factory_.makeBranchNode(tu.LINE,[t],[]),r=Tp.getInstance().factory_.makeBranchNode(tu.LINE,[e],[]);return i=Tp.getInstance().factory_.makeBranchNode(tu.MULTILINE,[s,r],[]),Tp.binomialForm_(i),Tp.classifyMultiline(i),i}return i=Tp.getInstance().fractionNode_(t,e),r&&i.addAnnotation("general","bevelled"),i}tensor(t,e,s,r,i){const n=Tp.getInstance().factory_.makeBranchNode(tu.TENSOR,[t,Tp.getInstance().scriptNode_(e,su.LEFTSUB),Tp.getInstance().scriptNode_(s,su.LEFTSUPER),Tp.getInstance().scriptNode_(r,su.RIGHTSUB),Tp.getInstance().scriptNode_(i,su.RIGHTSUPER)],[]);return n.role=t.role,n.embellished=Zu(t),n}pseudoTensor(t,e,s){const r=t=>!zu(t,tu.EMPTY),i=e.filter(r).length,n=s.filter(r).length;if(!i&&!n)return t;const o=i?n?wu.MSUBSUP:wu.MSUB:wu.MSUP,a=[t];return i&&a.push(Tp.getInstance().scriptNode_(e,su.RIGHTSUB,!0)),n&&a.push(Tp.getInstance().scriptNode_(s,su.RIGHTSUPER,!0)),Tp.getInstance().limitNode(o,a)}font(t){const e=Tp.MATHJAX_FONTS[t];return e||t}proof(t,e,s){if(e.inference||e.axiom||console.log("Noise"),e.axiom){const e=Tp.getInstance().cleanInference(t.childNodes),r=e.length?Tp.getInstance().factory_.makeBranchNode(tu.INFERENCE,s(e),[]):Tp.getInstance().factory_.makeEmptyNode();return r.role=su.AXIOM,r.mathmlTree=t,r}const r=Tp.getInstance().inference(t,e,s);return e.proof&&(r.role=su.PROOF,r.childNodes[0].role=su.FINAL),r}inference(t,e,s){if(e.inferenceRule){const e=Tp.getInstance().getFormulas(t,[],s);return Tp.getInstance().factory_.makeBranchNode(tu.INFERENCE,[e.conclusion,e.premises],[])}const r=e.labelledRule,i=Md(t.childNodes),n=[];"left"!==r&&"both"!==r||n.push(Tp.getInstance().getLabel(t,i,s,su.LEFT)),"right"!==r&&"both"!==r||n.push(Tp.getInstance().getLabel(t,i,s,su.RIGHT));const o=Tp.getInstance().getFormulas(t,i,s),a=Tp.getInstance().factory_.makeBranchNode(tu.INFERENCE,[o.conclusion,o.premises],n);return a.mathmlTree=t,a}getLabel(t,e,s,r){const i=Tp.getInstance().findNestedRow(e,"prooflabel",r),n=Tp.getInstance().factory_.makeBranchNode(tu.RULELABEL,s(Md(i.childNodes)),[]);return n.role=r,n.mathmlTree=i,n}getFormulas(t,e,s){const r=e.length?Tp.getInstance().findNestedRow(e,"inferenceRule"):t,i="up"===Tp.getSemantics(r).inferenceRule,n=i?r.childNodes[1]:r.childNodes[0],o=i?r.childNodes[0]:r.childNodes[1],a=n.childNodes[0].childNodes[0],c=Md(a.childNodes[0].childNodes),l=[];let h=1;for(const t of c)h%2&&l.push(t.childNodes[0]),h++;const d=s(l),u=s(Md(o.childNodes[0].childNodes))[0],p=Tp.getInstance().factory_.makeBranchNode(tu.PREMISES,d,[]);p.mathmlTree=a;const m=Tp.getInstance().factory_.makeBranchNode(tu.CONCLUSION,[u],[]);return m.mathmlTree=o.childNodes[0].childNodes[0],{conclusion:m,premises:p}}findNestedRow(t,e,s){return Tp.getInstance().findNestedRow_(t,e,0,s)}cleanInference(t){return Md(t).filter(function(t){return"MSPACE"!==Dd(t)})}operatorNode(t){return t.type===tu.UNKNOWN&&(t.type=tu.OPERATOR),Ap.run("multioperator",t)}constructor(){this.funcAppls={},this.splitRoles=new Map([[su.SUBTRACTION,su.NEGATIVE],[su.ADDITION,su.POSITIVE]]),this.splitOps=["\u2212","-","\u2010","\u2011","+"],this.factory_=new Hu,Ap.updateFactory(this.factory_)}implicitNode_(t){const e=Tp.getInstance().factory_.makeMultipleContentNodes(t.length-1,cu.invisibleTimes);Tp.matchSpaces_(t,e);const s=Tp.getInstance().infixNode_(t,e[0]);return s.role=su.IMPLICIT,e.forEach(function(t){t.parent=s}),s.contentNodes=e,s}infixNode_(t,e){let s=Tp.getInstance().factory_.makeBranchNode(tu.INFIXOP,t,[e],Bu(e).textContent);return s.role=e.role,s=Ap.run("propagateInterval",s),Ap.run("propagateSimpleFunction",s)}explicitMixed_(t){const e=qu(t,function(t){return t.textContent===cu.invisiblePlus});if(!e.rel.length)return t;let s=[];for(let t,r=0;t=e.rel[r];r++){const i=e.comp[r],n=e.comp[r+1],o=i.length-1;if(i[o]&&n[0]&&zu(i[o],tu.NUMBER)&&!Vu(i[o],su.MIXED)&&zu(n[0],tu.FRACTION)){const t=Tp.getInstance().factory_.makeBranchNode(tu.NUMBER,[i[o],n[0]],[]);t.role=su.MIXED,s=s.concat(i.slice(0,o)),s.push(t),n.shift()}else s=s.concat(i),s.push(t)}return s.concat(e.comp[e.comp.length-1])}concatNode_(t,e,s){if(0===e.length)return t;const r=e.map(function(t){return Bu(t).textContent}).join(" "),i=Tp.getInstance().factory_.makeBranchNode(s,[t],e,r);return e.length>1&&(i.role=su.MULTIOP),i}prefixNode_(t,e){const s=this.splitSingles(e);let r=t;for(;s.length>0;){const t=s.pop();r=Tp.getInstance().concatNode_(r,t,tu.PREFIXOP),1===t.length&&-1!==this.splitOps.indexOf(t[0].textContent)&&(r.role=this.splitRoles.get(t[0].role))}return r}splitSingles(t){let e=0;const s=[];let r=0;for(;r<t.length;){const i=t[r];!this.splitRoles.has(i.role)||t[r-1]&&t[r-1].role===i.role||t[r+1]&&t[r+1].role===i.role||-1===this.splitOps.indexOf(i.textContent)||(s.push(t.slice(e,r)),s.push(t.slice(r,r+1)),e=r+1),r++}return e<r&&s.push(t.slice(e,r)),s}postfixNode_(t,e){return e.length?Tp.getInstance().concatNode_(t,e,tu.POSTFIXOP):t}combineUnits_(t){const e=qu(t,function(t){return!Vu(t,su.UNIT)});if(t.length===e.rel.length)return e.rel;const s=[];let r,i;do{const t=e.comp.shift();r=e.rel.shift();let n=null;i=s.pop(),i&&(t.length&&bp(i)?t.unshift(i):s.push(i)),1===t.length&&(n=t.pop()),t.length>1&&(n=Tp.getInstance().implicitNode_(t),n.role=su.UNIT),n&&s.push(n),r&&s.push(r)}while(r);return s}getMixedNumbers_(t){const e=qu(t,function(t){return zu(t,tu.FRACTION)&&Vu(t,su.VULGAR)});if(!e.rel.length)return t;let s=[];for(let t,r=0;t=e.rel[r];r++){const i=e.comp[r],n=i.length-1;if(i[n]&&zu(i[n],tu.NUMBER)&&(Vu(i[n],su.INTEGER)||Vu(i[n],su.FLOAT))){const e=Tp.getInstance().factory_.makeBranchNode(tu.NUMBER,[i[n],t],[]);e.role=su.MIXED,s=s.concat(i.slice(0,n)),s.push(e)}else s=s.concat(i),s.push(t)}return s.concat(e.comp[e.comp.length-1])}getTextInRow_(t){if(0===t.length)return t;if(1===t.length)return t[0].type===tu.TEXT&&t[0].role===su.UNKNOWN&&(t[0].role=su.ANNOTATION),t;const{rel:e,comp:s}=qu(t,t=>zu(t,tu.TEXT));if(0===e.length)return t;const r=[];let i=s.shift();for(;e.length>0;){let t=e.shift(),n=s.shift();const o=[];for(;!n.length&&e.length&&t.role!==su.SPACE&&e[0].role!==su.SPACE;)o.push(t),t=e.shift(),n=s.shift();if(o.length){i.length&&r.push(Tp.getInstance().row(i)),o.push(t);const e=Tp.getInstance().dummyNode_(o);r.push(e),i=n;continue}if(t.role!==su.UNKNOWN){i.length&&r.push(Tp.getInstance().row(i)),r.push(t),i=n;continue}const a=du.Meaning.get(t.textContent);a.type!==tu.PUNCTUATION?a.type===tu.UNKNOWN?(Tp.meaningFromContent(t,(t,e,s)=>{if(t.role===su.UNKNOWN){if(Tp.numberRole_(t,e,s),t.role===su.OTHERNUMBER)return s.some(t=>t.type!==tu.NUMBER&&t.type!==tu.IDENTIFIER)?(t.type=tu.TEXT,void(t.role=su.ANNOTATION)):void(t.role=su.UNKNOWN);t.type=tu.NUMBER}}),t.type!==tu.TEXT||t.role===su.UNKNOWN?(t.role===su.UNKNOWN&&(e.length||n.length?n.length&&n[0].type===tu.FENCED?(t.type=tu.FUNCTION,t.role=su.PREFIXFUNC):t.role=su.TEXT:(t.type=tu.IDENTIFIER,t.role=su.UNIT)),i.push(t),i=i.concat(n)):(i.length&&r.push(Tp.getInstance().row(i)),r.push(t),i=n)):(t.type=a.type,t.role=a.role,t.font=a.font,t.addAnnotation("general","text"),i.push(t),i=i.concat(n)):(t.role=a.role,t.font=a.font,i.length&&r.push(Tp.getInstance().row(i)),r.push(t),i=n)}return i.length>0&&r.push(Tp.getInstance().row(i)),r.length>1?[Tp.getInstance().dummyNode_(r)]:r}relationsInRow_(t){const e=qu(t,ep),s=e.rel[0];if(!s)return Tp.getInstance().operationsInRow_(t);if(1===t.length)return t[0];const r=e.comp.map(Tp.getInstance().operationsInRow_);let i;return e.rel.some(function(t){return!t.equals(s)})?(i=Tp.getInstance().factory_.makeBranchNode(tu.MULTIREL,r,e.rel),e.rel.every(function(t){return t.role===s.role})&&(i.role=s.role),i):(i=Tp.getInstance().factory_.makeBranchNode(tu.RELSEQ,r,e.rel,Bu(s).textContent),i.role=s.role,i)}operationsInRow_(t){if(0===t.length)return Tp.getInstance().factory_.makeEmptyNode();if(1===(t=Tp.getInstance().explicitMixed_(t)).length)return t[0];const e=[];for(;t.length>0&&tp(t[0]);)e.push(t.shift());if(0===t.length)return Tp.getInstance().prefixNode_(e.pop(),e);if(1===t.length)return Tp.getInstance().prefixNode_(t[0],e);const s=Fu(t=Ap.run("convert_juxtaposition",t),tp),r=Tp.getInstance().wrapFactor(e,s);return Tp.getInstance().addFactor(r,s)}wrapPostfix(t){var e;(null===(e=t.div)||void 0===e?void 0:e.role)===su.POSTFIXOP&&(t.tail.length&&t.tail[0].type!==tu.OPERATOR?t.div.role=su.DIVISION:(t.head=[Tp.getInstance().postfixNode_(Tp.getInstance().implicitNode(t.head),[t.div])],t.div=t.tail.shift(),Tp.getInstance().wrapPostfix(t)))}wrapFactor(t,e){return Tp.getInstance().wrapPostfix(e),Tp.getInstance().prefixNode_(Tp.getInstance().implicitNode(e.head),t)}addFactor(t,e){return e.div?Tp.getInstance().operationsTree_(e.tail,t,e.div):(Ep(t)&&(t.role=su.UNIT),t)}operationsTree_(t,e,s,r=[]){if(0===t.length){if(r.unshift(s),e.type===tu.INFIXOP){const t=Tp.getInstance().postfixNode_(e.childNodes.pop(),r);return e.appendChild(t),e}return Tp.getInstance().postfixNode_(e,r)}const i=Fu(t,tp);if(0===i.head.length)return r.push(i.div),Tp.getInstance().operationsTree_(i.tail,e,s,r);const n=Tp.getInstance().wrapFactor(r,i),o=Tp.getInstance().appendOperand_(e,s,n);return Tp.getInstance().addFactor(o,i)}appendOperand_(t,e,s){if(t.type!==tu.INFIXOP)return Tp.getInstance().infixNode_([t,s],e);const r=Tp.getInstance().appendDivisionOp_(t,e,s);return r||(Tp.getInstance().appendExistingOperator_(t,e,s)?t:e.role===su.MULTIPLICATION?Tp.getInstance().appendMultiplicativeOp_(t,e,s):Tp.getInstance().appendAdditiveOp_(t,e,s))}appendDivisionOp_(t,e,s){return e.role===su.DIVISION?yp(t)?Tp.getInstance().infixNode_([t,s],e):Tp.getInstance().appendLastOperand_(t,e,s):t.role===su.DIVISION?Tp.getInstance().infixNode_([t,s],e):null}appendLastOperand_(t,e,s){let r=t,i=t.childNodes[t.childNodes.length-1];for(;i&&i.type===tu.INFIXOP&&!yp(i);)r=i,i=r.childNodes[t.childNodes.length-1];const n=Tp.getInstance().infixNode_([r.childNodes.pop(),s],e);return r.appendChild(n),t}appendMultiplicativeOp_(t,e,s){if(yp(t))return Tp.getInstance().infixNode_([t,s],e);let r=t,i=t.childNodes[t.childNodes.length-1];for(;i&&i.type===tu.INFIXOP&&!yp(i);)r=i,i=r.childNodes[t.childNodes.length-1];const n=Tp.getInstance().infixNode_([r.childNodes.pop(),s],e);return r.appendChild(n),t}appendAdditiveOp_(t,e,s){return Tp.getInstance().infixNode_([t,s],e)}appendExistingOperator_(t,e,s){return!(!t||t.type!==tu.INFIXOP||yp(t))&&(t.contentNodes[0].equals(e)?(t.appendContentNode(e),t.appendChild(s),!0):Tp.getInstance().appendExistingOperator_(t.childNodes[t.childNodes.length-1],e,s))}getFencesInRow_(t){let e=qu(t,rp);e=Tp.purgeFences_(e);const s=e.comp.shift();return Tp.getInstance().fences_(e.rel,e.comp,[],[s])}fences_(t,e,s,r){if(0===t.length&&0===s.length)return r[0];const i=Ap.run("bracketed_interval",[t[0],t[1],...e[0]||[]],()=>null);if(i){t.shift(),t.shift(),e.shift();const n=r.pop()||[];return r.push([...n,i,...e.shift()]),Tp.getInstance().fences_(t,e,s,r)}const n=t=>Vu(t,su.OPEN);if(0===t.length){const t=r.shift();for(;s.length>0;){if(n(s[0])){const e=s.shift();Tp.fenceToPunct_(e),t.push(e)}else{const e=Fu(s,n),i=e.head.length-1,o=Tp.getInstance().neutralFences_(e.head,r.slice(0,i));r=r.slice(i),t.push(...o),e.div&&e.tail.unshift(e.div),s=e.tail}t.push(...r.shift())}return t}const o=s[s.length-1],a=t[0].role;if(a===su.OPEN||_p(t[0])&&(!o||!vp(t[0],o))){s.push(t.shift());const i=e.shift();return i&&r.push(i),Tp.getInstance().fences_(t,e,s,r)}if(o&&a===su.CLOSE&&o.role===su.OPEN){const i=Tp.getInstance().horizontalFencedNode_(s.pop(),t.shift(),r.pop());return r.push(r.pop().concat([i],e.shift())),Tp.getInstance().fences_(t,e,s,r)}if(o&&vp(t[0],o)){if(!wp(o)||!Cp(t[0])){s.push(t.shift());const i=e.shift();return i&&r.push(i),Tp.getInstance().fences_(t,e,s,r)}const i=Tp.getInstance().horizontalFencedNode_(s.pop(),t.shift(),r.pop());return r.push(r.pop().concat([i],e.shift())),Tp.getInstance().fences_(t,e,s,r)}if(o&&a===su.CLOSE&&_p(o)&&s.some(n)){const i=Fu(s,n,!0),o=r.pop(),a=r.length-i.tail.length+1,c=Tp.getInstance().neutralFences_(i.tail,r.slice(a));r=r.slice(0,a);const l=Tp.getInstance().horizontalFencedNode_(i.div,t.shift(),r.pop().concat(c,o));return r.push(r.pop().concat([l],e.shift())),Tp.getInstance().fences_(t,e,i.head,r)}const c=t.shift();return Tp.fenceToPunct_(c),r.push(r.pop().concat([c],e.shift())),Tp.getInstance().fences_(t,e,s,r)}neutralFences_(t,e){if(0===t.length)return t;if(1===t.length)return Tp.fenceToPunct_(t[0]),t;const s=t.shift();if(!wp(s)){Tp.fenceToPunct_(s);const r=e.shift();return r.unshift(s),r.concat(Tp.getInstance().neutralFences_(t,e))}const r=Fu(t,function(t){return vp(t,s)});if(!r.div){Tp.fenceToPunct_(s);const r=e.shift();return r.unshift(s),r.concat(Tp.getInstance().neutralFences_(t,e))}if(!Cp(r.div))return Tp.fenceToPunct_(r.div),t.unshift(s),Tp.getInstance().neutralFences_(t,e);const i=Tp.getInstance().combineFencedContent_(s,r.div,r.head,e);if(r.tail.length>0){const t=i.shift(),e=Tp.getInstance().neutralFences_(r.tail,i);return t.concat(e)}return i[0]}combineFencedContent_(t,e,s,r){if(0===s.length){const s=Tp.getInstance().horizontalFencedNode_(t,e,r.shift());return r.length>0?r[0].unshift(s):r=[[s]],r}const i=r.shift(),n=s.length-1,o=r.slice(0,n),a=(r=r.slice(n)).shift(),c=Tp.getInstance().neutralFences_(s,o);i.push(...c),i.push(...a);const l=Tp.getInstance().horizontalFencedNode_(t,e,i);return r.length>0?r[0].unshift(l):r=[[l]],r}horizontalFencedNode_(t,e,s){const r=Tp.getInstance().row(s);let i=Tp.getInstance().factory_.makeBranchNode(tu.FENCED,[r],[t,e]);return t.role===su.OPEN?(Tp.getInstance().classifyHorizontalFence_(i),i=Ap.run("propagateComposedFunction",i)):i.role=t.role,i=Ap.run("detect_cycle",i),Tp.rewriteFencedNode_(i)}classifyHorizontalFence_(t){if(Ap.run("interval_heuristic",t),t.role===su.INTERVAL)return;t.role=su.LEFTRIGHT;const e=t.childNodes;if(!function(t){return function(t){return!!t&&-1!==["{","\ufe5b","\uff5b"].indexOf(t.textContent)}(t.contentNodes[0])&&function(t){return!!t&&-1!==["}","\ufe5c","\uff5d"].indexOf(t.textContent)}(t.contentNodes[1])}(t)||e.length>1)return;if(0===e.length||e[0].type===tu.EMPTY)return void(t.role=su.SETEMPTY);const s=e[0].type;if(1===e.length&&gp(e[0]))return void(t.role=su.SETSINGLE);const r=e[0].role;if(s===tu.PUNCTUATED&&r===su.SEQUENCE){if(e[0].contentNodes[0].role!==su.COMMA)return 1!==e[0].contentNodes.length||e[0].contentNodes[0].role!==su.VBAR&&e[0].contentNodes[0].role!==su.COLON?void 0:(t.role=su.SETEXT,void Tp.getInstance().setExtension_(t));t.role=su.SETCOLLECT}}setExtension_(t){const e=t.childNodes[0].childNodes[0];e&&e.type===tu.INFIXOP&&1===e.contentNodes.length&&kp(e.contentNodes[0])&&(e.addAnnotation("set","intensional"),e.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(t){if(t.length<=1)return t;const e=t=>{const e=t.type;return"punctuation"===e||"text"===e||"operator"===e||"relation"===e},s=qu(t,function(s){if(!sp(s))return!1;if(sp(s)&&!Vu(s,su.ELLIPSIS))return!0;const r=t.indexOf(s);if(0===r)return!t[1]||!e(t[1]);const i=t[r-1];if(r===t.length-1)return!e(i);const n=t[r+1];return!e(i)||!e(n)});if(0===s.rel.length)return t;let r=[],i=s.comp.shift();i.length>0&&r.push(Tp.getInstance().row(i));let n=0;for(;s.comp.length>0;){let t=[];const e=n;do{t.push(s.rel[n++]),i=s.comp.shift()}while(s.rel[n]&&i&&0===i.length);t=Ap.run("ellipses",t),s.rel.splice(e,n-e,...t),n=e+t.length,r=r.concat(t),i&&i.length>0&&r.push(Tp.getInstance().row(i))}return 1===r.length&&1===s.rel.length?r:[Tp.getInstance().punctuatedNode_(r,s.rel)]}punctuatedNode_(t,e){const s=Tp.getInstance().factory_.makeBranchNode(tu.PUNCTUATED,t,e);if(e.length===t.length){const t=e[0].role;if(t!==su.UNKNOWN&&e.every(function(e){return e.role===t}))return s.role=t,s}const r=e[0];return up(t,e,0)?s.role=r.childNodes.length&&!r.embellished?r.role:su.STARTPUNCT:up(t,e,t.length-1)?s.role=r.childNodes.length&&!r.embellished?r.role:su.ENDPUNCT:e.every(t=>Vu(t,su.DUMMY))?s.role=su.TEXT:e.every(t=>Vu(t,su.SPACE))?s.role=su.SPACE:s.role=su.SEQUENCE,s}dummyNode_(t){const e=Tp.getInstance().factory_.makeMultipleContentNodes(t.length-1,cu.invisibleComma);return e.forEach(function(t){t.role=su.DUMMY}),Tp.getInstance().punctuatedNode_(t,e)}accentRole_(t,e){if(!Xu(t))return!1;const s=t.textContent,r=du.Secondary.get(s,ou.BAR)||du.Secondary.get(s,ou.TILDE)||t.role;return t.role=e===tu.UNDERSCORE?su.UNDERACCENT:su.OVERACCENT,t.addAnnotation("accent",r),!0}accentNode_(t,e,s,r,i){const n=(e=e.slice(0,r+1))[1],o=e[2];let a;if(!i&&o&&(a=Tp.getInstance().factory_.makeBranchNode(tu.SUBSCRIPT,[t,n],[]),a.role=su.SUBSUP,e=[a,o],s=tu.SUPERSCRIPT),i){const r=Tp.getInstance().accentRole_(n,s);if(o){Tp.getInstance().accentRole_(o,tu.OVERSCORE)&&!r?(a=Tp.getInstance().factory_.makeBranchNode(tu.OVERSCORE,[t,o],[]),e=[a,n],s=tu.UNDERSCORE):(a=Tp.getInstance().factory_.makeBranchNode(tu.UNDERSCORE,[t,n],[]),e=[a,o],s=tu.OVERSCORE),a.role=su.UNDEROVER}}return Tp.getInstance().makeLimitNode_(t,e,a,s)}makeLimitNode_(t,e,s,r){if(r===tu.LIMUPPER&&t.type===tu.LIMLOWER)return t.childNodes.push(e[1]),e[1].parent=t,t.type=tu.LIMBOTH,t;if(r===tu.LIMLOWER&&t.type===tu.LIMUPPER)return t.childNodes.splice(1,-1,e[1]),e[1].parent=t,t.type=tu.LIMBOTH,t;const i=Tp.getInstance().factory_.makeBranchNode(r,e,[]),n=Zu(t);return s&&(s.embellished=n),i.embellished=n,i.role=t.role,i}getFunctionsInRow_(t,e){const s=e||[];if(0===t.length)return s;const r=t.shift(),i=Tp.classifyFunction_(r,t);if(!i)return s.push(r),Tp.getInstance().getFunctionsInRow_(t,s);const n=Tp.getInstance().getFunctionsInRow_(t,[]),o=Tp.getInstance().getFunctionArgs_(r,n,i);return s.concat(o)}getFunctionArgs_(t,e,s){let r,i,n;switch(s){case"integral":{const s=Tp.getInstance().getIntegralArgs_(e);if(!s.intvar&&!s.integrand.length)return s.rest.unshift(t),s.rest;const r=Tp.getInstance().row(s.integrand);return n=Tp.getInstance().integralNode_(t,r,s.intvar),Ap.run("intvar_from_fraction",n),s.rest.unshift(n),s.rest}case"prefix":if(e[0]&&e[0].type===tu.FENCED){const s=e.shift();return _p(s)||(s.role=su.LEFTRIGHT),n=Tp.getInstance().functionNode_(t,s),e.unshift(n),e}if(r=Fu(e,$u),r.head.length)i=Tp.getInstance().row(r.head),r.div&&r.tail.unshift(r.div);else{if(!r.div||!zu(r.div,tu.APPL))return e.unshift(t),e;i=r.div}return n=Tp.getInstance().functionNode_(t,i),r.tail.unshift(n),r.tail;case"bigop":return r=Fu(e,Ju),r.head.length?(i=Tp.getInstance().row(r.head),n=Tp.getInstance().bigOpNode_(t,i),r.div&&r.tail.unshift(r.div),r.tail.unshift(n),r.tail):(e.unshift(t),e);default:{if(0===e.length)return[t];const s=e[0];return s.type===tu.FENCED&&!_p(s)&&function(t){const e=t.childNodes;if(0===e.length)return!0;if(e.length>1)return!1;const s=e[0];if(s.type===tu.INFIXOP){if(s.role!==su.IMPLICIT)return!1;if(s.childNodes.some(t=>zu(t,tu.INFIXOP)))return!1}return!0}(s)?(s.role=su.LEFTRIGHT,Tp.propagateFunctionRole_(t,su.SIMPLEFUNC),n=Tp.getInstance().functionNode_(t,e.shift()),e.unshift(n),e):(e.unshift(t),e)}}}getIntegralArgs_(t,e=[]){if(0===t.length){const t=Fu(e,Ju);return t.div&&t.tail.unshift(t.div),{integrand:t.head,intvar:null,rest:t.tail}}Ap.run("intvar_from_implicit",t);const s=t[0];if(Qu(s)){const{integrand:s,rest:r}=Tp.getInstance().getIntegralArgs_(e);return{integrand:s,intvar:null,rest:r.concat(t)}}if(Yu(s))return s.role=su.INTEGRAL,{integrand:e,intvar:s,rest:t.slice(1)};if(t[1]&&Ku(s,t[1])){const r=Tp.getInstance().prefixNode_(t[1],[s]);return r.role=su.INTEGRAL,{integrand:e,intvar:r,rest:t.slice(2)}}return e.push(t.shift()),Tp.getInstance().getIntegralArgs_(t,e)}functionNode_(t,e){const s=Tp.getInstance().factory_.makeContentNode(cu.functionApplication),r=Tp.getInstance().funcAppls[t.id];r&&(s.mathmlTree=r.mathmlTree,s.mathml=r.mathml,s.annotation=r.annotation,s.attributes=r.attributes,delete Tp.getInstance().funcAppls[t.id]),s.type=tu.PUNCTUATION,s.role=su.APPLICATION;const i=Tp.getFunctionOp_(t,function(t){return zu(t,tu.FUNCTION)||zu(t,tu.IDENTIFIER)&&Vu(t,su.SIMPLEFUNC)});return Tp.getInstance().functionalNode_(tu.APPL,[t,e],i,[s])}bigOpNode_(t,e){const s=Tp.getFunctionOp_(t,t=>zu(t,tu.LARGEOP));return Tp.getInstance().functionalNode_(tu.BIGOP,[t,e],s,[])}integralNode_(t,e,s){e=e||Tp.getInstance().factory_.makeEmptyNode(),s=s||Tp.getInstance().factory_.makeEmptyNode();const r=Tp.getFunctionOp_(t,t=>zu(t,tu.LARGEOP));return Tp.getInstance().functionalNode_(tu.INTEGRAL,[t,e,s],r,[])}functionalNode_(t,e,s,r){const i=e[0];let n;s&&(n=s.parent,r.push(s));const o=Tp.getInstance().factory_.makeBranchNode(t,e,r);return o.role=i.role,n&&(s.parent=n),o}fractionNode_(t,e){const s=Tp.getInstance().factory_.makeBranchNode(tu.FRACTION,[t,e],[]);return s.role=s.childNodes.every(function(t){return zu(t,tu.NUMBER)&&Vu(t,su.INTEGER)})?su.VULGAR:s.childNodes.every(xp)?su.UNIT:su.DIVISION,Ap.run("propagateSimpleFunction",s)}scriptNode_(t,e,s){let r;switch(t.length){case 0:r=Tp.getInstance().factory_.makeEmptyNode();break;case 1:if(r=t[0],s)return r;break;default:r=Tp.getInstance().dummyNode_(t)}return r.role=e,r}findNestedRow_(t,e,s,r){if(s>3)return null;for(let i,n=0;i=t[n];n++){const t=Dd(i);if(t!==wu.MSPACE){if(t===wu.MROW)return Tp.getInstance().findNestedRow_(Md(i.childNodes),e,s+1,r);if(Tp.findSemantics(i,e,r))return i}}return null}}Tp.FENCE_TO_PUNCT_={[su.METRIC]:su.METRIC,[su.NEUTRAL]:su.VBAR,[su.OPEN]:su.OPENFENCE,[su.CLOSE]:su.CLOSEFENCE},Tp.MML_TO_LIMIT_={[wu.MSUB]:{type:tu.LIMLOWER,length:1},[wu.MUNDER]:{type:tu.LIMLOWER,length:1},[wu.MSUP]:{type:tu.LIMUPPER,length:1},[wu.MOVER]:{type:tu.LIMUPPER,length:1},[wu.MSUBSUP]:{type:tu.LIMBOTH,length:2},[wu.MUNDEROVER]:{type:tu.LIMBOTH,length:2}},Tp.MML_TO_BOUNDS_={[wu.MSUB]:{type:tu.SUBSCRIPT,length:1,accent:!1},[wu.MSUP]:{type:tu.SUPERSCRIPT,length:1,accent:!1},[wu.MSUBSUP]:{type:tu.SUBSCRIPT,length:2,accent:!1},[wu.MUNDER]:{type:tu.UNDERSCORE,length:1,accent:!0},[wu.MOVER]:{type:tu.OVERSCORE,length:1,accent:!0},[wu.MUNDEROVER]:{type:tu.UNDERSCORE,length:2,accent:!0}},Tp.CLASSIFY_FUNCTION_={[su.INTEGRAL]:"integral",[su.SUM]:"bigop",[su.PREFIXFUNC]:"prefix",[su.LIMFUNC]:"prefix",[su.SIMPLEFUNC]:"prefix",[su.COMPFUNC]:"prefix"},Tp.MATHJAX_FONTS={"-tex-caligraphic":iu.CALIGRAPHIC,"-tex-caligraphic-bold":iu.CALIGRAPHICBOLD,"-tex-calligraphic":iu.CALIGRAPHIC,"-tex-calligraphic-bold":iu.CALIGRAPHICBOLD,"-tex-oldstyle":iu.OLDSTYLE,"-tex-oldstyle-bold":iu.OLDSTYLEBOLD,"-tex-mathit":iu.ITALIC};class Mp extends Gu{static getAttribute_(t,e,s){if(!t.hasAttribute(e))return s;const r=t.getAttribute(e);return r.match(/^\s*$/)?null:r}constructor(t){super("MathML"),this.options=t,Ap.options=t,this.parseMap_=new Map([[wu.SEMANTICS,this.semantics_.bind(this)],[wu.MATH,this.rows_.bind(this)],[wu.MROW,this.rows_.bind(this)],[wu.MPADDED,this.rows_.bind(this)],[wu.MSTYLE,this.rows_.bind(this)],[wu.MFRAC,this.fraction_.bind(this)],[wu.MSUB,this.limits_.bind(this)],[wu.MSUP,this.limits_.bind(this)],[wu.MSUBSUP,this.limits_.bind(this)],[wu.MOVER,this.limits_.bind(this)],[wu.MUNDER,this.limits_.bind(this)],[wu.MUNDEROVER,this.limits_.bind(this)],[wu.MROOT,this.root_.bind(this)],[wu.MSQRT,this.sqrt_.bind(this)],[wu.MTABLE,this.table_.bind(this)],[wu.MLABELEDTR,this.tableLabeledRow_.bind(this)],[wu.MTR,this.tableRow_.bind(this)],[wu.MTD,this.tableCell_.bind(this)],[wu.MS,this.text_.bind(this)],[wu.MTEXT,this.text_.bind(this)],[wu.MSPACE,this.space_.bind(this)],[wu.ANNOTATIONXML,this.text_.bind(this)],[wu.MI,this.identifier_.bind(this)],[wu.MN,this.number_.bind(this)],[wu.MO,this.operator_.bind(this)],[wu.MFENCED,this.fenced_.bind(this)],[wu.MENCLOSE,this.enclosed_.bind(this)],[wu.MMULTISCRIPTS,this.multiscripts_.bind(this)],[wu.ANNOTATION,this.empty_.bind(this)],[wu.NONE,this.empty_.bind(this)],[wu.MACTION,this.action_.bind(this)]]);const e={type:tu.IDENTIFIER,role:su.NUMBERSET,font:iu.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","\u2102","\u210d","\u2115","\u2119","\u211a","\u211d","\u2124"].forEach((t=>this.getFactory().defaultMap.set(t,e)).bind(this))}parse(t){Tp.getInstance().setNodeFactory(this.getFactory());const e=Md(t.childNodes),s=Dd(t),r=this.parseMap_.get(s),i=(r||this.dummy_.bind(this))(t,e);return Du(i,t),-1!==[wu.MATH,wu.MROW,wu.MPADDED,wu.MSTYLE,wu.SEMANTICS,wu.MACTION].indexOf(s)||(i.mathml.unshift(t),i.mathmlTree=t),i}semantics_(t,e){return e.length?this.parse(e[0]):this.getFactory().makeEmptyNode()}rows_(t,e){const s=t.getAttribute("semantics");if(s&&s.match("bspr_"))return Tp.proof(t,s,this.parseList.bind(this));let r;if(1===(e=Pu(e)).length)r=this.parse(e[0]),r.type!==tu.EMPTY||r.mathmlTree||(r.mathmlTree=t);else{const s=Ap.run("function_from_identifiers",t);r=s&&s!==t?s:Tp.getInstance().row(this.parseList(e))}return r.mathml.unshift(t),r}fraction_(t,e){if(!e.length)return this.getFactory().makeEmptyNode();const s=this.parse(e[0]),r=e[1]?this.parse(e[1]):this.getFactory().makeEmptyNode();return Tp.getInstance().fractionLikeNode(s,r,t.getAttribute("linethickness"),"true"===t.getAttribute("bevelled"))}limits_(t,e){return Tp.getInstance().limitNode(Dd(t),this.parseList(e))}root_(t,e){return e[1]?this.getFactory().makeBranchNode(tu.ROOT,[this.parse(e[1]),this.parse(e[0])],[]):this.sqrt_(t,e)}sqrt_(t,e){const s=this.parseList(Pu(e));return this.getFactory().makeBranchNode(tu.SQRT,[Tp.getInstance().row(s)],[])}table_(t,e){const s=t.getAttribute("semantics");if(s&&s.match("bspr_"))return Tp.proof(t,s,this.parseList.bind(this));const r=this.getFactory().makeBranchNode(tu.TABLE,this.parseList(e),[]);return r.mathmlTree=t,Tp.tableToMultiline(r)}tableRow_(t,e){const s=this.getFactory().makeBranchNode(tu.ROW,this.parseList(e),[]);return s.role=su.TABLE,s}tableLabeledRow_(t,e){var s;if(!e.length)return this.tableRow_(t,e);const r=this.parse(e[0]);r.role=su.LABEL,(null===(s=r.childNodes[0])||void 0===s?void 0:s.type)===tu.TEXT&&(r.childNodes[0].role=su.LABEL);const i=this.getFactory().makeBranchNode(tu.ROW,this.parseList(e.slice(1)),[r]);return i.role=su.TABLE,i}tableCell_(t,e){const s=this.parseList(Pu(e));let r;r=s.length?1===s.length&&zu(s[0],tu.EMPTY)?s:[Tp.getInstance().row(s)]:[];const i=this.getFactory().makeBranchNode(tu.CELL,r,[]);return i.role=su.TABLE,i}space_(t,e){const s=t.getAttribute("width"),r=s&&s.match(/[a-z]*$/);if(!r)return this.empty_(t,e);const i=r[0],n=parseFloat(s.slice(0,r.index)),o={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[i];if(!o||isNaN(n)||n<o)return this.empty_(t,e);const a=this.getFactory().makeUnprocessed(t);return Tp.getInstance().text(a,Dd(t))}text_(t,e){const s=this.leaf_(t,e);return t.textContent?(s.updateContent(t.textContent,!0),Tp.getInstance().text(s,Dd(t))):s}identifier_(t,e){const s=this.leaf_(t,e);return Tp.getInstance().identifierNode(s,Tp.getInstance().font(t.getAttribute("mathvariant")),t.getAttribute("class"))}number_(t,e){const s=this.leaf_(t,e);return Tp.number(s),s}operator_(t,e){const s=this.leaf_(t,e);return Tp.getInstance().operatorNode(s),s}fenced_(t,e){const s=this.parseList(Pu(e)),r=Mp.getAttribute_(t,"separators",","),i=Mp.getAttribute_(t,"open","("),n=Mp.getAttribute_(t,"close",")"),o=Tp.getInstance().mfenced(i,n,r,s);return Tp.getInstance().tablesInRow([o])[0]}enclosed_(t,e){const s=this.parseList(Pu(e)),r=this.getFactory().makeBranchNode(tu.ENCLOSE,[Tp.getInstance().row(s)],[]);return r.role=t.getAttribute("notation")||su.UNKNOWN,r}multiscripts_(t,e){if(!e.length)return this.getFactory().makeEmptyNode();const s=this.parse(e.shift());if(!e.length)return s;const r=[],i=[],n=[],o=[];let a=!1,c=0;for(let t,s=0;t=e[s];s++)Dd(t)!==wu.MPRESCRIPTS?(a?1&c?r.push(t):i.push(t):1&c?n.push(t):o.push(t),c++):(a=!0,c=0);return Pu(r).length||Pu(i).length?Tp.getInstance().tensor(s,this.parseList(i),this.parseList(r),this.parseList(o),this.parseList(n)):Tp.getInstance().pseudoTensor(s,this.parseList(o),this.parseList(n))}empty_(t,e){return this.getFactory().makeEmptyNode()}action_(t,e){const s=e[t.hasAttribute("selection")?parseInt(t.getAttribute("selection"),10)-1:0],r=this.parse(s);return r.mathmlTree=s,r}dummy_(t,e){const s=this.getFactory().makeUnprocessed(t);return s.role=t.tagName,s.textContent=t.textContent,s}leaf_(t,e){if(1===e.length&&e[0].nodeType!==Ld.TEXT_NODE){const s=this.getFactory().makeUnprocessed(t);return s.role=e[0].tagName,Du(s,e[0]),s}const s=this.getFactory().makeLeafNode(t.textContent,Tp.getInstance().font(t.getAttribute("mathvariant")));return t.hasAttribute("data-latex")&&du.LatexCommands.set(t.getAttribute("data-latex"),t.textContent),s}}class Sp{constructor(t,e,s=t=>!1){this.name=t,this.apply=e,this.applicable=s}}class Lp extends Sp{}class Ip extends Sp{}function Rp(t,e){const s=[];for(;t.length||e.length;)t.length&&s.push(t.shift()),e.length&&s.push(e.shift());return s}const Op="data-semantic-";var Pp;!function(t){t.ADDED="data-semantic-added",t.ALTERNATIVE="data-semantic-alternative",t.CHILDREN="data-semantic-children",t.COLLAPSED="data-semantic-collapsed",t.CONTENT="data-semantic-content",t.EMBELLISHED="data-semantic-embellished",t.FENCEPOINTER="data-semantic-fencepointer",t.FONT="data-semantic-font",t.ID="data-semantic-id",t.ANNOTATION="data-semantic-annotation",t.ATTRIBUTES="data-semantic-attributes",t.OPERATOR="data-semantic-operator",t.OWNS="data-semantic-owns",t.PARENT="data-semantic-parent",t.POSTFIX="data-semantic-postfix",t.PREFIX="data-semantic-prefix",t.ROLE="data-semantic-role",t.SPEECH="data-semantic-speech",t.STRUCTURE="data-semantic-structure",t.SUMMARY="data-semantic-summary",t.TYPE="data-semantic-type"}(Pp||(Pp={}));const Dp=[Pp.ADDED,Pp.ALTERNATIVE,Pp.CHILDREN,Pp.COLLAPSED,Pp.CONTENT,Pp.EMBELLISHED,Pp.FENCEPOINTER,Pp.FONT,Pp.ID,Pp.ANNOTATION,Pp.ATTRIBUTES,Pp.OPERATOR,Pp.OWNS,Pp.PARENT,Pp.POSTFIX,Pp.PREFIX,Pp.ROLE,Pp.SPEECH,Pp.STRUCTURE,Pp.SUMMARY,Pp.TYPE];function Bp(t){return t.map(function(t){return t.id}).join(",")}function Fp(t,e){t.setAttribute(Pp.TYPE,e.type);const s=e.allAttributes();for(let e,r=0;e=s[r];r++)t.setAttribute(Op+e[0].toLowerCase(),e[1]);e.childNodes.length&&t.setAttribute(Pp.CHILDREN,Bp(e.childNodes)),e.contentNodes.length&&t.setAttribute(Pp.CONTENT,Bp(e.contentNodes)),e.parent&&t.setAttribute(Pp.PARENT,e.parent.id.toString());const r=e.attributesXml();r&&t.setAttribute(Pp.ATTRIBUTES,r),function(t,e){const s=[];e.role===su.MGLYPH&&s.push("image");e.attributes.href&&s.push("link");s.length&&t.setAttribute(Pp.POSTFIX,s.join(" "))}(t,e)}function qp(){const t=Rd("mrow");return t.setAttribute(Pp.ADDED,"true"),t}class jp{static fromTree(t){return jp.fromNode(t.root)}static fromNode(t){return new jp(jp.fromNode_(t))}static fromString(t){return new jp(jp.fromString_(t))}static simpleCollapseStructure(t){return"number"==typeof t}static contentCollapseStructure(t){return!!t&&!jp.simpleCollapseStructure(t)&&"c"===t[0]}static interleaveIds(t,e){return Rp(jp.collapsedLeafs(t),jp.collapsedLeafs(e))}static collapsedLeafs(...t){return t.reduce((t,e)=>{return t.concat((s=e,jp.simpleCollapseStructure(s)?[s]:jp.contentCollapseStructure(s[1])?s.slice(2):s.slice(1)));var s},[])}static fromStructure(t,e,s){return new jp(jp.tree_(t,e.root,s))}static combineContentChildren(t,e,s,r){switch(t){case tu.RELSEQ:case tu.INFIXOP:case tu.MULTIREL:return Rp(r,s);case tu.PREFIXOP:return s.concat(r);case tu.POSTFIXOP:return r.concat(s);case tu.MATRIX:case tu.VECTOR:case tu.FENCED:return r.unshift(s[0]),r.push(s[1]),r;case tu.CASES:return r.unshift(s[0]),r;case tu.APPL:return[r[0],s[0],r[1]];case tu.ROOT:return[r[0],r[1]];case tu.ROW:case tu.LINE:return s.length&&r.unshift(s[0]),r;default:return r}}static makeSexp_(t){return jp.simpleCollapseStructure(t)?t.toString():jp.contentCollapseStructure(t)?"(c "+t.slice(1).map(jp.makeSexp_).join(" ")+")":"("+t.map(jp.makeSexp_).join(" ")+")"}static fromString_(t){let e=t.replace(/\(/g,"[");return e=e.replace(/\)/g,"]"),e=e.replace(/ /g,","),e=e.replace(/c/g,'"c"'),JSON.parse(e)}static fromNode_(t){if(!t)return[];const e=t.contentNodes;let s;e.length&&(s=e.map(jp.fromNode_),s.unshift("c"));const r=t.childNodes;if(!r.length)return e.length?[t.id,s]:t.id;const i=r.map(jp.fromNode_);return e.length&&i.unshift(s),i.unshift(t.id),i}static tree_(t,e,s,r=0,i=1,n=1){if(!e)return[];const o=e.id,a=[o];!function(t){if(_d.getInstance().mode!==od.HTTP)return;let e=t;for(;e&&!e.evaluate;)e=e.parentNode;e&&e.evaluate?wd.currentDocument=e:t.ownerDocument&&(wd.currentDocument=t.ownerDocument)}(t);const c=function(t,e){let s;try{s=Td(t,e,wd.result.ORDERED_NODE_ITERATOR_TYPE)}catch(t){return[]}const r=[];for(let t=s.iterateNext();t;t=s.iterateNext())r.push(t);return r}(`.//self::*[@${Pp.ID}=${o}]`,t)[0];if(!e.childNodes.length)return jp.addAria(c,r,i,n,s),e.id;const l=jp.combineContentChildren(e.type,e.role,e.contentNodes.map(function(t){return t}),e.childNodes.map(function(t){return t}));c&&jp.addOwns_(c,l);for(let e,i=0,n=l.length;e=l[i];i++)a.push(jp.tree_(t,e,s,r+1,i+1,n));return jp.addAria(c,r,i,n,s),a}static addAria(t,e,s,r,i){const n=i.tree?e?"treeitem":"tree":"treeitem";i.aria&&t&&(t.setAttribute("aria-level",e.toString()),t.setAttribute("aria-posinset",s.toString()),t.setAttribute("aria-setsize",r.toString()),t.setAttribute("role",n),t.hasAttribute(Pp.OWNS)&&t.setAttribute("aria-owns",t.getAttribute(Pp.OWNS)))}static addOwns_(t,e){const s=t.getAttribute(Pp.COLLAPSED),r=s?jp.realLeafs_(jp.fromString(s).array):e.map(t=>t.id);t.setAttribute(Pp.OWNS,r.join(" "))}static realLeafs_(t){if(jp.simpleCollapseStructure(t))return[t];if(jp.contentCollapseStructure(t))return[];let e=[];for(let s=1;s<t.length;s++)e=e.concat(jp.realLeafs_(t[s]));return e}constructor(t){this.parents=null,this.levelsMap=null,t=0===t?t:t||[],this.array=t}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return jp.makeSexp_(this.array)}populate_(t,e,s){if(jp.simpleCollapseStructure(t))return this.levelsMap[t]=e,void(this.parents[t]=t===s[0]?s.slice(1):s);const r=jp.contentCollapseStructure(t)?t.slice(1):t,i=[r[0]].concat(s);for(let e=0,s=r.length;e<s;e++){const s=r[e];this.populate_(s,t,i)}}isRoot(t){return t===this.levelsMap[t][0]}directChildren(t){if(!this.isRoot(t))return[];return this.levelsMap[t].slice(1).map(t=>jp.simpleCollapseStructure(t)?t:jp.contentCollapseStructure(t)?t[1]:t[0])}subtreeNodes(t){if(!this.isRoot(t))return[];const e=(t,s)=>{jp.simpleCollapseStructure(t)?s.push(t):(jp.contentCollapseStructure(t)&&(t=t.slice(1)),t.forEach(t=>e(t,s)))},s=this.levelsMap[t],r=[];return e(s.slice(1),r),r}}function Up(t,e,s){let r=null;if(!t.length)return r;const i=s[s.length-1],n=i&&i.length,o=e&&e.length,a=Tp.getInstance();if(n&&o){if(e[0].type===tu.INFIXOP&&e[0].role===su.IMPLICIT)return r=t.pop(),i.push(a.postfixNode_(i.pop(),t)),r;r=t.shift();const s=a.prefixNode_(e.shift(),t);return e.unshift(s),r}return n?(i.push(a.postfixNode_(i.pop(),t)),r):(o&&e.unshift(a.prefixNode_(e.shift(),t)),r)}function Hp(t,e,s){if(!e.length)return t;const r=t.pop(),i=e.shift(),n=s.shift();if(i.type===tu.INFIXOP&&(i.role===su.IMPLICIT||i.role===su.UNIT)){gd.getInstance().output("Juxta Heuristic Case 2");const o=(r?[r,i]:[i]).concat(n);return Hp(t.concat(o),e,s)}if(!r)return gd.getInstance().output("Juxta Heuristic Case 3"),Hp([i].concat(n),e,s);const o=n.shift();if(!o){gd.getInstance().output("Juxta Heuristic Case 9");const n=Ap.factory.makeBranchNode(tu.INFIXOP,[r,e.shift()],[i],i.textContent);return n.role=su.IMPLICIT,Ap.run("combine_juxtaposition",n),e.unshift(n),Hp(t,e,s)}if(tp(r)||tp(o))return gd.getInstance().output("Juxta Heuristic Case 4"),Hp(t.concat([r,i,o]).concat(n),e,s);let a=null;return Np(r)&&Np(o)?(gd.getInstance().output("Juxta Heuristic Case 5"),r.contentNodes.push(i),r.contentNodes=r.contentNodes.concat(o.contentNodes),r.childNodes.push(o),r.childNodes=r.childNodes.concat(o.childNodes),o.childNodes.forEach(t=>t.parent=r),i.parent=r,r.addMathmlNodes(i.mathml),r.addMathmlNodes(o.mathml),a=r):Np(r)?(gd.getInstance().output("Juxta Heuristic Case 6"),r.contentNodes.push(i),r.childNodes.push(o),o.parent=r,i.parent=r,r.addMathmlNodes(i.mathml),r.addMathmlNodes(o.mathml),a=r):Np(o)?(gd.getInstance().output("Juxta Heuristic Case 7"),o.contentNodes.unshift(i),o.childNodes.unshift(r),r.parent=o,i.parent=o,o.addMathmlNodes(i.mathml),o.addMathmlNodes(r.mathml),a=o):(gd.getInstance().output("Juxta Heuristic Case 8"),a=Ap.factory.makeBranchNode(tu.INFIXOP,[r,o],[i],i.textContent),a.role=su.IMPLICIT),t.push(a),Hp(t.concat(n),e,s)}function Gp(t){return t.childNodes[0]&&t.childNodes[0].childNodes[0]&&Dd(t.childNodes[0])===wu.MPADDED&&Dd(t.childNodes[0].childNodes[0])===wu.MPADDED&&Dd(t.childNodes[0].childNodes[t.childNodes[0].childNodes.length-1])===wu.MPHANTOM}Ap.add(new Lp("combine_juxtaposition",function(t){for(let e,s=t.childNodes.length-1;e=t.childNodes[s];s--)Np(e)&&!e.nobreaking&&(t.childNodes.splice(s,1,...e.childNodes),t.contentNodes.splice(s,0,...e.contentNodes),e.childNodes.concat(e.contentNodes).forEach(function(e){e.parent=t}),t.addMathmlNodes(e.mathml));return t})),Ap.add(new Lp("propagateSimpleFunction",t=>(t.type!==tu.INFIXOP&&t.type!==tu.FRACTION||!t.childNodes.every(pp)||(t.role=su.COMPFUNC),t),t=>"clearspeak"===Ap.options.domain)),Ap.add(new Lp("simpleNamedFunction",t=>(t.role!==su.UNIT&&-1!==["f","g","h","F","G","H"].indexOf(t.textContent)&&(t.role=su.SIMPLEFUNC),t),t=>"clearspeak"===Ap.options.domain)),Ap.add(new Lp("propagateComposedFunction",t=>(t.type===tu.FENCED&&t.childNodes[0].role===su.COMPFUNC&&(t.role=su.COMPFUNC),t),t=>"clearspeak"===Ap.options.domain)),Ap.add(new Lp("multioperator",t=>{t.role!==su.UNKNOWN||t.textContent.length<=1||(Tp.compSemantics(t,"role",su),Tp.compSemantics(t,"type",tu))})),Ap.add(new Ip("convert_juxtaposition",t=>{let e=qu(t,function(t){return t.textContent===cu.invisibleTimes&&t.type===tu.OPERATOR});e=e.rel.length?function(t){const e=[],s=[];let r=t.comp.shift(),i=null,n=[];for(;t.comp.length;)if(n=[],r.length)i&&e.push(i),s.push(r),i=t.rel.shift(),r=t.comp.shift();else{for(i&&n.push(i);!r.length&&t.comp.length;)r=t.comp.shift(),n.push(t.rel.shift());i=Up(n,r,s)}n.length||r.length?(e.push(i),s.push(r)):(n.push(i),Up(n,r,s));return{rel:e,comp:s}}(e):e,t=e.comp[0];for(let s,r,i=1;s=e.comp[i],r=e.rel[i-1];i++)t.push(r),t=t.concat(s);return e=qu(t,function(t){return t.textContent===cu.invisibleTimes&&(t.type===tu.OPERATOR||t.type===tu.INFIXOP)}),e.rel.length?Hp(e.comp.shift(),e.rel,e.comp):t})),Ap.add(new Lp("simple2prefix",t=>(t.textContent.length>1&&!t.textContent[0].match(/[A-Z]/)&&(t.role=su.PREFIXFUNC),t),t=>"braille"===Ap.options.modality&&t.type===tu.IDENTIFIER)),Ap.add(new Lp("detect_cycle",t=>{t.type=tu.MATRIX,t.role=su.CYCLE;const e=t.childNodes[0];return e.type=tu.ROW,e.role=su.CYCLE,e.textContent="",e.contentNodes=[],t},t=>t.type===tu.FENCED&&t.childNodes[0].type===tu.INFIXOP&&t.childNodes[0].role===su.IMPLICIT&&t.childNodes[0].childNodes.every(function(t){return t.type===tu.NUMBER})&&t.childNodes[0].contentNodes.every(function(t){return t.role===su.SPACE}))),Ap.add(new Ip("intvar_from_implicit",function(t){const e=t[0].childNodes;t.splice(0,1,...e)},t=>t[0]&&yp(t[0]))),Ap.add(new Lp("intvar_from_fraction",function(t){const e=t.childNodes[1],s=e.childNodes[0];if(Yu(s))return void(s.role=su.INTEGRAL);if(!yp(s))return;const r=s.childNodes.length,i=s.childNodes[r-2],n=s.childNodes[r-1];if(Yu(n))return void(n.role=su.INTEGRAL);if(Ku(i,n)){const t=Tp.getInstance().prefixNode_(n,[i]);t.role=su.INTEGRAL,2===r?e.childNodes[0]=t:(s.childNodes.pop(),s.contentNodes.pop(),s.childNodes[r-2]=t,t.parent=s)}},t=>{if(t.type!==tu.INTEGRAL)return!1;const[,e,s]=t.childNodes;return s.type===tu.EMPTY&&e.type===tu.FRACTION})),Ap.add(new Lp("rewrite_subcases",function(t){t.addAnnotation("Emph","top");let e=[];if(t.hasAnnotation("Emph","left")){const s=Wp(t.childNodes[0].childNodes[0].childNodes[0],!0);s.forEach(t=>t.addAnnotation("Emph","left")),e=e.concat(s);for(let e,s=0;e=t.childNodes[s];s++)e.childNodes.shift()}if(e.push(t),t.hasAnnotation("Emph","right")){const s=Wp(t.childNodes[0].childNodes[t.childNodes[0].childNodes.length-1].childNodes[0]);s.forEach(t=>t.addAnnotation("Emph","left")),e=e.concat(s),t.childNodes[0].childNodes.pop()}Tp.tableToMultiline(t);const s=Tp.getInstance().row(e),r=t.annotation.Emph;return t.annotation.Emph=["table"],r.forEach(t=>s.addAnnotation("Emph",t)),s},t=>{let e=!0,s=!0;if(Gp(t.childNodes[0].childNodes[0].mathmlTree)){for(let s,r=1;s=t.childNodes[r];r++)if(s.childNodes[0].childNodes.length){e=!1;break}}else e=!1;e&&t.addAnnotation("Emph","left");if(Gp(t.childNodes[0].childNodes[t.childNodes[0].childNodes.length-1].mathmlTree)){const e=t.childNodes[0].childNodes.length;for(let r,i=1;r=t.childNodes[i];i++)if(r.childNodes.length>=e){s=!1;break}}else s=!1;return s&&t.addAnnotation("Emph","right"),e||s}));const zp=[tu.PUNCTUATED,tu.RELSEQ,tu.MULTIREL,tu.INFIXOP,tu.PREFIXOP,tu.POSTFIXOP];function Wp(t,e){if(!t.childNodes.length)return Xp(t),[t];let s=null;if(t.type===tu.PUNCTUATED&&(e?t.role===su.ENDPUNCT:t.role===su.STARTPUNCT)){const r=t.childNodes;Xp(r[e?r.length-1:0])&&(t=r[e?0:r.length-1],s=r[e?r.length-1:0])}if(-1!==zp.indexOf(t.type)){const r=t.childNodes;Xp(r[e?r.length-1:0]);const i=jp.combineContentChildren(t.type,t.role,t.contentNodes,t.childNodes);return s&&(e?i.push(s):i.unshift(s)),i}return s?e?[t,s]:[s,t]:[t]}const Vp={[su.METRIC]:su.METRIC,[su.VBAR]:su.NEUTRAL,[su.OPENFENCE]:su.OPEN,[su.CLOSEFENCE]:su.CLOSE};function Xp(t){if(t.type!==tu.PUNCTUATION)return!1;const e=Vp[t.role];return!!e&&(t.role=e,t.type=tu.FENCE,t.addAnnotation("Emph","fence"),!0)}function $p(t,e,s,r=s){const i=[];for(;t&&t.role===s;)i.push(t),t=e.shift();return i.length?(t&&e.unshift(t),[1===i.length?i[0]:Jp(i,r),e]):[t,e]}function Jp(t,e){const s=Ap.factory.makeBranchNode(tu.PUNCTUATION,t,[]);return s.role=e,s}function Kp(t){return["[","\uff3b"].includes(t)}function Yp(t){return["]","\uff3d"].includes(t)}function Qp(t){return["(","\u207d","\u208d"].includes(t)}function Zp(t){return[")","\u207e","\u208e"].includes(t)}function tm(t){return t.role===su.INFTY||t.type===tu.PREFIXOP&&t.childNodes[0].role===su.INFTY}function em(t){const e=t.childNodes[0];if(t.type!==tu.FENCED||(null==e?void 0:e.type)!==tu.PUNCTUATED||3!==(null==e?void 0:e.childNodes.length)||1!==(null==e?void 0:e.contentNodes.length)||(null==e?void 0:e.childNodes[1].role)!==su.COMMA)return!1;const s=t.childNodes[0].childNodes[0],r=t.childNodes[0].childNodes[2],i=t.contentNodes[0].textContent,n=t.contentNodes[1].textContent;return!!(Kp(i)&&Zp(n)||Qp(i)&&Yp(n))||!(!Qp(i)||!Zp(n)||!tm(s)&&!tm(r))}function sm(t){return om(t)||function(t){return im(t)||t.type===tu.INFIXOP&&t.role===su.IMPLICIT&&(2===t.childNodes.length&&(im(t.childNodes[0])||om(t.childNodes[0]))&&im(t.childNodes[1])||3===t.childNodes.length&&om(t.childNodes[0])&&im(t.childNodes[1])&&im(t.childNodes[2]))}(t)||function(t){return t.type===tu.PUNCTUATED&&t.role===su.ENDPUNCT&&2===t.childNodes.length&&t.childNodes[1].role===su.DEGREE&&(im(t.childNodes[0])||nm(t.childNodes[0])||t.childNodes[0].type===tu.PREFIXOP&&t.childNodes[0].role===su.NEGATIVE&&(im(t.childNodes[0].childNodes[0])||nm(t.childNodes[0].childNodes[0])))}(t)||function(t){return t.type===tu.PREFIXOP&&t.role===su.NEGATIVE&&rm(t.childNodes[0])&&t.childNodes[0].type!==tu.PREFIXOP&&t.childNodes[0].type!==tu.APPL&&t.childNodes[0].type!==tu.PUNCTUATED}(t)||function(t){return t.type===tu.APPL&&(t.childNodes[0].role===su.PREFIXFUNC||t.childNodes[0].role===su.SIMPLEFUNC)&&(rm(t.childNodes[1])||t.childNodes[1].type===tu.FENCED&&rm(t.childNodes[1].childNodes[0]))}(t)}function rm(t){return t.hasAnnotation("clearspeak","simple")}function im(t){return t.type===tu.IDENTIFIER&&(t.role===su.LATINLETTER||t.role===su.GREEKLETTER||t.role===su.OTHERLETTER||t.role===su.SIMPLEFUNC)}function nm(t){return t.type===tu.NUMBER&&(t.role===su.INTEGER||t.role===su.FLOAT)}function om(t){return nm(t)||function(t){if(am("Fraction_Over")||am("Fraction_FracOver"))return!1;if(t.type!==tu.FRACTION||t.role!==su.VULGAR)return!1;if(am("Fraction_Ordinal"))return!0;const e=parseInt(t.childNodes[0].textContent,10),s=parseInt(t.childNodes[1].textContent,10);return e>0&&e<20&&s>0&&s<11}(t)}function am(t){return _d.getInstance().options.style===t}function cm(t){return t.type===tu.TEXT&&t.role!==su.LABEL||t.type===tu.PUNCTUATED&&t.role===su.TEXT&&nm(t.childNodes[0])&&function(t){for(let e=0;e<t.length-1;e++)if(t[e].type!==tu.TEXT||""!==t[e].textContent)return!1;return t[t.length-1].type===tu.TEXT}(t.childNodes.slice(1))||t.type===tu.IDENTIFIER&&t.role===su.UNIT||t.type===tu.INFIXOP&&(t.role===su.IMPLICIT||t.role===su.UNIT)}Ap.add(new Ip("ellipses",t=>{const e=[];let s=t.shift();for(;s;)[s,t]=$p(s,t,su.FULLSTOP,su.ELLIPSIS),[s,t]=$p(s,t,su.DASH),e.push(s),s=t.shift();return e},t=>t.length>1)),Ap.add(new Ip("op_with_limits",t=>{const e=t[0];return e.type=tu.LARGEOP,e.role=su.SUM,t},t=>t[0].type===tu.OPERATOR&&t.slice(1).some(t=>t.type===tu.RELSEQ||t.type===tu.MULTIREL||t.type===tu.INFIXOP&&t.role===su.ELEMENT||t.type===tu.PUNCTUATED&&t.role===su.SEQUENCE))),Ap.add(new class extends Sp{}("function_from_identifiers",t=>{const e=Md(t.childNodes).map(t=>t.textContent.trim()).join("");if(du.Meaning.get(e).type===tu.UNKNOWN)return t;const s=Ap.factory.makeLeafNode(e,Tp.getInstance().font(t.getAttribute("mathvariant")));return s.mathmlTree=t,s},t=>{const e=Md(t.childNodes);return!(e.length<2)&&e.every(t=>Dd(t)===wu.MI&&du.Meaning.get(t.textContent.trim()).role===su.LATINLETTER)})),Ap.add(new Ip("bracketed_interval",t=>{const e=t[0],s=t[1],r=t.slice(2),i=Tp.getInstance().row(r),n=Ap.factory.makeBranchNode(tu.FENCED,[i],[e,s]);return n.role=su.INTERVAL,n},t=>{const e=t[0],s=t[1],r=t.slice(2);if(!(e&&s&&(Yp(e.textContent)&&(Kp(s.textContent)||Yp(s.textContent))||Kp(s.textContent)&&(Kp(e.textContent)||Yp(e.textContent)))))return!1;if(1===r.length&&r[0].type===tu.PUNCTUATED&&1===r[0].contentNodes.length)return!0;const i=qu(r,sp);return!(1!==i.rel.length||!i.comp[0].length||!i.comp[1].length)})),Ap.add(new Lp("interval_heuristic",t=>(t.role=su.INTERVAL,t),t=>em(t))),Ap.add(new Lp("propagateInterval",t=>(t.childNodes.forEach(t=>{em(t)&&(t.role=su.INTERVAL)}),t),t=>kp(t))),Hd(new Fd("clearspeak","simple",function(t){return sm(t)?"simple":""})),Gd("clearspeak","simple"),Hd(new Fd("clearspeak","unit",function(t){return cm(t)?"unit":""})),Gd("clearspeak","unit");const lm=[tu.MULTIREL,tu.RELSEQ,tu.APPL,tu.ROW,tu.LINE],hm=[tu.SUBSCRIPT,tu.SUPERSCRIPT,tu.OVERSCORE,tu.UNDERSCORE];function dm(t,e){const s=t.parent;if(!s)return!1;const r=s.type;return-1!==lm.indexOf(r)||r===tu.PREFIXOP&&s.role===su.NEGATIVE&&!e.script&&!e.enclosed||r===tu.PREFIXOP&&s.role===su.GEOMETRY||!(r!==tu.PUNCTUATED||e.enclosed&&s.role!==su.TEXT)}Hd(new qd("nemeth","number",function(t,e){return t.childNodes.length?(-1!==hm.indexOf(t.type)&&(e.script=!0),t.type===tu.FENCED?(e.number=!1,e.enclosed=!0,["",e]):t.type===tu.PREFIXOP&&t.role!==su.GEOMETRY&&t.role!==su.NEGATIVE?(e.number=!1,["",e]):(dm(t,e)&&(e.number=!0,e.enclosed=!1),["",e])):(dm(t,e)&&(e.number=!0,e.script=!1,e.enclosed=!1),[e.number?"number":"",{number:!1,enclosed:e.enclosed,script:e.script}])},{number:!0})),Gd("nemeth","number"),Hd(new qd("depth","depth",function(t){return t.parent?[parseInt(t.parent.annotation.depth[0])+1]:[1]})),Gd("depth","depth");class um{static empty(){const t=Sd("<math/>"),e=new um(t,new xd);return e.mathml=t,e}static fromNode(t,e){const s=um.empty();return s.root=t,e&&(s.mathml=e),s}static fromRoot(t,e){let s=t;for(;s.parent;)s=s.parent;const r=um.fromNode(s);return e&&(r.mathml=e),r}static fromXml(t){const e=um.empty();return t.childNodes[0]&&(e.root=Uu.fromXml(t.childNodes[0])),e}constructor(t,e){this.mathml=t,this.options=e,this.parser=new Mp(e),this.root=this.parser.parse(t),this.collator=this.parser.getFactory().leafMap.collateMeaning();const s=this.collator.newDefault();s&&(this.parser=new Mp(e),this.parser.getFactory().defaultMap=s,this.root=this.parser.parse(t)),pm.visit(this.root,{}),function(t){for(const e of jd.values())e.active&&e.annotate(t);for(const e of Ud.values())e.active&&e.visit(t,Object.assign({},e.def))}(this.root)}xml(t){const e=Sd("<stree></stree>"),s=this.root.xml(e.ownerDocument,t);return e.appendChild(s),e}toString(t){return Bd(this.xml(t))}formatXml(t){return Od(this.toString(t))}displayTree(){this.root.displayTree()}replaceNode(t,e){const s=t.parent;s?s.replaceChild(t,e):this.root=e}toJson(){const t={};return t.stree=this.root.toJson(),t}}const pm=new qd("general","unit",(t,e)=>(Ep(t)&&(t.role=su.UNIT),!1));function mm(t,e){return new um(t,e)}const fm=[],gm=!0,bm=new Map;function xm(t){gd.getInstance().generate(()=>["WALKING START: ",t.toString()]);const e=function(t){for(let e,s=0;e=fm[s];s++)if(e.test(t))return e.constr(t);return null}(t);let s;if(e)return s=e.getMathml(),gd.getInstance().generate(()=>["WALKING END: ",t.toString()]),Mm(s);if(1===t.mathml.length){if(gd.getInstance().output("Walktree Case 0"),!t.childNodes.length)return gd.getInstance().output("Walktree Case 0.1"),s=t.mathml[0],Fp(s,t),gd.getInstance().generate(()=>["WALKING END: ",t.toString()]),Mm(s);const e=t.childNodes[0];if(1===t.childNodes.length&&e.type===tu.EMPTY)return gd.getInstance().output("Walktree Case 0.2"),s=t.mathml[0],Fp(s,t),s.appendChild(xm(e)),gd.getInstance().generate(()=>["WALKING END: ",t.toString()]),Mm(s);t.childNodes.forEach(t=>{t.mathml.length||(t.mathml=[Bm(t)])})}const r=t.contentNodes.map(Pm);Fm(t,r);const i=t.childNodes.map(xm),n=jp.combineContentChildren(t.type,t.role,r,i);if(s=t.mathmlTree,null===s)gd.getInstance().output("Walktree Case 1"),s=Em(n,t);else{const t=km(n);gd.getInstance().output("Walktree Case 2"),t?(gd.getInstance().output("Walktree Case 2.1"),s=Rm(t)):(gd.getInstance().output("Walktree Case 2.2"),s=qm(s))}return s=Dm(s),function(t,e,s){if(!e.length)return;if(1===e.length&&t===e[0])return;const r=s.role===su.IMPLICIT&&Ap.flags.combine_juxtaposition?function(t,e,s){const r=[];let i=Md(t.childNodes),n=!1;for(;i.length;){const t=i.shift();if(t.hasAttribute(Pp.TYPE)){r.push(t);continue}const s=Nm(t,e);0!==s.length&&(1!==s.length?(n?t.setAttribute("AuxiliaryImplicit",!0):n=!0,i=s.concat(i)):r.push(t))}const o=[],a=s.childNodes.map(function(t){return t.mathmlTree});for(;a.length;){const t=a.pop();if(t){if(-1!==r.indexOf(t))break;-1!==e.indexOf(t)&&o.unshift(t)}}return r.concat(o)}(t,e,s):Md(t.childNodes);if(!r.length)return void e.forEach(function(e){t.appendChild(e)});let i=0;for(;e.length;){const s=e[0];if(r[i]===s||wm(r[i],s)){e.shift(),i++;continue}if(r[i]&&-1===e.indexOf(r[i])){i++;continue}if(vm(s,t)){e.shift();continue}const n=r[i];if(!n){if(s.parentNode){t=Rm(s),e.shift();continue}const r=e[1];if(r&&r.parentNode){(t=Rm(r)).insertBefore(s,r),e.shift(),e.shift();continue}t.insertBefore(s,null),e.shift();continue}_m(t,n,s),e.shift()}}(s,n,t),bm.has(t.id)||(bm.set(t.id,!0),Fp(s,t)),gd.getInstance().generate(()=>["WALKING END: ",t.toString()]),Mm(s)}function Em(t,e){const s=function(t){const e=km(t);if(!e)return{type:Cm.INVALID,node:null};const s=km(t.slice().reverse());if(e===s)return{type:Cm.VALID,node:e};const r=Am(e),i=function(t,e){let s=0;for(;t[s]&&-1===e.indexOf(t[s]);)s++;return t.slice(0,s+1)}(r,t),n=Am(s,function(t){return-1!==i.indexOf(t)}),o=n[0],a=i.indexOf(o);if(-1===a)return{type:Cm.INVALID,node:null};return{type:i.length!==r.length?Cm.PRUNED:Tm(i[a+1],n[1])?Cm.VALID:Cm.INVALID,node:o}}(t);let r=s.node;const i=s.type;if(i!==Cm.VALID||!Ru(r)||!r.parentNode&&e.parent)if(gd.getInstance().output("Walktree Case 1.1"),r=qp(),i===Cm.PRUNED)gd.getInstance().output("Walktree Case 1.1.0"),r=function(t,e,s){let r=Sm(e);if(Lu(r)){gd.getInstance().output("Walktree Case 1.1.0.0"),ym(r,t),Md(r.childNodes).forEach(function(e){t.appendChild(e)});const e=t;t=r,r=e}const i=s.indexOf(e);return s[i]=r,Id(r,t),t.appendChild(r),s.forEach(function(e){t.appendChild(e)}),t}(r,s.node,t);else if(t[0]){gd.getInstance().output("Walktree Case 1.1.1");const e=km(t);if(e){const s=function(t,e){const s=Md(t.childNodes);let r=1/0,i=-1/0;return e.forEach(function(t){const e=s.indexOf(t);-1!==e&&(r=Math.min(r,e),i=Math.max(i,e))}),s.slice(r,i+1)}(Rm(e),t);Id(e,r),s.forEach(function(t){r.appendChild(t)})}else ym(r,t[0]),r=t[0]}return e.mathmlTree||(e.mathmlTree=r),r}function ym(t,e){for(const s of Dp)t.hasAttribute(s)&&(e.setAttribute(s,t.getAttribute(s)),t.removeAttribute(s))}function Nm(t,e){const s=[];let r=Md(t.childNodes);for(;r.length;){const t=r.shift();t.nodeType===Ld.ELEMENT_NODE&&(t.hasAttribute(Pp.TYPE)||-1!==e.indexOf(t)?s.push(t):r=Md(t.childNodes).concat(r))}return s}function _m(t,e,s){let r=e,i=Rm(r);for(;i&&i.firstChild===r&&!r.hasAttribute("AuxiliaryImplicit")&&i!==t;)r=i,i=Rm(r);i&&(i.insertBefore(s,r),r.removeAttribute("AuxiliaryImplicit"))}function vm(t,e){if(!t)return!1;do{if((t=Rm(t))===e)return!0}while(t);return!1}function wm(t,e){const s=cu.functionApplication;if(t&&e&&t.textContent&&e.textContent&&t.textContent===s&&e.textContent===s&&"true"===e.getAttribute(Pp.ADDED)){for(let s,r=0;s=t.attributes[r];r++)e.hasAttribute(s.nodeName)||e.setAttribute(s.nodeName,s.nodeValue);return Id(t,e),!0}return!1}var Cm;function km(t){let e=0,s=null;for(;!s&&e<t.length;)t[e].parentNode&&(s=t[e]),e++;return s}function Am(t,e){const s=e||(t=>!1),r=[t];for(;!s(t)&&!Lu(t)&&t.parentNode;)t=Rm(t),r.unshift(t);return r}function Tm(t,e){return!(!t||!e||t.previousSibling||e.nextSibling)}function Mm(t){for(;!Lu(t)&&Lm(t);)t=Rm(t);return t}function Sm(t){const e=Md(t.childNodes);if(!e)return t;const s=e.filter(function(t){return t.nodeType===Ld.ELEMENT_NODE&&!Iu(t)});return 1===s.length&&Ru(s[0])&&!s[0].hasAttribute(Pp.TYPE)?Sm(s[0]):t}function Lm(t){const e=Rm(t);return!(!e||!Ru(e))&&Md(e.childNodes).every(function(e){return e===t||Im(e)})}function Im(t){if(t.nodeType!==Ld.ELEMENT_NODE)return!0;if(!t||Iu(t))return!0;const e=Md(t.childNodes);return!(!Ru(t)&&e.length||function(t){return!!t&&Mu.includes(Dd(t))}(t)||t.hasAttribute(Pp.TYPE)||Ou(t))&&Md(t.childNodes).every(Im)}function Rm(t){return t.parentNode}function Om(t,e){const s=new jp(e);t.setAttribute(Pp.COLLAPSED,s.toString())}function Pm(t){if(t.mathml.length)return xm(t);const e=gm?Bm(t):qp();return t.mathml=[e],e}function Dm(t){if(Dd(t)!==wu.MFENCED)return t;const e=qp();for(let s,r=0;s=t.attributes[r];r++)-1===["open","close","separators"].indexOf(s.name)&&e.setAttribute(s.name,s.value);return Md(t.childNodes).forEach(function(t){e.appendChild(t)}),Id(t,e),e}function Bm(t){const e=Rd("mo"),s=(r=t.textContent,md.f.document.createTextNode(r));var r;return e.appendChild(s),Fp(e,t),e.setAttribute(Pp.ADDED,"true"),e}function Fm(t,e){const s=t.type+(t.textContent?","+t.textContent:"");e.forEach(function(t){qm(t).setAttribute(Pp.OPERATOR,s)})}function qm(t){const e=Md(t.childNodes);if(!e)return t;const s=e.filter(function(t){return!Im(t)}),r=[];for(let t,e=0;t=s[e];e++)if(Ru(t)&&t.getAttribute(Pp.TYPE)!==tu.PUNCTUATION){const e=qm(t);e&&e!==t&&r.push(e)}else r.push(t);return 1===r.length?r[0]:t}function jm(t){return Od(t.toString()).toString().replace(new RegExp(Op,"g"),"")}function Um(t,e){const s=!!e,r=e||[],i=t.parent,n=t.contentNodes.map(function(t){return t.id});n.unshift("c");const o=[t.id,n];for(let e,n=0;e=t.childNodes[n];n++){const t=xm(e);r.push(t);const n=qm(t);i&&!s&&n.setAttribute(Pp.PARENT,i.id.toString()),o.push(e.id)}return o}!function(t){t.VALID="valid",t.INVALID="invalid",t.PRUNED="pruned"}(Cm||(Cm={}));class Hm{constructor(t){this.semantic=t}}class Gm extends Hm{static test(t){return!t.mathmlTree&&t.type===tu.LINE&&t.role===su.BINOMIAL}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const t=this.semantic.childNodes[0];if(this.mml=xm(t),this.mml.hasAttribute(Pp.TYPE)){const t=qp();Id(this.mml,t),t.appendChild(this.mml),this.mml=t}return Fp(this.mml,this.semantic),this.mml}}class zm extends Hm{static test(t){if(!t.mathmlTree||!t.childNodes.length)return!1;const e=Dd(t.mathmlTree),s=t.childNodes[0].role;return e===wu.MSUBSUP&&s===su.SUBSUP||e===wu.MUNDEROVER&&s===su.UNDEROVER}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){const t=this.semantic.childNodes[0],e=t.childNodes[0],s=this.semantic.childNodes[1],r=t.childNodes[1],i=xm(s),n=xm(e),o=xm(r);return Fp(this.mml,this.semantic),this.mml.setAttribute(Pp.CHILDREN,Bp([e,r,s])),[n,o,i].forEach(t=>qm(t).setAttribute(Pp.PARENT,this.mml.getAttribute(Pp.ID))),this.mml.setAttribute(Pp.TYPE,t.role),Om(this.mml,[this.semantic.id,[t.id,e.id,r.id],s.id]),this.mml}}class Wm extends Hm{static multiscriptIndex(t){return t.type===tu.PUNCTUATED&&t.contentNodes[0].role===su.DUMMY?Um(t):(xm(t),t.id)}static createNone_(t){const e=Rd("none");return t&&Fp(e,t),e.setAttribute(Pp.ADDED,"true"),e}constructor(t){super(t),this.mml=t.mathmlTree}completeMultiscript(t,e){const s=Md(this.mml.childNodes).slice(1);let r=0;const i=t=>{for(const e of t){const t=s[r];if(t&&e===parseInt(t.getAttribute(Pp.ID)))t.setAttribute(Pp.PARENT,this.semantic.id.toString()),r++;else if(t&&e===parseInt(qm(t).getAttribute(Pp.ID)))qm(t).setAttribute(Pp.PARENT,this.semantic.id.toString()),r++;else{const s=this.semantic.querySelectorAll(t=>t.id===e);this.mml.insertBefore(Wm.createNone_(s[0]),t||null)}}};i(t),s[r]&&Dd(s[r])!==wu.MPRESCRIPTS?this.mml.insertBefore(s[r],Rd("mprescripts")):r++,i(e)}}class Vm extends Wm{static test(t){if(!t.mathmlTree)return!1;return Dd(t.mathmlTree)===wu.MMULTISCRIPTS&&(t.type===tu.SUPERSCRIPT||t.type===tu.SUBSCRIPT)}constructor(t){super(t)}getMathml(){let t,e,s;if(Fp(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===su.SUBSUP){const r=this.semantic.childNodes[0];t=r.childNodes[0],e=Wm.multiscriptIndex(this.semantic.childNodes[1]),s=Wm.multiscriptIndex(r.childNodes[1]);const i=[this.semantic.id,[r.id,t.id,s],e];Om(this.mml,i),this.mml.setAttribute(Pp.TYPE,r.role),this.completeMultiscript(jp.interleaveIds(s,e),[])}else{t=this.semantic.childNodes[0],e=Wm.multiscriptIndex(this.semantic.childNodes[1]);const s=[this.semantic.id,t.id,e];Om(this.mml,s)}const r=jp.collapsedLeafs(s||[],e);return qm(xm(t)).setAttribute(Pp.PARENT,this.semantic.id.toString()),r.unshift(t.id),this.mml.setAttribute(Pp.CHILDREN,r.join(",")),this.mml}}class Xm extends Wm{static test(t){return!!t.mathmlTree&&t.type===tu.TENSOR}constructor(t){super(t)}getMathml(){xm(this.semantic.childNodes[0]);const t=Wm.multiscriptIndex(this.semantic.childNodes[1]),e=Wm.multiscriptIndex(this.semantic.childNodes[2]),s=Wm.multiscriptIndex(this.semantic.childNodes[3]),r=Wm.multiscriptIndex(this.semantic.childNodes[4]);Fp(this.mml,this.semantic);const i=[this.semantic.id,this.semantic.childNodes[0].id,t,e,s,r];Om(this.mml,i);const n=jp.collapsedLeafs(t,e,s,r);return n.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(Pp.CHILDREN,n.join(",")),this.completeMultiscript(jp.interleaveIds(s,r),jp.interleaveIds(t,e)),this.mml}}class $m extends Hm{static test(t){return!(!t.mathmlTree||!t.fencePointer||t.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(t){const e=qp(),s=new Uu(t);return s.type=tu.EMPTY,s.mathmlTree=e,s}static fencedMap_(t,e){e[t.id]=t.mathmlTree,t.embellished&&$m.fencedMap_(t.childNodes[0],e)}constructor(t){super(t),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){this.getFenced_(),this.fencedMml=xm(this.fenced),this.getFencesMml_(),this.fenced.type!==tu.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(Pp.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_();return this.rewrite_()}fencedElement(t){return t.type===tu.FENCED||t.type===tu.MATRIX||t.type===tu.VECTOR}getFenced_(){let t=this.semantic;for(;!this.fencedElement(t);)t=t.childNodes[0];this.fenced=t.childNodes[0],this.ofence=t.contentNodes[0],this.cfence=t.contentNodes[1],$m.fencedMap_(this.ofence,this.ofenceMap),$m.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let t=this.ofenceMml.nextSibling;for(t=t===this.fencedMml?t:this.fencedMml;t&&t!==this.cfenceMml;)this.fencedMmlNodes.push(t),t=t.nextSibling}getFencesMml_(){let t=this.semantic;const e=Object.keys(this.ofenceMap),s=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||t===this.fenced);)-1===e.indexOf(t.fencePointer)||this.ofenceMml||(this.ofenceMml=t.mathmlTree),-1===s.indexOf(t.fencePointer)||this.cfenceMml||(this.cfenceMml=t.mathmlTree),t=t.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=Mm(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=Mm(this.cfenceMml))}rewrite_(){let t=this.semantic,e=null;const s=this.introduceNewLayer_();for(Fp(s,this.fenced.parent);!this.fencedElement(t);){const r=t.mathmlTree,i=this.specialCase_(t,r);if(i)t=i;else{Fp(r,t);const e=[];for(let s,r=1;s=t.childNodes[r];r++)e.push(xm(s));t=t.childNodes[0]}const n=Rd("dummy"),o=r.childNodes[0];Id(r,n),Id(s,r),Id(r.childNodes[0],s),Id(n,o),e||(e=r)}return xm(this.ofence),xm(this.cfence),this.cleanupParents_(),e||s}specialCase_(t,e){const s=Dd(e);let r,i=null;if(s===wu.MSUBSUP?(i=t.childNodes[0],r=zm):s===wu.MMULTISCRIPTS&&(t.type===tu.SUPERSCRIPT||t.type===tu.SUBSCRIPT?r=Vm:t.type===tu.TENSOR&&(r=Xm),i=r&&t.childNodes[0]&&t.childNodes[0].role===su.SUBSUP?t.childNodes[0]:t),!i)return null;const n=i.childNodes[0],o=$m.makeEmptyNode_(n.id);return i.childNodes[0]=o,e=new r(t).getMathml(),i.childNodes[0]=n,this.parentCleanup.push(e),i.childNodes[0]}introduceNewLayer_(){const t=this.fullFence(this.ofenceMml),e=this.fullFence(this.cfenceMml);let s=qp();if(Id(this.fencedMml,s),this.fencedMmlNodes.forEach(t=>s.appendChild(t)),s.insertBefore(t,this.fencedMml),s.appendChild(e),!s.parentNode){const t=qp();for(;s.childNodes.length>0;)t.appendChild(s.childNodes[0]);s.appendChild(t),s=t}return s}fullFence(t){const e=this.fencedMml.parentNode;let s=t;for(;s.parentNode&&s.parentNode!==e;)s=s.parentNode;return s}cleanupParents_(){this.parentCleanup.forEach(function(t){const e=t.childNodes[1].getAttribute(Pp.PARENT);t.childNodes[0].setAttribute(Pp.PARENT,e)})}}class Jm extends Hm{static test(t){return!!t.mathmlTree&&t.hasAnnotation("Emph","top")}constructor(t){super(t),this.mrows=[],this.mml=t.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const t=qp();this.mml.parentNode.insertBefore(t,this.mml);for(const e of this.mrows)t.appendChild(e);t.appendChild(this.mml)}return this.mml}recurseToTable(t){var e,s;if(t.hasAnnotation("Emph","top")||t.hasAnnotation("Emph","fence")||!t.hasAnnotation("Emph","left")&&!t.hasAnnotation("Emph","right")){if(!t.mathmlTree||Dd(t.mathmlTree)===wu.MTABLE&&(null===(e=t.annotation.Emph)||void 0===e?void 0:e.length)&&"table"!==t.annotation.Emph[0]){const e=qp();Fp(e,t),this.mrows.unshift(e)}else{if(Dd(t.mathmlTree)===wu.MTABLE&&(null===(s=t.annotation.Emph)||void 0===s?void 0:s.length)&&"table"===t.annotation.Emph[0])return void this.finalizeTable(t);Fp(t.mathmlTree,t)}if(t.childNodes.forEach(this.recurseToTable.bind(this)),t.textContent||"punctuated"===t.type){const e=t.contentNodes.map(t=>{const e=Pm(t);return e.hasAttribute("data-semantic-added")?this.mrows.unshift(e):this.recurseToTable(t),e});return void Fm(t,e)}t.contentNodes.forEach(this.recurseToTable.bind(this))}else xm(t)}finalizeTable(t){Fp(t.mathmlTree,t),t.contentNodes.forEach(t=>{xm(t)}),t.childNodes.forEach(t=>{xm(t)})}}class Km extends Hm{static test(t){if(!t.mathmlTree||!t.childNodes.length)return!1;const e=Dd(t.mathmlTree),s=t.type;return(s===tu.LIMUPPER||s===tu.LIMLOWER)&&(e===wu.MSUBSUP||e===wu.MUNDEROVER)||s===tu.LIMBOTH&&(e===wu.MSUB||e===wu.MUNDER||e===wu.MSUP||e===wu.MOVER)}static walkTree_(t){t&&xm(t)}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){const t=this.semantic.childNodes;return this.semantic.type!==tu.LIMBOTH&&this.mml.childNodes.length>=3&&(this.mml=Em([this.mml],this.semantic)),Fp(this.mml,this.semantic),t[0].mathmlTree||(t[0].mathmlTree=this.semantic.mathmlTree),t.forEach(Km.walkTree_),this.mml}}class Ym extends Hm{static test(t){return!!t.mathmlTree&&t.type===tu.LINE}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&xm(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&xm(this.semantic.childNodes[0]),Fp(this.mml,this.semantic),this.mml}}class Qm extends Hm{static test(t){return!!t.mathmlTree&&(t.type===tu.INFERENCE||t.type===tu.PREMISES)}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach(function(t){xm(t),Fp(t.mathmlTree,t)}),this.semantic.childNodes.forEach(function(t){xm(t)}),Fp(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml}}class Zm extends Hm{static test(t){return t.type===tu.MATRIX||t.type===tu.VECTOR||t.type===tu.CASES}constructor(t){super(t),this.inner=[],this.mml=t.mathmlTree}getMathml(){const t=Pm(this.semantic.contentNodes[0]),e=this.semantic.contentNodes[1]?Pm(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(xm),this.mml)if(Dd(this.mml)===wu.MFENCED){const s=this.mml.childNodes;this.mml.insertBefore(t,s[0]||null),e&&this.mml.appendChild(e),this.mml=Dm(this.mml)}else{const s=[t,this.mml];e&&s.push(e),this.mml=Em(s,this.semantic)}else this.mml=Em([t].concat(this.inner,[e]),this.semantic);return Fp(this.mml,this.semantic),this.mml}}class tf extends Hm{static test(t){return t.type===tu.PUNCTUATED&&(t.role===su.TEXT||t.contentNodes.every(t=>t.role===su.DUMMY))}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){const t=[],e=Um(this.semantic,t);return this.mml=Em(t,this.semantic),Fp(this.mml,this.semantic),this.mml.removeAttribute(Pp.CONTENT),Om(this.mml,e),this.mml}}function ef(t,e){const s=t.cloneNode(!0);return function(t,e,s){return gd.getInstance().generate(()=>["Original MathML",jm(t)]),bm.clear(),xm(e.root),s.structure&&t.setAttribute(Pp.STRUCTURE,jp.fromStructure(t,e,s).toString()),gd.getInstance().generate(()=>["Semantic Tree\n",jm(e),"Semantically enriched MathML\n",jm(t)]),t}(s,mm(s,e),e)}fm.push({test:Km.test,constr:t=>new Km(t)},{test:$m.test,constr:t=>new $m(t)},{test:zm.test,constr:t=>new zm(t)},{test:Xm.test,constr:t=>new Xm(t)},{test:Vm.test,constr:t=>new Vm(t)},{test:Ym.test,constr:t=>new Ym(t)},{test:Gm.test,constr:t=>new Gm(t)},{test:Qm.test,constr:t=>new Qm(t)},{test:Jm.test,constr:t=>new Jm(t)},{test:Zm.test,constr:t=>new Zm(t)},{test:tf.test,constr:t=>new tf(t)});const sf=new cd({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],Inference:["Auto","Long"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]}),rf="Auto";function nf(t){const e=t.split(":"),s={},r=sf.getProperties(),i=Object.keys(r);for(let t,n=0;t=e[n];n++){const e=t.split("_");if(-1===i.indexOf(e[0]))continue;const n=e[1];n&&n!==rf&&-1!==r[e[0]].indexOf(n)&&(s[e[0]]=e[1])}return s}function of(t){const e=Object.keys(t),s=[];for(let r=0;r<e.length;r++)s.push(e[r]+"_"+t[e[r]]);return s.length?s.join(":"):ld.DEFAULT_VALUE}const af=bd.u.LOCALES,cf=t=>_d.getInstance().setup(t),lf=()=>_d.getInstance().json(),hf=t=>function(t,e){const s=Sd(t);try{return ef(s,e)}catch(t){return console.error(t),s}}(t,_d.getInstance().options),df=Sd,uf=function(t,e,s){if("default"===t)return e+"_"+s;const r=nf(t);return r[e]=s,of(r)},pf=nf,mf=of;var ff=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};let gf={},bf=null;function xf(t){var e,s;const r=null==t?void 0:t.match(/^clearspeak-(.*)/);return bf=null!==(s=null!==(e=r&&r[1])&&void 0!==e?e:bf)&&void 0!==s?s:"default",bf}const Ef=new Map;const yf=new Map;let Nf=0;function _f(t,e){const s=Ef.get(e);!function(t,e){const s=t.pool.lookup("speechRules"),r=xf(t.settings.speechRules);gf=pf(r);for(const r of e)t.factory.get("variable")(t.factory,{name:"csprf_"+r,setter:t=>{gf[r]=t,s.setValue("clearspeak-"+mf(gf))},getter:()=>gf[r]||"Auto"},t.pool)}(t,Object.keys(s));const r=[];for(const t of Object.getOwnPropertyNames(s))r.push({title:t,values:s[t].map(e=>e.replace(RegExp("^"+t+"_"),"")),variable:"csprf_"+t});const i=t.factory.get("selectionBox")(t.factory,{title:"Clearspeak Preferences",signature:"",order:"alphabetic",grid:"square",selections:r},t);return{type:"command",id:"ClearspeakPreferences",content:"Select Preferences",action:()=>i.post(0,0)}}function vf(t,e,s){return ff(this,void 0,void 0,function*(){var r,i;const n=r=>{s(t.factory.get("subMenu")(t.factory,{items:r,id:"Clearspeak"},e))};if(!t.settings.speech||!t.settings.enrich)return void n([]);const o=t.pool.lookup("locale").getValue();if(yield function(t,e){return ff(this,void 0,void 0,function*(){Ef.has(e)||(yield t.mathItem.generatorPool.getLocalePreferences(Ef))})}(t,o),!Ef.get(o))return void n([]);const a=_f(t,o);let c=[];if(t.settings.speech){const e=t.mathItem,s=null===(r=null==e?void 0:e.explorers)||void 0===r?void 0:r.speech,n=xf(t.settings.speechRules);c=c.concat(function(t){return[{type:"radio",content:"No Preferences",id:"clearspeak-default",variable:"speechRules"},{type:"radio",content:"Current Preferences",id:"clearspeak-"+t,variable:"speechRules"},{type:"rule"}]}(n));const a=null==s?void 0:s.refocus,l=null!==(i=null==a?void 0:a.getAttribute("data-semantic-id"))&&void 0!==i?i:null,h=Nf++;yield e.generatorPool.getRelevantPreferences(e,l,yf,h);const d=yf.get(h);if(yf.delete(h),d){const t=function(t,e,s){const r=Ef.get(s);return[{type:"label",content:"Preferences for "+e},{type:"rule"}].concat(r[e].map(function(e){const[s,r]=e.split("_");return{type:"radioCompare",content:r,id:"clearspeak-"+uf(t,s,r),variable:"speechRules",comparator:(t,e)=>{if(t===e)return!0;if("Auto"!==r)return!1;const[i,n]=t.split("-"),[o]=e.split("-");return i===o&&!pf(n)[s]}}}))}(n,d,o);c=c.concat(t)}}c.splice(2,0,a),n(c)})}id.DynamicSubmenus.set("Clearspeak",[vf,"speech"]);let wf=null;function Cf(t,e,s){if(wf)return void s(wf);const r=[];for(const t of af.keys())"nemeth"!==t&&"euro"!==t&&r.push({type:"radio",id:t,content:af.get(t)||t,variable:"locale"});r.sort((t,e)=>t.content.localeCompare(e.content,"en")),wf=t.factory.get("subMenu")(t.factory,{items:r,id:"Language"},e),s(wf)}id.DynamicSubmenus.set("A11yLanguage",[Cf,"speech"]);const kf="MacOS"===Jr.os;function Af(t){const e=Jr.document,s=e.createElement("textarea");s.value=t,s.setAttribute("readonly",""),s.style.cssText="height: 1px; width: 1px; padding: 1px; position: absolute; left: -10px",e.body.appendChild(s),s.select();try{e.execCommand("copy")}catch(t){alert(`Can't copy to clipboard: ${t.message}`)}e.body.removeChild(s)}function Tf(t,e,s){return(r,i)=>(function(t,e,s){if(!t)return;for(const r of t.childNodes)if(r.isKind("annotation")){const t=Sf(r,e);if(t){const e=r.childNodes.reduce((t,e)=>t+e.toString(),"");s.push([t,e])}}}(function(t){var e;let s=null===(e=t.mathItem)||void 0===e?void 0:e.root;for(;s&&!s.isKind("semantics");){if(s.isToken||1!==s.childNodes.length)return null;s=s.childNodes[0]}return s}(r),e,s),t.attachMenu(r),If(r,i,s,()=>t.post()))}function Mf(t){return(e,s)=>{const r=t.slice();return t.length=0,If(e,s,r,()=>Af(Lf.trim()))}}function Sf(t,e){const s=t.attributes.get("encoding");for(const t of Object.keys(e))if(e[t].includes(s))return t;return null}let Lf="";function If(t,e,s,r){return t.factory.get("subMenu")(t.factory,{items:s.map(([t,e])=>({type:"command",id:t,content:t,action:()=>{Lf=e,r()}})),id:"annotations"},e)}class Rf extends Dh{static fromJson(t,{content:e,variable:s,id:r,comparator:i},n){return new this(n,e,s,r,i)}constructor(t,e,s,r,i){super(t,e,s,r),this.comparator=i,this.role="menuitemradiocompare"}updateAria(){this.html.setAttribute("aria-checked",this.comparator(this.variable.getValue(),this.id)?"true":"false")}updateSpan(){this.span.style.display=this.comparator(this.variable.getValue(),this.id)?"":"none"}}class Of extends Oo{constructor(){super(...arguments),this.options={filterSRE:!0,filterTex:!0,texHints:!0,semantics:!1},this.mathItem=null}visitTree(t,e=null,s={}){return this.mathItem=e,Ei(this.options,s),this.visitNode(t,"")}visitTeXAtomNode(t,e){return this.options.texHints?super.visitDefault(t,e):t.childNodes[0]&&1===t.childNodes[0].childNodes.length?this.visitNode(t.childNodes[0],e):`${e}<mrow${this.getAttributes(t)}>\n`+this.childNodeMml(t,e+"  ","\n")+`${e}</mrow>`}visitMathNode(t,e){if(!this.options.semantics||"TeX"!==this.mathItem.inputJax.name)return super.visitDefault(t,e);const s=t.childNodes.length&&t.childNodes[0].childNodes.length>1;return`${e}<math${this.getAttributes(t)}>\n${e}  <semantics>\n`+(s?e+"    <mrow>\n":"")+this.childNodeMml(t,e+(s?"      ":"    "),"\n")+(s?e+"    </mrow>\n":"")+`${e}    <annotation encoding="application/x-tex">`+this.mathItem.math+`</annotation>\n${e}  </semantics>\n${e}</math>`}getAttributeList(t){const e=super.getAttributeList(t);if(this.options.filterTex&&(delete e["data-latex"],delete e["data-latex-item"]),this.options.filterSRE){const t=Object.keys(e).filter(t=>t.match(/^(?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))$/));for(const s of t)delete e[s]}return e}}class Pf extends Oh{keydown(t){if("a"===t.key&&(t.ctrlKey||t.metaKey))return this.selectAll(),void this.stop(t);super.keydown(t)}selectAll(){document.getSelection().selectAllChildren(this.html.querySelector(".CtxtMenu_InfoContent").firstChild)}copyToClipboard(){this.selectAll();try{document.execCommand("copy")}catch(t){alert(`Can't copy to clipboard: ${t.message}`)}document.getSelection().removeAllRanges()}generateHtml(){super.generateHtml();const t=this.html.querySelector("span."+xh.INFOSIGNATURE).appendChild(document.createElement("input"));t.type="button",t.value="Copy to Clipboard",t.addEventListener("click",t=>this.copyToClipboard())}}var Df=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};const Bf=Xr;class Ff{get isLoading(){return Ff.loading>0}get loadingPromise(){return this.isLoading?(Ff._loadingPromise||(Ff._loadingPromise=new Promise((t,e)=>{Ff._loadingOK=t,Ff._loadingFailed=e})),Ff._loadingPromise):Promise.resolve()}postInfo(t){this.menu.mathItem&&(this.menu.nofocus=!!this.menu.mathItem.outputData.nofocus),t.post()}constructor(t,e={}){this.settings=null,this.defaultSettings=null,this.menu=null,this.current=null,this.MmlVisitor=new Of,this.jax={CHTML:null,SVG:null},this.rerenderStart=Gi.LAST,this.requiredExtensions=[],this.about=new Oh('<b style="font-size:120%;">MathJax</b> v'+Bo.version,()=>{const t=[];return t.push("Input Jax: "+this.document.inputJax.map(t=>t.name).join(", ")),t.push("Output Jax: "+this.document.outputJax.name),t.push("Document Type: "+this.document.kind),t.join("<br/>")},'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.help=new Oh("<b>MathJax Help</b>",()=>["<p><b>MathJax</b> is a JavaScript library that allows page"," authors to include mathematics within their web pages."," As a reader, you don't need to do anything to make that happen.</p>","<p><b>Browsers</b>: MathJax works with all modern browsers including"," Edge, Firefox, Chrome, Safari, Opera, and most mobile browsers.</p>","<p><b>Math Menu</b>: MathJax adds a contextual menu to equations."," Right-click or CTRL-click on any mathematics to access the menu.</p>",'<div style="margin-left: 1em;">',"<p><b>Show Math As:</b> These options allow you to view the formula's"," source markup (as MathML or in its original format).</p>","<p><b>Copy to Clipboard:</b> These options copy the formula's source markup,"," as MathML or in its original format, to the clipboard"," (in browsers that support that).</p>","<p><b>Math Settings:</b> These give you control over features of MathJax,"," such the size of the mathematics, the mechanism used to display equations,"," how to handle equations that are too wide, and the language to use for"," MathJax's menus and error messages (not yet implemented in v4).","</p>","<p><b>Accessibility</b>: MathJax can work with screen"," readers to make mathematics accessible to the visually impaired."," Turn on speech or braille generation to enable creation of speech strings"," and the ability to investigate expressions interactively.  You can control"," the style of the explorer in its menu.</p>","</div>","<p><b>Math Zoom</b>: If you are having difficulty reading an"," equation, MathJax can enlarge it to help you see it better, or"," you can scale all the math on the page to make it larger."," Turn these features on in the <b>Math Settings</b> menu.</p>","<p><b>Preferences</b>: MathJax uses your browser's localStorage database"," to save the preferences set via this menu locally in your browser.  These"," are not used to track you, and are not transferred or used remotely by"," MathJax in any way.</p>"].join("\n"),'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.mathmlCode=new Pf("MathJax MathML Expression",()=>{if(!this.menu.mathItem)return"";const t=this.toMML(this.menu.mathItem);return"<pre>"+this.formatSource(t)+"</pre>"},""),this.originalText=new Pf("MathJax Original Source",()=>{if(!this.menu.mathItem)return"";const t=this.menu.mathItem.math;return'<pre style="font-size:125%; margin:0">'+this.formatSource(t)+"</pre>"},""),this.annotationBox=new Pf("MathJax Annotation Text",()=>{const t=Lf;return'<pre style="font-size:125%; margin:0">'+this.formatSource(t)+"</pre>"},""),this.svgImage=new Pf("MathJax SVG Image",()=>'<div id="svg-image" style="font-family: monospace; font-size:125%; margin:0">Generative SVG Image...</div>',""),this.speechText=new Pf("MathJax Speech Text",()=>this.menu.mathItem?'<div style="font-size:125%; margin:0">'+this.formatSource(this.menu.mathItem.outputData.speech)+"</div>":"",""),this.brailleText=new Pf("MathJax Braille Code",()=>this.menu.mathItem?'<div style="font-size:125%; margin:0">'+this.formatSource(this.menu.mathItem.outputData.braille)+"</div>":"",""),this.errorMessage=new Pf("MathJax Error Message",()=>this.menu.mathItem?'<pre style="font-size:125%; margin:0">'+this.formatSource(this.menu.errorMsg)+"</pre>":"",""),this.zoomBox=new Oh("MathJax Zoomed Expression",()=>{if(!this.menu.mathItem)return"";const t=this.menu.mathItem.typesetRoot.cloneNode(!0);t.style.margin="0";return'<div style="font-size: '+1.25*parseFloat(this.settings.zscale)+'%">'+t.outerHTML+"</div>"},""),this.document=t,this.options=Ei(xi({},this.constructor.OPTIONS),e),this.initSettings(),this.mergeUserSettings(),this.initMenu(),this.applySettings()}initSettings(){var t;this.settings=this.options.settings,this.jax=this.options.jax;const e=this.document.outputJax;this.jax[e.name]=e,this.settings.renderer=e.name,this.settings.scale=e.options.scale,e.options.displayOverflow&&(this.settings.overflow=e.options.displayOverflow.substring(0,1).toUpperCase()+e.options.displayOverflow.substring(1).toLowerCase()),this.settings.breakInline=null===(t=e.options.linebreaks)||void 0===t?void 0:t.inline,this.defaultSettings=Object.assign({},this.document.options.a11y,this.settings),this.setA11y({roleDescription:this.settings.roleDescription})}initMenu(){const t=new $h([["contextMenu",id.fromJson.bind(id)],["radioCompare",Rf.fromJson.bind(Rf)]]);this.menu=t.parse({type:"contextMenu",id:"MathJax_Menu",pool:[this.variable("showSRE"),this.variable("showTex"),this.variable("texHints"),this.variable("semantics"),this.variable("zoom"),this.variable("zscale"),this.variable("renderer",t=>this.setRenderer(t)),this.variable("overflow",t=>this.setOverflow(t)),this.variable("breakInline",t=>this.setInlineBreaks(t)),this.variable("alt"),this.variable("cmd"),this.variable("ctrl"),this.variable("shift"),this.variable("scale",t=>this.setScale(t)),this.a11yVar("speech",t=>this.setSpeech(t)),this.a11yVar("braille",t=>this.setBraille(t)),this.variable("brailleCode",t=>this.setBrailleCode(t)),this.a11yVar("highlight",t=>this.setHighlight(t)),this.a11yVar("backgroundColor"),this.a11yVar("backgroundOpacity"),this.a11yVar("foregroundColor"),this.a11yVar("foregroundOpacity"),this.a11yVar("subtitles"),this.a11yVar("viewBraille"),this.a11yVar("voicing"),this.a11yVar("roleDescription",()=>this.setRoleDescription()),this.a11yVar("help"),this.a11yVar("locale",t=>this.setLocale(t)),this.variable("speechRules",t=>{const[e,s]=t.split("-");this.document.options.sre.domain=e,this.document.options.sre.style=s,this.rerender(Gi.COMPILED)}),this.a11yVar("magnification"),this.a11yVar("magnify"),this.a11yVar("treeColoring"),this.a11yVar("infoType"),this.a11yVar("infoRole"),this.a11yVar("infoPrefix"),this.variable("autocollapse"),this.variable("collapsible",t=>this.setCollapsible(t)),this.variable("enrich",t=>this.setEnrichment(t)),this.variable("inTabOrder",t=>this.setTabOrder(t)),this.a11yVar("tabSelects"),this.variable("assistiveMml",t=>this.setAssistiveMml(t))],items:[this.submenu("Show","Show Math As",[this.command("MathMLcode","MathML Code",()=>this.postInfo(this.mathmlCode)),this.command("Original","Original Form",()=>this.postInfo(this.originalText)),this.rule(),this.command("Speech","Speech Text",()=>this.postInfo(this.speechText),{disabled:!0}),this.command("Braille","Braille Code",()=>this.postInfo(this.brailleText),{disabled:!0}),this.command("SVG","SVG Image",()=>this.postSvgImage(),{disabled:!0}),this.submenu("ShowAnnotation","Annotation"),this.rule(),this.command("Error","Error Message",()=>this.postInfo(this.errorMessage),{disabled:!0})]),this.submenu("Copy","Copy to Clipboard",[this.command("MathMLcode","MathML Code",()=>this.copyMathML()),this.command("Original","Original Form",()=>this.copyOriginal()),this.rule(),this.command("Speech","Speech Text",()=>this.copySpeechText(),{disabled:!0}),this.command("Braille","Braille Code",()=>this.copyBrailleText(),{disabled:!0}),this.command("SVG","SVG Image",()=>this.copySvgImage(),{disabled:!0}),this.submenu("CopyAnnotation","Annotation"),this.rule(),this.command("Error","Error Message",()=>this.copyErrorMessage(),{disabled:!0})]),this.rule(),this.submenu("Settings","Math Settings",[this.submenu("Renderer","Math Renderer",this.radioGroup("renderer",[["CHTML"],["SVG"]])),this.submenu("Overflow","Wide Expressions",[this.radioGroup("overflow",[["Overflow"],["Scroll"],["Linebreak"],["Scale"],["Truncate"],["Elide"]]),this.rule(),this.checkbox("BreakInline","Allow In-line Breaks","breakInline")]),this.rule(),this.submenu("MathmlIncludes","MathML/SVG has",[this.checkbox("showSRE","Semantic attributes","showSRE"),this.checkbox("showTex","LaTeX attributes","showTex"),this.checkbox("texHints","TeX hints","texHints"),this.checkbox("semantics","Original as annotation","semantics")]),this.submenu("Language","Language"),this.rule(),this.submenu("ZoomTrigger","Zoom Trigger",[this.command("ZoomNow","Zoom Once Now",()=>this.zoom(null,"",this.menu.mathItem)),this.rule(),this.radioGroup("zoom",[["Click"],["DoubleClick","Double-Click"],["NoZoom","No Zoom"]]),this.rule(),this.label("TriggerRequires","Trigger Requires:"),this.checkbox(kf?"Option":"Alt",kf?"Option":"Alt","alt"),this.checkbox("Command","Command","cmd",{hidden:!kf}),this.checkbox("Control","Control","ctrl",{hiddne:kf}),this.checkbox("Shift","Shift","shift")]),this.submenu("ZoomFactor","Zoom Factor",this.radioGroup("zscale",[["150%"],["175%"],["200%"],["250%"],["300%"],["400%"]])),this.rule(),this.command("Scale","Scale All Math...",()=>this.scaleAllMath()),this.rule(),this.command("Reset","Reset to defaults",()=>this.resetDefaults())]),this.rule(),this.label("Accessibility","\xa0\xa0 Accessibility:"),this.submenu("Speech","\xa0 \xa0 Speech",[this.checkbox("Generate","Generate","speech"),this.checkbox("Subtitles","Show Subtitles","subtitles"),this.checkbox("Auto Voicing","Auto Voicing","voicing"),this.rule(),this.label("Rules","Rules:"),this.submenu("Mathspeak","Mathspeak",this.radioGroup("speechRules",[["mathspeak-default","Verbose"],["mathspeak-brief","Brief"],["mathspeak-sbrief","Superbrief"]])),this.submenu("Clearspeak","Clearspeak",this.radioGroup("speechRules",[["clearspeak-default","Auto"]])),this.rule(),this.submenu("A11yLanguage","Language")]),this.submenu("Braille","\xa0 \xa0 Braille",[this.checkbox("Generate","Generate","braille"),this.checkbox("Subtitles","Show Subtitles","viewBraille"),this.rule(),this.label("Code","Code Format:"),this.radioGroup("brailleCode",[["nemeth","Nemeth"],["ueb","UEB"],["euro","Euro"]])]),this.submenu("Explorer","\xa0 \xa0 Explorer",[this.submenu("Highlight","Highlight",[this.submenu("Background","Background",this.radioGroup("backgroundColor",[["Blue"],["Red"],["Green"],["Yellow"],["Cyan"],["Magenta"],["White"],["Black"]])),{type:"slider",variable:"backgroundOpacity",content:" "},this.submenu("Foreground","Foreground",this.radioGroup("foregroundColor",[["Black"],["White"],["Magenta"],["Cyan"],["Yellow"],["Green"],["Red"],["Blue"]])),{type:"slider",variable:"foregroundOpacity",content:" "},this.rule(),this.radioGroup("highlight",[["None"],["Hover"],["Flame"]]),this.rule(),this.checkbox("TreeColoring","Tree Coloring","treeColoring")]),this.submenu("Magnification","Magnification",[this.radioGroup("magnification",[["None"],["Keyboard"],["Mouse"]]),this.rule(),this.radioGroup("magnify",[["200%"],["300%"],["400%"],["500%"]])]),this.submenu("Semantic Info","Semantic Info",[this.checkbox("Type","Type","infoType"),this.checkbox("Role","Role","infoRole"),this.checkbox("Prefix","Prefix","infoPrefix")]),this.rule(),this.submenu("Role Description","Describe math as",[this.radioGroup("roleDescription",[["MathJax expression"],["MathJax"],["math"],["clickable math"],["explorable math"],["none"]])]),this.checkbox("Math Help","Help message on focus","help")]),this.submenu("Options","\xa0 \xa0 Options",[this.checkbox("Enrich","Semantic Enrichment","enrich"),this.checkbox("Collapsible","Collapsible Math","collapsible"),this.checkbox("AutoCollapse","Auto Collapse","autocollapse",{disabled:!0}),this.rule(),this.checkbox("InTabOrder","Include in Tab Order","inTabOrder"),this.submenu("TabSelects","Tabbing Focuses on",[this.radioGroup("tabSelects",[["all","Whole Expression"],["last","Last Explored Node"]])]),this.rule(),this.checkbox("AssistiveMml","Include Hidden MathML","assistiveMml")]),this.rule(),this.command("About","About MathJax",()=>this.postInfo(this.about)),this.command("Help","MathJax Help",()=>this.postInfo(this.help))]});const e=this.menu;e.settings=this.settings,e.findID("Settings","Overflow","Elide").disable(),e.findID("Braille","ueb").hide(),e.setJax(this.jax),this.attachDialogMenus(e),this.checkLoadableItems();const s=[];var r;id.DynamicSubmenus.set("ShowAnnotation",[Tf(this.annotationBox,this.options.annotationTypes,s),""]),id.DynamicSubmenus.set("CopyAnnotation",[Mf(s),""]),r=this.document.document,Zh||(rd(Kh,r),Zh=!0,sd(r)),function(t){td||(rd(Yh,t),td=!0,sd(t))}(this.document.document)}attachDialogMenus(t){this.about.attachMenu(t),this.help.attachMenu(t),this.originalText.attachMenu(t),this.mathmlCode.attachMenu(t),this.originalText.attachMenu(t),this.svgImage.attachMenu(t),this.speechText.attachMenu(t),this.brailleText.attachMenu(t),this.errorMessage.attachMenu(t),this.zoomBox.attachMenu(t)}checkLoadableItems(){var t,e,s,r,i,n;if(Bf&&Bf._&&Bf.loader&&Bf.startup){const o=this.settings,a=this.document.options;(o.enrich||o.speech&&a.enableSpeech||o.braille&&a.enableBraille)&&!(null===(e=null===(t=Bf._)||void 0===t?void 0:t.a11y)||void 0===e?void 0:e.explorer)&&this.loadA11y("explorer"),o.collapsible&&!(null===(r=null===(s=Bf._)||void 0===s?void 0:s.a11y)||void 0===r?void 0:r.complexity)&&this.loadA11y("complexity"),o.assistiveMml&&!(null===(n=null===(i=Bf._)||void 0===i?void 0:i.a11y)||void 0===n?void 0:n["assistive-mml"])&&this.loadA11y("assistive-mml")}else{const t=this.menu;for(const e of Object.keys(this.jax))this.jax[e]||t.findID("Settings","Renderer",e).disable();t.findID("Speech").disable(),t.findID("Braille").disable(),t.findID("Explorer").disable(),t.findID("Options","AutoCollapse").disable(),t.findID("Options","Collapsible").disable(),t.findID("Options","Enrich").disable(),t.findID("Options","AssistiveMml").disable()}}enableAccessibilityItems(t,e){const s=this.menu.findID(t).submenu;for(const t of s.items.slice(1))t instanceof Bh||(!e||t instanceof Ah&&!t.submenu.items.length?t.disable():t.enable())}mergeUserSettings(){try{const t=localStorage.getItem(Ff.MENU_STORAGE);if(!t)return;Object.assign(this.settings,JSON.parse(t)),this.setA11y(this.settings)}catch(t){console.log("MathJax localStorage error: "+t.message)}}saveUserSettings(){const t={};for(const e of Object.keys(this.settings))this.settings[e]!==this.defaultSettings[e]&&(t[e]=this.settings[e]);try{Object.keys(t).length?localStorage.setItem(Ff.MENU_STORAGE,JSON.stringify(t)):localStorage.removeItem(Ff.MENU_STORAGE)}catch(t){console.log("MathJax localStorage error: "+t.message)}}setA11y(t){var e,s;(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s.explorer)&&Bf._.a11y.explorer_ts.setA11yOptions(this.document,t)}getA11y(t){var e,s;if(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s.explorer)return void 0!==this.document.options.a11y[t]?this.document.options.a11y[t]:this.document.options.sre[t]}applySettings(){this.setTabOrder(this.settings.inTabOrder);this.document.options.enableAssistiveMml=this.settings.assistiveMml,this.enableAccessibilityItems("Speech",this.settings.speech),this.enableAccessibilityItems("Braille",this.settings.braille),this.setAccessibilityMenus();const t=this.settings.renderer.replace(/[^a-zA-Z0-9]/g,"")||"CHTML";(Ff._loadingPromise||Promise.resolve()).then(()=>{const e=this.settings,s=this.document.outputJax.options;if(s.scale=parseFloat(e.scale),s.displayOverflow=e.overflow.toLowerCase(),s.linebreaks&&(s.linebreaks.inline=e.breakInline),!e.speechRules){const t=this.document.options.sre;e.speechRules=`${t.domain||"clearspeak"}-${t.style||"default"}`}t!==this.defaultSettings.renderer&&this.document.whenReady(()=>this.setRenderer(t,!1))})}setOverflow(t){this.document.outputJax.options.displayOverflow=t.toLowerCase(),Ff.loading||this.document.rerenderPromise()}setInlineBreaks(t){this.document.outputJax.options.linebreaks.inline=t,Ff.loading||this.document.rerenderPromise()}setScale(t){this.document.outputJax.options.scale=parseFloat(t),Ff.loading||this.document.rerenderPromise()}setRenderer(t,e=!0){if(Object.hasOwn(this.jax,t)&&this.jax[t])return this.setOutputJax(t,e);const s=t.toLowerCase();return new Promise((r,i)=>{this.loadComponent("output/"+s,()=>{const n=Bf.startup;if(!(s in n.constructors))return i(new Error(`Component ${s} not loaded`));n.useOutput(s,!0),n.output=n.getOutputJax(),n.output.setAdaptor(this.document.adaptor),n.output.initialize(),this.jax[t]=n.output,this.setOutputJax(t,e).then(()=>r()).catch(t=>i(t))})})}setOutputJax(t,e=!0){this.jax[t].setAdaptor(this.document.adaptor),this.document.outputJax=this.jax[t];const s=this.loadRequiredExtensions();return e?s.then(()=>Bo.handleRetriesFor(()=>this.rerender())):s.then(()=>{})}loadRequiredExtensions(){const t=this.document.outputJax.name.toLowerCase(),e=[];for(const s of this.requiredExtensions)e.push(Bf.loader.load(`[${s}]/${t}`));return this.requiredExtensions=[],Promise.all(e)}addRequiredExtensions(t){if(t){const e=new Set([...this.requiredExtensions,...t]);this.requiredExtensions=[...e]}}setTabOrder(t){const e=this.menu.findID("Options","TabSelects");t?e.enable():e.disable(),this.menu.store.inTaborder(t)}setAssistiveMml(t){var e,s;this.document.options.enableAssistiveMml=t,!t||(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s["assistive-mml"])?this.rerender():this.loadA11y("assistive-mml")}setAccessibilityMenus(){const t=this.settings.enrich,e=t?"enable":"disable";["Speech","Braille","Explorer"].forEach(t=>this.menu.findID(t)[e]());const s=this.document.options;s.enableSpeech=s.enableBraille=s.enableExplorer=t,t||(this.settings.collapsible=!1,this.document.options.enableCollapsible=!1)}setSpeech(t){var e,s;this.enableAccessibilityItems("Speech",t),this.document.options.enableSpeech=t,!t||(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s.explorer)?this.rerender(Gi.COMPILED):this.loadA11y("explorer")}setBraille(t){var e,s;this.enableAccessibilityItems("Braille",t),this.document.options.enableBraille=t,!t||(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s.explorer)?this.rerender(Gi.COMPILED):this.loadA11y("explorer")}setBrailleCode(t){this.document.options.sre.braille=t,this.rerender(Gi.COMPILED)}setLocale(t){this.document.options.sre.locale=t,this.rerender(Gi.COMPILED)}setRoleDescription(){this.rerender(Gi.COMPILED)}setEnrichment(t){var e,s;this.document.options.enableEnrichment=t,this.setAccessibilityMenus(),!t||(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s.explorer)?this.rerender(Gi.COMPILED):this.loadA11y("explorer")}setCollapsible(t){var e,s,r,i;this.document.options.enableComplexity=t,t&&!this.settings.enrich&&(this.settings.enrich=this.document.options.enableEnrichment=!0,this.setAccessibilityMenus()),t||this.menu.pool.lookup("highlight").setValue("None"),!t||(null===(s=null===(e=Bf._)||void 0===e?void 0:e.a11y)||void 0===s?void 0:s.complexity)?this.rerender(Gi.COMPILED):(this.loadA11y("complexity"),(null===(i=null===(r=Bf._)||void 0===r?void 0:r.a11y)||void 0===i?void 0:i.explorer)||this.loadA11y("explorer"))}setHighlight(t){var e,s;if("None"!==t){if(!this.settings.collapsible){const t=this.menu.pool.lookup("collapsible");t.setValue(!0),null===(s=null===(e=t.items[0])||void 0===e?void 0:e.executeCallbacks_)||void 0===s||s.call(e)}Ff.loadingPromises.has("a11y/complexity")||this.rerender(Gi.COMPILED)}}scaleAllMath(){const t=(100*parseFloat(this.settings.scale)).toFixed(1).replace(/.0$/,""),e=prompt("Scale all mathematics (compared to surrounding text) by",t+"%");if(this.current){const t=this.menu.mathItem.explorers.speech;t.refocus=this.current,t.focus()}if(e)if(e.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)){const t=parseFloat(e)/100;t?this.menu.pool.lookup("scale").setValue(String(t)):alert("The scale should not be zero")}else alert("The scale should be a percentage (e.g., 120%)")}resetDefaults(){Ff.loading++;const t=this.menu.pool,e=this.defaultSettings;for(const s of Object.keys(e)){const r=t.lookup(s);if(r){if(r.getValue()!==e[s]){r.setValue(e[s]);const t=r.items[0];t&&t.executeCallbacks_()}}else Object.hasOwn(this.settings,s)&&(this.settings[s]=e[s])}Ff.loading--,this.rerender(Gi.COMPILED)}checkComponent(t){const e=Ff.loadingPromises.get(t);e&&Bo.retryAfter(e)}loadComponent(t,e){if(Ff.loadingPromises.has(t))return;const s=Bf.loader;if(!s)return;Ff.loading++;const r=s.load(t).then(()=>{Ff.loading--,Ff.loadingPromises.delete(t),0===Ff.loading&&Ff._loadingPromise&&(Ff._loadingPromise=null,Ff._loadingOK()),e()}).catch(t=>{Ff._loadingPromise?(Ff._loadingPromise=null,Ff._loadingFailed(t)):console.log(t)});Ff.loadingPromises.set(t,r)}loadA11y(t){const e=!Gi.ENRICHED;this.loadComponent("a11y/"+t,()=>{var s,r;const i=Bf.startup;Bo.handlers.unregister(i.handler),i.handler=i.getHandler(),Bo.handlers.register(i.handler);const n=this.document;this.document=i.document=i.getDocument(),this.document.processed=n.processed,this.document.menu=this,n.webworker&&(this.document.webworker=n.webworker),this.setA11y(this.settings),this.defaultSettings=Object.assign({},this.document.options.a11y,(null===(r=null===(s=Bf.config)||void 0===s?void 0:s.options)||void 0===r?void 0:r.a11y)||{},this.defaultSettings),this.document.outputJax.reset(),this.transferMathList(n),this.document.processed=n.processed,Ff._loadingPromise||(this.document.outputJax.reset(),Bo.handleRetriesFor(()=>{this.rerender("complexity"===t||e?Gi.COMPILED:Gi.TYPESET)}))})}transferMathList(t){const e=this.document.options.MathItem;for(const s of t.math){const t=new e;Object.assign(t,s),this.document.math.push(t)}}formatSource(t){return t.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}toMML(t){return this.MmlVisitor.visitTree(t.root,t,{filterSRE:!this.settings.showSRE,filterTex:!this.settings.showTex,texHints:this.settings.texHints,semantics:this.settings.semantics&&"MathML"!==t.inputJax.name})}toSVG(t){const e=this.jax.SVG;if(!e)return Promise.resolve("SVG can't be produced.<br>Try switching to SVG output first.");const s=e.adaptor,r=e.options.fontCache,i=!!t.root.getProperty("process-breaks");if("global"!==r&&(t.display||!i)&&"SVG"===s.getAttribute(t.typesetRoot,"jax"))for(const e of s.childNodes(t.typesetRoot))if("svg"===s.kind(e))return Promise.resolve(this.formatSvg(s.serializeXML(e)));return this.typesetSVG(t,r,i)}typesetSVG(t,e,s){return Df(this,void 0,void 0,function*(){const r=this.jax.SVG,i=r.html("div");"global"===e&&(r.options.fontCache="local");const n=t.root;t.root=n.copy(!0),t.root.setInheritedAttributes({},t.display,0,!1),s&&(r.unmarkInlineBreaks(t.root),t.root.setProperty("inlineMarked",!1));return Bo.handleRetriesFor(()=>{r.toDOM(t,i,r.document)}).then(()=>(t.root=n,r.options.fontCache=e,this.formatSvg(r.adaptor.innerHTML(i))))})}formatSvg(t){const e=this.constructor.SvgCss;return t=(t=t.match(/^<svg.*?><defs>/)?t.replace(/<defs>/,`<defs><style>${e}</style>`):t.replace(/^(<svg.*?>)/,`$1<defs><style>${e}</style></defs>`)).replace(/ (?:role|focusable)=".*?"/g,"").replace(/"currentColor"/g,'"black"'),this.settings.showSRE||(t=t.replace(/ (?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))=".*?"/g,"")),this.settings.showTex||(t=t.replace(/ data-latex(?:-item)?=".*?"/g,"")),this.settings.texHints||(t=t.replace(/ data-mjx-(?:texclass|alternate|variant|pseudoscript|smallmatrix|mathaccent|auto-op|script-align|vbox)=".*?"/g,"").replace(/ data-mml-node="TeXAtom"/g,"")),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n${t}`}postSvgImage(){this.postInfo(this.svgImage),this.toSVG(this.menu.mathItem).then(t=>{this.svgImage.html.querySelector("#svg-image").innerHTML=this.formatSource(t).replace(/\n/g,"<br>")})}zoom(t,e,s){t&&!this.isZoomEvent(t,e)||(this.menu.mathItem=s,t&&this.menu.post(t),this.postInfo(this.zoomBox))}isZoomEvent(t,e){return this.settings.zoom===e&&(!this.settings.alt||t.altKey)&&(!this.settings.ctrl||t.ctrlKey)&&(!this.settings.cmd||t.metaKey)&&(!this.settings.shift||t.shiftKey)}rerender(t=Gi.TYPESET){this.rerenderStart=Math.min(t,this.rerenderStart);const e=Bf.startup;!Ff.loading&&e.hasTypeset&&e.document.whenReady(()=>Df(this,void 0,void 0,function*(){this.rerenderStart<=Gi.COMPILED&&this.document.reset({inputJax:[]}),yield this.document.rerenderPromise(this.rerenderStart),this.rerenderStart=Gi.LAST}))}copyMathML(){Af(this.toMML(this.menu.mathItem))}copyOriginal(){Af(this.menu.mathItem.math.trim())}copySvgImage(){this.toSVG(this.menu.mathItem).then(t=>{Af(t)})}copySpeechText(){Af(this.menu.mathItem.outputData.speech)}copyBrailleText(){Af(this.menu.mathItem.outputData.braille)}copyErrorMessage(){Af(this.menu.errorMsg.trim())}addMenu(t){this.addEvents(t),this.menu.store.insert(t.typesetRoot),t.typesetRoot.tabIndex=this.settings.inTabOrder?0:-1}addEvents(t){const e=t.typesetRoot;e.addEventListener("mousedown",()=>{var e,s;this.menu.mathItem=t,this.current=null===(s=null===(e=t.explorers)||void 0===e?void 0:e.speech)||void 0===s?void 0:s.current},!0),e.addEventListener("contextmenu",()=>{var e;this.menu.mathItem=t;const s=null===(e=t.explorers)||void 0===e?void 0:e.speech;s&&(t.outputData.nofocus=!this.current,s.refocus=this.current)},!0),e.addEventListener("keydown",()=>this.menu.mathItem=t,!0),e.addEventListener("click",e=>this.zoom(e,"Click",t),!0),e.addEventListener("dblclick",e=>this.zoom(e,"DoubleClick",t),!0)}clear(){this.menu.store.clear()}variable(t,e){return{name:t,getter:()=>this.settings[t],setter:s=>{this.settings[t]=s,e&&e(s),this.saveUserSettings()}}}a11yVar(t,e){return{name:t,getter:()=>this.getA11y(t),setter:s=>{this.settings[t]=s,this.setA11y({[t]:s}),e&&e(s),this.saveUserSettings()}}}submenu(t,e,s=[],r=!1){let i=[];for(const t of s)Array.isArray(t)?i=i.concat(t):i.push(t);return{type:"submenu",id:t,content:e,menu:{items:i},disabled:0===i.length||r}}command(t,e,s,r={}){return Object.assign({type:"command",id:t,content:e,action:s},r)}checkbox(t,e,s,r={}){return Object.assign({type:"checkbox",id:t,content:e,variable:s},r)}radioGroup(t,e){return e.map(e=>this.radio(e[0],e[1]||e[0],t))}radio(t,e,s,r={}){return Object.assign({type:"radio",id:t,content:e,variable:s},r)}label(t,e){return{type:"label",id:t,content:e}}rule(){return{type:"rule"}}}function qf(t){return class extends t{addMenu(t,e=!1){this.state()>=Gi.CONTEXT_MENU||(this.isEscaped||!t.options.enableMenu&&!e||t.menu.addMenu(this),this.state(Gi.CONTEXT_MENU))}getMenus(t){t.menu.menu.store.sort()}checkLoading(t){t.checkLoading()}}}function jf(t){var e;return e=class extends t{constructor(...t){super(...t),this.menu=new this.options.MenuClass(this,this.options.menuOptions);const e=this.constructor.ProcessBits;e.has("context-menu")||e.allocate("context-menu"),this.options.MathItem=qf(this.options.MathItem);const s=this.menu.settings,r=this.options,i=r.enableEnrichment=s.enrich;r.enableSpeech=s.speech&&i,r.enableBraille=s.braille&&i,r.enableComplexity=s.collapsible&&i,r.enableExplorer=i}addMenu(){if(!this.processed.isSet("context-menu")){for(const t of this.math)t.addMenu(this);this.processed.set("context-menu")}return this}getMenus(){this.menu.menu.store.sort()}checkLoading(){let t=!0;try{this._checkLoading(),t=!1}catch(t){if(!t.retry)throw t}return t}_checkLoading(){return this.menu.isLoading&&Bo.retryAfter(this.menu.loadingPromise.catch(t=>console.log(t))),this.options.enableComplexity&&this.menu.checkComponent("a11y/complexity"),this.options.enableExplorer&&this.menu.checkComponent("a11y/explorer"),this}state(t,e=!1){return super.state(t,e),t<Gi.CONTEXT_MENU&&this.processed.clear("context-menu"),this}},e.OPTIONS=Object.assign(Object.assign({enableEnrichment:!0,enableComplexity:!0,enableSpeech:!0,enableBraille:!0,enableExplorer:!0,enrichSpeech:"none",enrichError:(t,e,s)=>console.warn("Enrichment Error:",s)},t.OPTIONS),{MenuClass:Ff,menuOptions:Ff.OPTIONS,enableMenu:!0,sre:t.OPTIONS.sre||pi({}),a11y:t.OPTIONS.a11y||pi({}),renderActions:pi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{addMenu:[Gi.CONTEXT_MENU],getMenus:[Gi.INSERTED+5,!1],checkLoading:[Gi.UNPROCESSED+1,t=>t.checkLoading(),"",!1]}))}),e}function Uf(t){return t.documentClass=jf(t.documentClass),t}Ff.MENU_STORAGE="MathJax-Menu-Settings",Ff.OPTIONS={settings:{showSRE:!1,showTex:!1,texHints:!0,semantics:!1,zoom:"NoZoom",zscale:"200%",renderer:"CHTML",alt:!1,cmd:!1,ctrl:!1,shift:!1,scale:1,overflow:"Scroll",breakInline:!0,autocollapse:!1,collapsible:!1,enrich:!0,inTabOrder:!0,assistiveMml:!1,speech:!0,braille:!0,brailleCode:"nemeth",speechRules:"clearspeak-default",roleDescription:"math",tabSelects:"all"},jax:{CHTML:null,SVG:null},annotationTypes:pi({TeX:["TeX","LaTeX","application/x-tex"],StarMath:["StarMath 5.0"],Maple:["Maple"],ContentMathML:["MathML-Content","application/mathml-content+xml"],OpenMath:["OpenMath"]})},Ff.SvgCss=["svg a{fill:blue;stroke:blue}",'[data-mml-node="merror"]>g{fill:red;stroke:red}','[data-mml-node="merror"]>rect[data-background]{fill:yellow;stroke:none}',"[data-frame],[data-line]{stroke-width:70px;fill:none}",".mjx-dashed{stroke-dasharray:140}",".mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}","use[data-c]{stroke-width:3px}"].join(""),Ff.loading=0,Ff.loadingPromises=new Map,Ff._loadingPromise=null,Ff._loadingOK=null,Ff._loadingFailed=null,zi("CONTEXT_MENU",170),MathJax.loader&&MathJax.loader.checkVersion("ui/menu",jr,"ui"),Vr({_:{a11y:{speech:{SpeechMenu:Ke}},ui:{menu:{AnnotationMenu:Qe,MJContextMenu:$e,Menu:ss,MenuHandler:rs,MenuUtil:Ye,MmlVisitor:ts,RadioCompare:Ze,SelectableInfo:es}}}}),MathJax.startup&&$r&&MathJax.startup.extendHandler(t=>Uf(t),20),MathJax.loader&&MathJax.loader.checkVersion("a11y/sre",jr,"a11y"),Vr({_:{a11y:{sre_ts:Je}}}),zi("ENRICHED",Gi.COMPILED+10);class Hf extends Oo{visitTree(t,e){this.mactionId=0;const s=super.visitTree(t);return this.mactionId&&(e.inputData.hasMaction=!0),s}visitHtmlNode(t,e){return t.getSerializedXML()}visitMactionNode(t,e){const[s,r]=0===t.childNodes.length?["",""]:["\n",e],i=this.childNodeMml(t,e+"  ",s);let n=this.getAttributes(t);if("toggle"===t.attributes.get("actiontype")){const e=++this.mactionId;t.setProperty("mactionId",e),n=` data-maction-id="${e}" selection="${t.attributes.get("selection")}"`+n.replace(/ selection="\d+"/,"").replace(/ data-maction-id="\d+"/,"")}return`${e}<maction${n}>`+(i.match(/\S/)?s+i+r:"")+"</maction>"}}function Gf(t,e,s){return class extends t{constructor(){super(...arguments),this.toMathML=s}serializeMml(t){if("outerHTML"in t)return t.outerHTML;if("undefined"!=typeof Element&&"undefined"!=typeof window&&t instanceof Element){const e=window.document.createElement("div");return e.appendChild(t),e.innerHTML}return t.toString()}enrich(t,s=!1){if(!(this.state()>=Gi.ENRICHED)){if(!this.isEscaped&&(t.options.enableEnrichment||s)){const s=new t.options.MathItem("",e);try{let e;e=this.inputData.originalMml?this.adjustSelections():this.inputData.originalMml=this.toMathML(this.root,this);const r=hf(e);this.inputData.enrichedMml=s.math=this.serializeMml(r),s.math=s.math.replace(/ role="treeitem"/g,' data-speech-node="true"').replace(/ aria-(?:posinset|owns|setsize)=".*?"/g,""),s.display=this.display,s.compile(t),this.root=s.root}catch(e){t.options.enrichError(t,this,e)}}this.state(Gi.ENRICHED)}}toEnriched(t){return this.serializeMml(hf(t))}unEnrich(t){const s=this.inputData.originalMml;if(!s)return;const r=new t.options.MathItem("",e);r.math=s,r.display=this.display,r.compile(t),this.root=r.root}adjustSelections(){const t=this.inputData.originalMml;if(!this.inputData.hasMaction)return t;const e=[];return this.root.walkTree(t=>{t.isKind("maction")&&(e[t.attributes.get("data-maction-id")]=t)}),t.replace(/(data-maction-id="(\d+)" selection=)"\d+"/g,(t,s,r)=>`${s}"${e[r].attributes.get("selection")}"`)}}}function zf(t,e){var s;return s=class extends t{constructor(...t){super(...t),e.setMmlFactory(this.mmlFactory);const s=this.constructor.ProcessBits;s.has("enriched")||s.allocate("enriched");const r=new Hf(this.mmlFactory);this.options.MathItem=Gf(this.options.MathItem,e,(t,e)=>r.visitTree(t,e))}enrich(){if(!this.processed.isSet("enriched")){if(this.options.enableEnrichment){cf(this.options.sre);for(const t of this.math)t.enrich(this)}this.processed.set("enriched")}return this}enrichError(t,e,s){console.warn("Enrichment error:",s)}state(t,e=!1){if(super.state(t,e),t<Gi.ENRICHED&&(this.processed.clear("enriched"),t>=Gi.COMPILED))for(const t of this.math)t.unEnrich(this);return this}},s.OPTIONS=Object.assign(Object.assign({},t.OPTIONS),{enableEnrichment:!0,enrichError:(t,e,s)=>t.enrichError(t,e,s),renderActions:pi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{enrich:[Gi.ENRICHED]})),sre:pi({speech:"none",locale:"en",domain:"clearspeak",style:"default",braille:"nemeth",structure:!0,aria:!0})}),s}function Wf(t,e){return e.setAdaptor(t.adaptor),t.documentClass=zf(t.documentClass,e),t}MathJax.loader&&MathJax.loader.checkVersion("a11y/semantic-enrich",jr,"a11y"),Vr({_:{a11y:{"semantic-enrich":is}}}),MathJax.startup&&MathJax.startup.extendHandler(t=>Wf(t,new Ca({allowHtmlInTokenNodes:!0})));const Vf=["pitch","rate","volume"];function Xf(t){const e=df(t),s=[],r=[];return $f(Array.from(e.childNodes),s,r),[r.join(" "),s]}function $f(t,e,s,r={}){for(const i of t){if(3===i.nodeType){const t=i.textContent.trim();t&&(s.push(t),e.push(Object.assign({text:t},r)));continue}if(1===i.nodeType){const t=i,n=t.tagName;if("speak"===n)continue;if("prosody"===n){$f(Array.from(i.childNodes),e,s,Kf(t,r));continue}switch(n){case"break":e.push({pause:t.getAttribute("time")});break;case"mark":e.push({mark:t.getAttribute("name")});break;case"say-as":{const i=t.textContent;e.push(Object.assign({text:i,character:!0},r)),s.push(i);break}}}}}const Jf={pitch:(t,e)=>t/100*1,volume:(t,e)=>t/100*.5,rate:(t,e)=>t/100*1};function Kf(t,e){const s={};for(const r of Vf)if(t.hasAttribute(r)){const[i,n]=Qf(t.getAttribute(r));if(!i){s[r]="volume"===r?.5:1;continue}let o=e[r];o=o||("volume"===r?.5:1);const a=Jf[r](parseInt(n,10),i);s[r]="-"===i?o-a:o+a}return s}const Yf=/([+-]?)([0-9]+)%/;function Qf(t){const e=t.match(Yf);return e?[e[1],e[2]]:(console.warn("Something went wrong with the prosody matching."),["","100"])}function Zf(t,e,s,r=" "){if(!t)return"";const i=[t];return e&&i.unshift(e),s&&i.push(s),i.join(r)}function tg(t,e="en",s="100"){return Xf(`<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${e}"><prosody rate="${s}%">${t}</prosody></speak>`)}function eg(){const t=new AudioContext,e=t.createOscillator();e.frequency.value=300,e.connect(t.destination),e.start(t.currentTime),e.stop(t.currentTime+.05)}var sg,rg;!function(t){t[t.NONE=0]="NONE",t[t.DEPTH=1]="DEPTH",t[t.SUMMARY=2]="SUMMARY"}(sg||(sg={})),function(t){t.SPEECH="data-semantic-speech-none",t.SPEECH_SSML="data-semantic-speech",t.SUMMARY="data-semantic-summary-none",t.SUMMARY_SSML="data-semantic-summary",t.PREFIX="data-semantic-prefix-none",t.PREFIX_SSML="data-semantic-prefix",t.POSTFIX="data-semantic-postfix-none",t.POSTFIX_SSML="data-semantic-postfix",t.BRAILLE="data-semantic-braille"}(rg||(rg={}));class ig{constructor(){this.promise=Promise.resolve(),this.adaptor=null,this._options={},this._init=!1}set element(t){this._element=t}get element(){return this._element}set options(t){this._options=Object.assign({},(null==t?void 0:t.sre)||{},{enableSpeech:t.enableSpeech,enableBraille:t.enableBraille}),delete this._options.custom}get options(){return this._options}init(t,e,s){this.options=t,this._init||(this.adaptor=e,this.webworker=s,this._init=!0)}update(t){Object.assign(this.options,t)}Speech(t){const e=t.outputData.mml,s=Object.assign({},this.options,{modality:"speech"});return this.promise=this.webworker.Speech(e,s,t)}SpeechFor(t,e){const s=Object.assign({},this.options,{modality:"speech"});return this.webworker.speechFor(e,s,t)}cancel(t){var e;null===(e=this.webworker)||void 0===e||e.Cancel(t)}updateRegions(t,e,s){e.Update(this.getLabel(t)),s.Update(this.getBraille(t))}getOptions(t){var e,s,r,i;return{locale:null!==(e=this.adaptor.getAttribute(t,"data-semantic-locale"))&&void 0!==e?e:"",domain:null!==(s=this.adaptor.getAttribute(t,"data-semantic-domain"))&&void 0!==s?s:"",style:null!==(r=this.adaptor.getAttribute(t,"data-semantic-style"))&&void 0!==r?r:"",domain2style:null!==(i=this.adaptor.getAttribute(t,"data-semantic-domain2style"))&&void 0!==i?i:""}}nextRules(t){const e=this.getOptions(t.typesetRoot);return this.update(e),this.promise=this.webworker.nextRules(t.outputData.mml,Object.assign({},this.options,{modality:"speech"}),t)}nextStyle(t,e){const s=this.getOptions(e.typesetRoot);return this.update(s),this.promise=this.webworker.nextStyle(e.outputData.mml,Object.assign({},this.options,{modality:"speech"}),this.adaptor.getAttribute(t,"data-semantic-id"),e)}getLabel(t,e="",s=" "){const r=this.adaptor;return Zf(r.getAttribute(t,rg.SPEECH_SSML),r.getAttribute(t,rg.PREFIX_SSML),r.getAttribute(t,rg.POSTFIX_SSML),s)||r.getAttribute(t,"aria-label")}getBraille(t){const e=this.adaptor;return e.getAttribute(t,"aria-braillelabel")||e.getAttribute(t,rg.BRAILLE)}getLocalePreferences(t){return this.promise=this.webworker.clearspeakLocalePreferences(this.options,t)}getRelevantPreferences(t,e,s,r){const i=t.outputData.mml;return this.promise=this.webworker.clearspeakRelevantPreferences(i,e,s,r)}}var ng=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};class og{constructor(t,e,s,r){this.cmd=t,this.item=e,this.resolve=s,this.reject=r}}class ag{constructor(t,e){this.adaptor=t,this.options=e,this.ready=!1,this.tasks=[],this.Commands={Ready(t,e){t.ready=!0,t.postNext()},Finished(t,e){const s=t.tasks.shift();e.success?s.resolve(e.result):s.reject(e.error),t.postNext()},Log(t,e){t.options.debug&&console.log("Log:",e)}}}Start(){return ng(this,void 0,void 0,function*(){if(this.ready)throw Error("Worker already started");this.worker=yield this.adaptor.createWorker(this.Listener.bind(this),this.options)})}debug(t,...e){this.options.debug&&console.info(t,...e)}Listener(t){this.debug("Worker  >>>  Client:",t.data),Object.hasOwn(this.Commands,t.data.cmd)?this.Commands[t.data.cmd](this,t.data.data):this.debug("Invalid command from worker: "+t.data.cmd)}Post(t,e){const s=new Promise((s,r)=>{this.tasks.push(new og(t,e,s,r))});return this.ready&&1===this.tasks.length&&this.postNext(),s}postNext(){if(this.tasks.length){const t=Object.assign({},this.tasks[0].cmd,{debug:this.options.debug});this.worker.postMessage(t)}}Cancel(t){const e=this.tasks.findIndex(e=>e.item===t);e>0&&(this.tasks[e].reject(`Task ${this.tasks[e].cmd.cmd} cancelled`),this.tasks.splice(e,1))}Setup(t){return this.Post({cmd:"setup",data:{domain:t.domain,style:t.style,locale:t.locale,modality:t.modality}})}Speech(t,e,s){return ng(this,void 0,void 0,function*(){this.Attach(s,e.enableSpeech,e.enableBraille,yield this.Post({cmd:"speech",data:{mml:t,options:e}},s))})}nextRules(t,e,s){return ng(this,void 0,void 0,function*(){this.Attach(s,e.enableSpeech,e.enableBraille,yield this.Post({cmd:"nextRules",data:{mml:t,options:e}},s))})}nextStyle(t,e,s,r){return ng(this,void 0,void 0,function*(){this.Attach(r,e.enableSpeech,e.enableBraille,yield this.Post({cmd:"nextStyle",data:{mml:t,options:e,nodeId:s}},r))})}speechFor(t,e,s){return ng(this,void 0,void 0,function*(){const r=yield this.Post({cmd:"speech",data:{mml:t,options:e}},s);return JSON.parse(r)})}Attach(t,e,s,r){const i=JSON.parse(r),n=t.typesetRoot;if(!n)return;this.setSpecialAttributes(n,i.options,"data-semantic-",["locale","domain","style","domain2style"]);const o=this.adaptor;this.setSpecialAttributes(n,i.translations,"data-semantic-");for(const[t,e]of Object.entries(i.mactions)){let s=o.getElement("#"+t,n);s&&o.childNodes(s)[0]&&(s=o.childNodes(s)[0],o.setAttribute(s,"data-semantic-type","dummy"),this.setSpecialAttributes(s,e,""))}this.setSpeechAttributes(o.childNodes(n)[0],"",i,e,s),e&&(i.label&&(o.setAttribute(n,rg.SPEECH,i.label),o.setAttribute(n,rg.SPEECH_SSML,i.ssml),t.outputData.speech=i.label),o.setAttribute(n,"data-speech-attached","true")),s&&(i.braillelabel&&(o.setAttribute(n,rg.BRAILLE,i.braillelabel),t.outputData.braille=i.braillelabel),i.braille&&o.setAttribute(n,"data-braille-attached","true"))}setSpeechAttribute(t,e,s,r){var i,n;const o=this.adaptor,a=o.getAttribute(t,"data-semantic-id");if(o.removeAttribute(t,"data-speech-node"),s&&e.speech[a]["speech-none"]){o.setAttribute(t,"data-speech-node","true");for(let[s,r]of Object.entries(e.speech[a]))s=s.replace(/-ssml$/,""),r&&o.setAttribute(t,`data-semantic-${s}`,r)}if(r&&(null===(n=null===(i=e.braille)||void 0===i?void 0:i[a])||void 0===n?void 0:n["braille-none"])){o.setAttribute(t,"data-speech-node","true");const s=e.braille[a]["braille-none"];o.setAttribute(t,rg.BRAILLE,s)}}setSpeechAttributes(t,e,s,r,i){const n=this.adaptor;if(!t||"#text"===n.kind(t)||"#comment"===n.kind(t))return e;n.hasAttribute(t,"data-semantic-id")&&(this.setSpeechAttribute(t,s,r,i),e||n.hasAttribute(t,"data-semantic-parent")||(e=n.getAttribute(t,"data-semantic-id")));for(const o of Array.from(n.childNodes(t)))e=this.setSpeechAttributes(o,e,s,r,i);return e}setSpecialAttributes(t,e,s,r){if(e){r=r||Object.keys(e);for(const i of r){const r=e[i];r&&this.adaptor.setAttribute(t,`${s}${i.toLowerCase()}`,r)}}}Detach(t){const e=t.typesetRoot;this.adaptor.removeAttribute(e,"data-speech-attached"),this.adaptor.removeAttribute(e,"data-braille-attached"),this.detachSpeech(e)}detachSpeech(t){const e=this.adaptor,s=e.childNodes(t);if(s){if("#text"!==e.kind(t))for(const s of["none","summary-none","speech","speech-none","summary","braille"])e.removeAttribute(t,`data-semantic-${s}`);for(const t of s)this.detachSpeech(t)}}Terminate(){this.debug("Terminating pending tasks");for(const t of this.tasks)t.reject(`${t.cmd.data.cmd} cancelled by WorkerHandler termination`);return this.tasks=[],this.debug("Terminating worker"),this.worker.terminate()}Stop(){return ng(this,void 0,void 0,function*(){if(!this.worker)throw Error("Worker has not been started");yield this.Terminate(),this.worker=null,this.ready=!1})}clearspeakLocalePreferences(t,e){return ng(this,void 0,void 0,function*(){yield this.Post({cmd:"localePreferences",data:{options:t}}).then(s=>{e.set(t.locale,JSON.parse(s))})})}clearspeakRelevantPreferences(t,e,s,r){return ng(this,void 0,void 0,function*(){yield this.Post({cmd:"relevantPreferences",data:{mml:t,id:e}}).then(t=>{s.set(r,t)})})}}const cg=Xr.config||{},lg=()=>(cg?.loader?.paths?.mathjax||cg?.__dirname||"/")+"/sre";var hg=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};function dg(t){return class extends t{constructor(){super(...arguments),this.generatorPool=new ig}attachSpeech(t){if(this.outputData.speechPromise=null,this.state()>=Gi.ATTACHSPEECH)return;if(this.state(Gi.ATTACHSPEECH),this.isEscaped||!t.options.enableSpeech&&!t.options.enableBraille||!t.options.enableEnrichment)return;t.getWebworker(),this.generatorPool.init(t.options,t.adaptor,t.webworker),this.outputData.mml=this.toMathML(this.root,this);const e=this.generatorPool.Speech(this).catch(e=>t.options.speechError(t,this,e));t.savePromise(e),this.outputData.speechPromise=e}detachSpeech(t){t.webworker.Detach(this)}speechFor(t){return hg(this,void 0,void 0,function*(){t=this.toEnriched(t);const e=yield this.generatorPool.SpeechFor(this,t);return[e.label,e.braillelabel]})}clear(){this.generatorPool.cancel(this)}}}function ug(t){var e;return e=class extends t{constructor(...t){super(...t),this.webworker=null;const e=this.constructor.ProcessBits;e.has("attach-speech")||e.allocate("attach-speech"),this.options.MathItem=dg(this.options.MathItem)}getWebworker(){this.webworker||(this.webworker=new ag(this.adaptor,this.options.worker),this.webworker.Start())}attachSpeech(){if(!this.processed.isSet("attach-speech")){const t=this.options;if(t.enableEnrichment&&(t.enableSpeech||t.enableBraille)){this.getWebworker();for(const t of this.math)t.attachSpeech(this)}this.processed.set("attach-speech")}return this}speechError(t,e,s){console.warn("Speech generation error:",s)}state(t,e=!1){if(super.state(t,e),t<Gi.ATTACHSPEECH&&(this.processed.clear("attach-speech"),t>=Gi.TYPESET))for(const t of this.math)t.detachSpeech(this);return this}done(){const t=Object.create(null,{done:{get:()=>super.done}});return hg(this,void 0,void 0,function*(){var e;return yield null===(e=this.webworker)||void 0===e?void 0:e.Stop(),t.done.call(this)})}},e.OPTIONS=Object.assign(Object.assign({},t.OPTIONS),{enableSpeech:!0,enableBraille:!0,speechError:(t,e,s)=>t.speechError(t,e,s),renderActions:pi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{attachSpeech:[Gi.ATTACHSPEECH]})),worker:{path:lg(),maps:lg().replace(/[cm]js\/a11y\/sre$/,"bundle/sre/mathmaps"),worker:"speech-worker.js",debug:!1},a11y:pi({speech:!0,braille:!0})}),e}function pg(t,e){return!t.documentClass.prototype.enrich&&e&&(t=Wf(t,e)),t.documentClass=ug(t.documentClass),t}if(zi("ATTACHSPEECH",Gi.INSERTED+10),MathJax.loader&&MathJax.loader.checkVersion("a11y/speech",jr,"a11y"),Vr({_:{a11y:{speech_ts:cs,speech:{GeneratorPool:os,SpeechUtil:ns,WebWorker:as}}}}),MathJax.loader){let t=Yr.resolvePath("[sre]",!1),e=Yr.resolvePath("[mathmaps]",!1);if($r)t=new URL(t,location).href,e=new URL(e,location).href;else{const s="undefined"!=typeof require?require:MathJax.config.loader.require;s?.resolve?(t=s.resolve(`${t}/require.mjs`).replace(/\/[^\/]*$/,""),e=s.resolve(`${e}/base.json`).replace(/\/[^\/]*$/,"")):t=e=""}t&&Wr(MathJax.config,"options",{worker:{path:t,maps:e}})}MathJax.startup&&MathJax.startup.extendHandler(t=>pg(t));const mg={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function fg(t,e){var s;const r=mg[t.color]||mg[e.color];return r.alpha=null!==(s=t.alpha)&&void 0!==s?s:e.alpha,function(t){var e;return`rgba(${t.red},${t.green},${t.blue},${null!==(e=t.alpha)&&void 0!==e?e:1})`}(r)}const gg={color:"blue",alpha:1},bg={color:"black",alpha:1};let xg=0;class Eg{constructor(){this.counter=xg++,this.ATTR="sre-highlight-"+this.counter.toString(),this.mactionName="",this.currentHighlights=[]}highlight(t){this.currentHighlights.push(t.map(t=>{const e=this.highlightNode(t);return this.setHighlighted(t),e}))}highlightAll(t){const e=this.getMactionNodes(t);for(let t,s=0;t=e[s];s++)this.highlight([t])}unhighlight(){const t=this.currentHighlights.pop();t&&t.forEach(t=>{this.isHighlighted(t.node)&&(this.unhighlightNode(t),this.unsetHighlighted(t.node))})}unhighlightAll(){for(;this.currentHighlights.length>0;)this.unhighlight()}setColor(t,e){this._foreground=fg(e,bg),this._background=fg(t,gg)}get foreground(){return this._foreground}get background(){return this._background}getMactionNodes(t){return Array.from(t.getElementsByClassName(this.mactionName))}isMactionNode(t){const e=t.className||t.getAttribute("class");return!!e&&!!e.match(new RegExp(this.mactionName))}isHighlighted(t){return t.hasAttribute(this.ATTR)}setHighlighted(t){t.setAttribute(this.ATTR,"true")}unsetHighlighted(t){t.removeAttribute(this.ATTR)}}class yg extends Eg{constructor(){super(),this.mactionName="mjx-maction"}highlightNode(t){const e={node:t,background:t.style.backgroundColor,foreground:t.style.color};return this.isHighlighted(t)||(t.style.backgroundColor=this.background,t.style.color=this.foreground),e}unhighlightNode(t){t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground}isMactionNode(t){var e;return(null===(e=t.tagName)||void 0===e?void 0:e.toUpperCase())===this.mactionName.toUpperCase()}getMactionNodes(t){return Array.from(t.getElementsByTagName(this.mactionName))}}function Ng(t,e,s){const r=new _g[s];return r.setColor(t,e),r}const _g={SVG:class extends Eg{constructor(){super(),this.mactionName="maction"}highlightNode(t){let e;if(this.isHighlighted(t))return e={node:t,background:this.background,foreground:this.foreground},e;if("svg"===t.tagName||"MJX-CONTAINER"===t.tagName)return e={node:t,background:t.style.backgroundColor,foreground:t.style.color},t.style.backgroundColor=this.background,t.style.color=this.foreground,e;const s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("sre-highlighter-added","true");const r=t.getBBox();s.setAttribute("x",(r.x-40).toString()),s.setAttribute("y",(r.y-40).toString()),s.setAttribute("width",(r.width+80).toString()),s.setAttribute("height",(r.height+80).toString());const i=t.getAttribute("transform");return i&&s.setAttribute("transform",i),s.setAttribute("fill",this.background),t.setAttribute(this.ATTR,"true"),t.parentNode.insertBefore(s,t),e={node:t,foreground:t.getAttribute("fill")},"rect"!==t.nodeName&&t.setAttribute("fill",this.foreground),e}setHighlighted(t){"svg"===t.tagName&&super.setHighlighted(t)}unhighlightNode(t){const e=t.node.previousSibling;if(e&&e.hasAttribute("sre-highlighter-added"))return t.foreground?t.node.setAttribute("fill",t.foreground):t.node.removeAttribute("fill"),void t.node.parentNode.removeChild(e);t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground}isMactionNode(t){return t.getAttribute("data-mml-node")===this.mactionName}getMactionNodes(t){return Array.from(t.querySelectorAll(`[data-mml-node="${this.mactionName}"]`))}},CHTML:yg,generic:yg};class vg{constructor(t){this.document=t,this.CLASS=this.constructor,this.AddStyles()}AddStyles(){if(this.CLASS.styleAdded)return;const t=this.document.adaptor.node("style");t.innerHTML=this.CLASS.style.cssText,this.document.adaptor.head(this.document.adaptor.document).appendChild(t),this.CLASS.styleAdded=!0}AddElement(){if(this.div)return;const t=this.document.adaptor.node("div");t.classList.add(this.CLASS.className),this.div=t,this.inner=this.document.adaptor.node("div"),this.div.appendChild(this.inner),this.document.adaptor.body(this.document.adaptor.document).appendChild(this.div)}Show(t,e){this.AddElement(),this.position(t),this.highlight(e),this.div.classList.add(this.CLASS.className+"_Show")}Hide(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null,this.inner=null)}stackRegions(t){const e=t.getBoundingClientRect();let s=0,r=Number.POSITIVE_INFINITY;const i=this.document.adaptor.document.getElementsByClassName(this.CLASS.className+"_Show");for(let t,e=0;t=i[e];e++)t!==this.div&&(s=Math.max(t.getBoundingClientRect().bottom,s),r=Math.min(t.getBoundingClientRect().left,r));const n=(s||e.bottom+10)+window.scrollY,o=(r<Number.POSITIVE_INFINITY?r:e.left)+window.scrollX;this.div.style.top=n+"px",this.div.style.left=o+"px"}}vg.styleAdded=!1;class wg extends vg{Clear(){}Update(){}Hide(){}Show(){}AddElement(){}AddStyles(){}position(){}highlight(t){}}class Cg extends vg{Clear(){this.div&&(this.Update(""),this.inner.style.top="",this.inner.style.backgroundColor="")}Update(t){t&&this.AddElement(),this.inner&&(this.inner.textContent="",this.inner.textContent=t||"\xa0")}position(t){this.stackRegions(t)}highlight(t){this.div&&(this.inner.style.backgroundColor=t.background,this.inner.style.color=t.foreground)}}class kg extends Cg{}kg.className="MJX_ToolTip",kg.style=new ca({["."+kg.className]:{width:"auto",height:"auto",opacity:1,"text-align":"center","border-radius":"4px",padding:0,"border-bottom":"1px dotted black",position:"absolute",display:"inline-block","background-color":"white","z-index":202},["."+kg.className+" > div"]:{"border-radius":"inherit",padding:"0 2px"}});class Ag extends Cg{}Ag.className="MJX_LiveRegion",Ag.style=new ca({["."+Ag.className]:{position:"absolute",top:0,display:"none",width:"auto",height:"auto",padding:0,opacity:1,"z-index":"202",left:0,right:0,margin:"0 auto","background-color":"white","box-shadow":"0px 5px 20px #888",border:"2px solid #CCCCCC"},["."+Ag.className+"_Show"]:{display:"block"}});class Tg extends Ag{constructor(){super(...arguments),this.active=!1,this.node=null,this.clear=!1,this.highlighter=Ng({color:"red"},{color:"black"},this.document.outputJax.name),this.voiceRequest=!1,this.voiceCancelled=!1}Show(t,e){super.Update("\xa0"),this.node=t,super.Show(t,e)}Update(t){if(this.voiceRequest)return void this.makeVoice(t);speechSynthesis.onvoiceschanged=(()=>this.voiceRequest=!0).bind(this);new Promise(t=>{setTimeout(()=>{this.voiceRequest?t(!0):setTimeout(()=>{this.voiceRequest=!0,t(!0)},100)},100)}).then(()=>this.makeVoice(t))}makeVoice(t){this.active=this.document.options.a11y.voicing&&!!speechSynthesis.getVoices().length,speechSynthesis.cancel(),this.clear=!0;const[e,s]=tg(t,this.document.options.sre.locale,this.document.options.sre.rate);super.Update(e),this.active&&e&&this.makeUtterances(s,this.document.options.sre.locale)}makeUtterances(t,e){this.voiceCancelled=!1;let s=null;for(const r of t)if(r.mark){if(!s){this.highlightNode(r.mark,!0);continue}s.addEventListener("end",t=>{this.voiceCancelled||this.highlightNode(r.mark)})}else{if(r.pause){const t=parseInt(r.pause.match(/^[0-9]+/)[0]);if(isNaN(t)||!s)continue;s.addEventListener("end",e=>{speechSynthesis.pause(),setTimeout(()=>{speechSynthesis.resume()},t)});continue}s=new SpeechSynthesisUtterance(r.text),r.rate&&(s.rate=r.rate),r.pitch&&(s.pitch=r.pitch),s.lang=e,speechSynthesis.speak(s)}s&&s.addEventListener("end",t=>{this.highlighter.unhighlight()})}Hide(){this.cancelVoice(),super.Hide()}cancelVoice(){this.voiceCancelled=!0,speechSynthesis.cancel(),this.highlighter.unhighlight()}highlightNode(t,e=!1){this.highlighter.unhighlight();const s=Array.from(this.node.querySelectorAll(`[data-semantic-id="${t}"]`));this.clear&&!e||this.highlighter.highlight(s),this.clear=!1}}class Mg extends vg{position(t){const e=t.getBoundingClientRect(),s=this.div.getBoundingClientRect();let r,i=e.left+e.width/2-s.width/2;switch(i=i<0?0:i,i+=window.scrollX,this.document.options.a11y.align){case"top":r=e.top-s.height-10;break;case"bottom":r=e.bottom+10;break;default:r=e.top+e.height/2-s.height/2}r+=window.scrollY,r=r<0?0:r,this.div.style.top=r+"px",this.div.style.left=i+"px"}highlight(t){this.div&&(this.inner.firstChild&&!this.inner.firstChild.hasAttribute("sre-highlight")||(this.inner.style.backgroundColor=t.background,this.inner.style.color=t.foreground))}Show(t,e){this.AddElement(),this.div.style.fontSize=this.document.options.a11y.magnify,this.Update(t),super.Show(t,e)}Clear(){this.div&&(this.inner.textContent="",this.inner.style.top="",this.inner.style.backgroundColor="")}Update(t){if(!this.div)return;this.Clear();const e=this.cloneNode(t),s=e.querySelector("[data-mjx-clone]");this.inner.style.backgroundColor=t.style.backgroundColor,s.style.backgroundColor="",s.classList.remove("mjx-selected"),this.inner.appendChild(e),this.position(t)}cloneNode(t){let e=t.cloneNode(!0);if(e.setAttribute("data-mjx-clone","true"),"MJX-CONTAINER"!==e.nodeName){"g"!==e.nodeName&&(e.style.marginLeft=e.style.marginRight="0");let s=t;for(;s&&"MJX-CONTAINER"!==s.nodeName;)s=s.parentNode;if("MJX-MATH"!==e.nodeName&&"svg"!==e.nodeName){if(e=s.firstChild.cloneNode(!1).appendChild(e).parentNode,"svg"===e.nodeName){e.firstChild.setAttribute("transform","matrix(1 0 0 -1 0 0)");const r=parseFloat(e.getAttribute("viewBox").split(/ /)[2]),i=parseFloat(e.getAttribute("width")),{x:n,y:o,width:a,height:c}=t.getBBox();e.setAttribute("viewBox",[n,-(o+c),a,c].join(" ")),e.removeAttribute("style"),e.setAttribute("width",i/r*a+"ex"),e.setAttribute("height",i/r*c+"ex"),s.setAttribute("sre-highlight","false")}}e=s.cloneNode(!1).appendChild(e).parentNode,e.style.margin="0"}return e}}Mg.className="MJX_HoverRegion",Mg.style=new ca({["."+Mg.className]:{display:"block",position:"absolute",width:"max-content",height:"auto",padding:0,opacity:1,"z-index":"202",margin:"0 auto","background-color":"white","line-height":0,"box-shadow":"0px 10px 20px #888",border:"2px solid #CCCCCC"},["."+Mg.className+" > div"]:{overflow:"hidden"}});class Sg{get highlighter(){return this.pool.highlighter}static stopEvent(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopImmediatePropagation?t.stopImmediatePropagation():t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}static create(t,e,s,r,...i){return new this(t,e,s,r,...i)}constructor(t,e,s,r,...i){this.document=t,this.pool=e,this.region=s,this.node=r,this.stoppable=!0,this.events=[],this._active=!1}Events(){return this.events}get active(){return this._active}set active(t){this._active=t}Attach(){this.AddEvents()}Detach(){this.RemoveEvents()}Start(){this.active=!0}Stop(){this.active&&(this.region.Clear(),this.region.Hide(),this.active=!1)}AddEvents(){for(const[t,e]of this.events)this.node.addEventListener(t,e)}RemoveEvents(){for(const[t,e]of this.events)this.node.removeEventListener(t,e)}Update(t=!1){}stopEvent(t){this.stoppable&&Sg.stopEvent(t)}}var Lg=function(t,e,s,r){return new(s||(s=Promise))(function(i,n){function o(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})};const Ig="[data-speech-node]";function Rg(t){return t.matches("mjx-container")}function Og(t,e=!0){return t.shiftKey&&e||t.metaKey||t.altKey||t.ctrlKey}const Pg=new Map([["MacOS",["on MacOS and iOS using VoiceOver",", or the VoiceOver arrow keys to select an expression"]],["Windows",["in Windows using NVDA or JAWS",". The screen reader should enter focus or forms mode automatically\nwhen the expression gets the browser focus, but if not, you can toggle\nfocus mode using NVDA+space in NVDA; for JAWS, Enter should start\nforms mode while Numpad Plus leaves it.  Also note that you can use\nthe NVDA or JAWS key plus the arrow keys to explore the expression\neven in browse mode, and you can use NVDA+shift+arrow keys to\nnavigate out of an expression that has the focus in NVDA"]],["Unix",["in Unix using Orca",", and Orca should enter focus mode automatically.  If not, use the\nOrca+a key to toggle focus mode on or off.  Also note that you can use\nOrca+arrow keys to explore expressions even in browse mode"]],["unknown",["with a Screen Reader.",""]]]);class Dg extends Sg{get generators(){var t;return null===(t=this.item)||void 0===t?void 0:t.generatorPool}get role(){return this.item.ariaRole}get description(){return this.item.roleDescription}get none(){return this.item.none}FocusIn(t){this.item.outputData.nofocus?this.item.outputData.nofocus=!1:(this.clicked||this.Start(),this.clicked=null)}FocusOut(t){this.current&&!this.focusSpeech&&(this.setCurrent(null),this.Stop(),document.hasFocus()||this.focusTop())}KeyDown(t){if(this.pendingIndex.shift(),this.region.cancelVoice(),Og(t,!1))return;const e=this.constructor,s=1===t.key.length?t.key.toLowerCase():t.key,[r,i]=e.keyMap.get(s)||[],n=r?void 0===i||this.active?r(this,t):i:this.undefinedKey(t);n||(this.stopEvent(t),!1===n&&this.sound&&this.NoMove())}MouseDown(t){var e;if(this.pendingIndex=[],this.region.cancelVoice(),Og(t)||2===t.buttons)return void(this.item.outputData.nofocus=!0);const s=this.findClicked(t.target,t.x,t.y);s!==this.document.infoIcon?(null===(e=document.getSelection())||void 0===e||e.removeAllRanges(),t.target.getAttribute("sre-highlighter-added")?this.refocus=s:this.clicked=s):this.stopEvent(t)}Click(t){if(Og(t)||2===t.buttons||"Range"===document.getSelection().type)return void this.FocusOut(null);const e=this.findClicked(t.target,t.x,t.y);if(e===this.document.infoIcon)return this.stopEvent(t),void this.help();e&&!this.node.contains(e)||(this.stopEvent(t),this.refocus=e,this.triggerLinkMouse()||this.Start())}DblClick(t){var e;const s=null!==(e=document.getSelection().direction)&&void 0!==e?e:"none";Og(t)||2===t.buttons||"none"!==s?this.FocusOut(null):(this.stopEvent(t),this.refocus=this.rootNode(),this.Start())}spaceKey(){return this.refocus=this.current,!0}hKey(){this.refocus=this.current,this.help()}escapeKey(){return this.Stop(),this.focusTop(),!0}enterKey(t){if(this.active)if(this.triggerLinkKeyboard(t))this.Stop();else{const t=this.actionable(this.current);if(!t)return!1;this.refocus=t,t.dispatchEvent(new Event("click"))}else this.Start()}homeKey(){this.setCurrent(this.rootNode())}moveDown(t){return t?this.moveToNeighborCell(1,0):this.moveTo(this.firstNode(this.current))}moveUp(t){return t?this.moveToNeighborCell(-1,0):this.moveTo(this.getParent(this.current))}moveRight(t){return t?this.moveToNeighborCell(0,1):this.moveTo(this.nextSibling(this.current))}moveLeft(t){return t?this.moveToNeighborCell(0,-1):this.moveTo(this.prevSibling(this.current))}moveTo(t){if(!t)return!1;this.setCurrent(t)}moveToNeighborCell(t,e){const s=this.tableCell(this.current);if(!s)return!1;const[r,i]=this.cellPosition(s);if(null==r)return!1;const n=this.cellAt(this.cellTable(s),r+t,i+e);if(!n)return!1;this.setCurrent(n)}undefinedKey(t){return!this.active||Og(t)}addMark(){this.current===this.marks[this.marks.length-1]?this.setCurrent(this.current):(this.currentMark=this.marks.length-1,this.marks.push(this.current),this.speak("Position marked"))}prevMark(){if(this.currentMark<0){if(0===this.marks.length)return void this.setCurrent(this.lastMark||this.rootNode());this.currentMark=this.marks.length-1}const t=this.currentMark;this.setCurrent(this.marks[t]),this.currentMark=t-1}clearMarks(){this.marks=[],this.currentMark=-1,this.prevMark()}autoVoice(){const t=!this.document.options.a11y.voicing;this.document.menu?this.document.menu.menu.pool.lookup("voicing").setValue(t):this.document.options.a11y.voicing=t,this.Update()}numberKey(t){if(!this.tableCell(this.current))return!1;if(0===t&&(t=10),this.pendingIndex.length){const e=this.cellTable(this.tableCell(this.current)),s=this.cellAt(e,this.pendingIndex[0]-1,t-1);if(this.pendingIndex=[],this.speak(String(t)),!s)return!1;setTimeout(()=>this.setCurrent(s),500)}else this.pendingIndex=[null,t],this.speak(`Jump to row ${t} and column`)}depth(){var t,e,s;if("d"===this.speechType)return void this.setCurrent(this.current);this.speechType="d";const r=[[null!==(t=this.node.getAttribute("data-semantic-level"))&&void 0!==t?t:"Level",null!==(e=this.current.getAttribute("aria-level"))&&void 0!==e?e:"0"].join(" ").trim()],i=this.actionable(this.current);i&&r.unshift(null!==(s=this.node.getAttribute("1"===i.getAttribute("toggle")?"data-semantic-expandable":"data-semantic-collapsible"))&&void 0!==s?s:""),this.speak(r.join(" "),this.current.getAttribute(rg.BRAILLE))}summary(){if("x"===this.speechType)return void this.setCurrent(this.current);this.speechType="x";const t=this.current.getAttribute(rg.SUMMARY);this.speak(t,this.current.getAttribute(rg.BRAILLE),this.SsmlAttributes(this.current,rg.SUMMARY_SSML))}nextRules(){this.node.removeAttribute("data-speech-attached"),this.restartAfter(this.generators.nextRules(this.item))}nextStyle(){this.node.removeAttribute("data-speech-attached"),this.restartAfter(this.generators.nextStyle(this.current,this.item))}details(){const t=this.actionable(this.current);if(!t||!t.getAttribute("data-collapsible")||"1"!==t.getAttribute("toggle")||"z"===this.speechType)return void this.setCurrent(this.current);this.speechType="z";const e=this.nodeId(this.current);let s;this.item.root.walkTree(t=>{t.attributes.get("data-semantic-id")===e&&(s=t)});let r=this.item.toMathML(s,this.item);s.isKind("math")||(r=`<math>${r}</math>`),r=r.replace(/ (?:data-semantic-|aria-|data-speech-|data-latex).*?=".*?"/g,""),this.item.speechFor(r).then(([t,e])=>this.speak(t,e))}help(){const t=this.document.adaptor,e=t.node("mjx-help-background"),s=t=>{e.remove(),this.node.focus(),this.stopEvent(t)};e.addEventListener("click",s);const r=t.node("mjx-help-sizer",{},[t.node("mjx-help-dialog",{tabindex:0,role:"dialog","aria-labeledby":"mjx-help-label"},[t.node("h1",{id:"mjx-help-label"},[t.text("MathJax Expression Explorer Help")]),t.node("div"),t.node("input",{type:"button",value:"Close"})])]);e.append(r);const i=r.firstChild;i.addEventListener("click",t=>this.stopEvent(t)),i.lastChild.addEventListener("click",s),i.addEventListener("keydown",t=>{"Escape"===t.code&&s(t)});const[n,o]=Pg.get(Jr.os);i.childNodes[1].innerHTML=function(t,e){return`\n<H2>Exploring expressions ${t}</h2>\n\n<p>The mathematics on this page is being rendered by <a\nhref="https://www.mathjax.org/" target="_blank">MathJax</a>, which\ngenerates both the text spoken by screen readers, as well as the\nvisual layout for sighted users.</p>\n\n<p>Expressions typeset by MathJax can be explored interactively, and\nare focusable.  You can use the <kbd>Tab</kbd> key to move to a typeset\nexpression${e}.  Initially, the expression will be read in full,\nbut you can use the following keys to explore the expression\nfurther:<p>\n\n<ul>\n\n<li><kbd>Down Arrow</kbd> moves one level deeper into the expression to\nallow you to explore the current subexpression term by term.</li>\n\n<li><kbd>Up Arrow</kbd> moves back up a level within the expression.</li>\n\n<li><kbd>Right Arrow</kbd> moves to the next term in the current\nsubexpression.</li>\n\n<li><kbd>Left Arrow</kbd> moves to the next term in the current\nsubexpression.</li>\n\n<li><kbd>Shift</kbd>+<kbd>Arrow</kbd> moves to a neighboring cell within a table.\n\n<li><kbd>0-9</kbd>+<kbd>0-9</kbd> jumps to a cell by its index in the table, where 0 = 10.\n\n<li><kbd>Home</kbd> takes you to the top of the expression.</li>\n\n<li><kbd>Enter</kbd> or <kbd>Return</kbd> clicks a link or activates an active\nsubexpression.</li>\n\n<li><kbd>Space</kbd> opens the MathJax contextual menu where you can view\nor copy the source format of the expression, or modify MathJax's\nsettings.</li>\n\n<li><kbd>Escape</kbd> exits the expression explorer.</li>\n\n<li><kbd>x</kbd> gives a summary of the current subexpression.</li>\n\n<li><kbd>z</kbd> gives the full text of a collapsed expression.</li>\n\n<li><kbd>d</kbd> gives the current depth within the expression.</li>\n\n<li><kbd>s</kbd> starts or stops auto-voicing with synchronized highlighting.</li>\n\n<li><kbd>v</kbd> marks the current position in the expression.</li>\n\n<li><kbd>p</kbd> cycles through the marked positions in the expression.</li>\n\n<li><kbd>u</kbd> clears all marked positions and returns to the starting position.</li>\n\n<li><kbd>&gt;</kbd> cycles through the available speech rule sets\n(MathSpeak, ClearSpeak).</li>\n\n<li><kbd>&lt;</kbd> cycles through the verbosity levels for the current\nrule set.</li>\n\n<li><kbd>h</kbd> produces this help listing.</li>\n</ul>\n\n<p>The MathJax contextual menu allows you to enable or disable speech\nor Braille generation for mathematical expressions, the language to\nuse for the spoken mathematics, and other features of MathJax.  In\nparticular, the Explorer submenu allows you to specify how the\nmathematics should be identified in the page (e.g., by saying "math"\nwhen the expression is spoken), and whether or not to include a\nmessage about the letter "h" bringing up this dialog box.</p>\n\n<p>The contextual menu also provides options for viewing or copying a\nMathML version of the expression or its original source format,\ncreating an SVG version of the expression, and viewing various other\ninformation.</p>\n\n<p>For more help, see the <a\nhref="https://docs.mathjax.org/en/latest/basic/accessibility.html"\ntarge="_blank">MathJax accessibility documentation.</a></p>\n`}(n,o),document.body.append(e),i.focus()}setCurrent(t,e=!1){if(this.speechType="",document.hasFocus()||(this.refocus=this.current),this.node.setAttribute("aria-busy","true"),this.current){for(const t of this.getSplitNodes(this.current))t.classList.remove("mjx-selected");this.pool.unhighlight(),"last"===this.document.options.a11y.tabSelects&&(this.refocus=this.current),t||(this.lastMark=this.current,this.removeSpeech()),this.current=null}if(this.current=t,this.currentMark=-1,this.current){const s=this.getSplitNodes(this.current);for(const t of s)t.classList.add("mjx-selected");this.pool.highlight(s),this.addSpeech(t,e)}this.node.removeAttribute("aria-busy")}getSplitNodes(t){const e=this.nodeId(t);return e?Array.from(this.node.querySelectorAll(`[data-semantic-id="${e}"]`)):[t]}addSpeech(t,e){var s;null===(s=this.img)||void 0===s||s.remove();let r=[t.getAttribute(rg.PREFIX),t.getAttribute(rg.SPEECH),t.getAttribute(rg.POSTFIX)].join(" ").trim();if(e){let t=this.description===this.none?"":", "+this.description;this.document.options.a11y.help&&(t+=", press h for help"),r+=t}this.speak(r,t.getAttribute(rg.BRAILLE),this.SsmlAttributes(t,rg.SPEECH_SSML)),this.node.setAttribute("tabindex","-1")}removeSpeech(){this.speech&&(this.speech.remove(),this.speech=null,this.img&&this.node.append(this.img),this.node.setAttribute("tabindex","0"))}speak(t,e="",s=null,r=this.none){const i=this.speech;this.speech=document.createElement("mjx-speech"),this.speech.setAttribute("role",this.role),this.speech.setAttribute("aria-label",t),this.speech.setAttribute(rg.SPEECH,t),s&&(this.speech.setAttribute(rg.PREFIX_SSML,s[0]||""),this.speech.setAttribute(rg.SPEECH_SSML,s[1]||""),this.speech.setAttribute(rg.POSTFIX_SSML,s[2]||"")),e&&this.speech.setAttribute("aria-braillelabel",e),this.speech.setAttribute("aria-roledescription",r),this.speech.setAttribute("tabindex","0"),this.node.append(this.speech),this.focusSpeech=!0,this.speech.focus(),this.focusSpeech=!1,this.Update(),i&&setTimeout(()=>i.remove(),100)}attachSpeech(){var t;const e=this.item,s=this.node;if(!s.hasAttribute("has-speech")){for(const t of Array.from(s.childNodes))t.setAttribute("aria-hidden","true");s.setAttribute("has-speech","true")}const r=e.roleDescription,i=(s.getAttribute(rg.SPEECH)||"")+(r?", "+r:"");null===(t=this.img)||void 0===t||t.remove(),this.img=this.document.adaptor.node("mjx-speech",{"aria-label":i,role:"img","aria-roledescription":e.none}),s.appendChild(this.img)}detachSpeech(){var t;const e=this.node;null===(t=this.img)||void 0===t||t.remove(),e.removeAttribute("has-speech");for(const t of Array.from(e.childNodes))t.removeAttribute("aria-hidden")}focus(){this.node.focus()}nodeId(t){return t.getAttribute("data-semantic-id")}parentId(t){return t.getAttribute("data-semantic-parent")}getNode(t){return t?this.node.querySelector(`[data-semantic-id="${t}"]`):null}getParent(t){return this.getNode(this.parentId(t))}childArray(t){return t?t.getAttribute("data-semantic-children").split(/,/):[]}isCell(t){return!!t&&this.cellTypes.includes(t.getAttribute("data-semantic-type"))}isRow(t){return!!t&&"row"===t.getAttribute("data-semantic-type")}tableCell(t){for(;t&&t!==this.node;){if(this.isCell(t))return t;t=t.parentNode}return null}cellTable(t){const e=this.getParent(t);return this.isRow(e)?this.getParent(e):e}cellPosition(t){const e=this.getParent(t),s=this.childArray(e).indexOf(this.nodeId(t));if(!this.isRow(e))return[s,1];const r=this.getParent(e);return[this.childArray(r).indexOf(this.nodeId(e)),s]}cellAt(t,e,s){const r=this.getNode(this.childArray(t)[e]);if(!this.isRow(r))return 1===s?r:null;return this.getNode(this.childArray(r)[s])}firstNode(t){const e=t.getAttribute("data-semantic-owns");if(!e)return t.querySelector(Ig);const s=e.split(/ /);for(const t of s){const e=this.getNode(t);if(null==e?void 0:e.hasAttribute("data-speech-node"))return e}return t.querySelector(Ig)}rootNode(){const t=this.node.querySelector("[data-semantic-structure]");if(!t)return this.node.querySelector(Ig);const e=t.getAttribute("data-semantic-structure").split(/ /)[0].replace("(","");return this.getNode(e)}nextSibling(t){var e;const s=this.parentId(t);if(!s)return null;const r=null===(e=this.getNode(s).getAttribute("data-semantic-owns"))||void 0===e?void 0:e.split(/ /);if(!r)return null;let i,n=r.indexOf(this.nodeId(t));do{i=this.getNode(r[++n])}while(i&&!i.hasAttribute("data-speech-node"));return i}prevSibling(t){var e;const s=this.parentId(t);if(!s)return null;const r=null===(e=this.getNode(s).getAttribute("data-semantic-owns"))||void 0===e?void 0:e.split(/ /);if(!r)return null;let i,n=r.indexOf(this.nodeId(t));do{i=this.getNode(r[--n])}while(i&&!i.hasAttribute("data-speech-node"));return i}findClicked(t,e,s){const r=this.document.infoIcon;if(r===t||r.contains(t))return r;if("SVG"!==this.node.getAttribute("jax"))return t.closest(Ig);let i=null,n=this.node;for(;n;){n.matches(Ig)&&(i=n);const t=Array.from(n.childNodes);n=null;for(const r of t)if(r!==this.speech&&r!==this.img&&"rect"!==r.tagName.toLowerCase()){const{left:t,right:i,top:o,bottom:a}=r.getBoundingClientRect();if(t<=e&&e<=i&&o<=s&&s<=a){n=r;break}}}return i}focusTop(){this.focusSpeech=!0,this.node.focus(),this.focusSpeech=!1}SsmlAttributes(t,e){return[t.getAttribute(rg.PREFIX_SSML),t.getAttribute(e),t.getAttribute(rg.POSTFIX_SSML)]}restartAfter(t){return Lg(this,void 0,void 0,function*(){yield t,this.attachSpeech();const e=this.current;this.current=null,this.pool.unhighlight(),this.setCurrent(e)})}constructor(t,e,s,r,i,n,o,a){super(t,e,null,r),this.document=t,this.pool=e,this.region=s,this.node=r,this.brailleRegion=i,this.magnifyRegion=n,this.item=a,this.sound=!1,this.current=null,this.clicked=null,this.refocus=null,this.focusSpeech=!1,this.restarted=null,this.speech=null,this.speechType="",this.img=null,this.attached=!1,this.eventsAttached=!1,this.marks=[],this.currentMark=-1,this.lastMark=null,this.pendingIndex=[],this.cellTypes=["cell","line"],this.events=super.Events().concat([["focusin",this.FocusIn.bind(this)],["focusout",this.FocusOut.bind(this)],["keydown",this.KeyDown.bind(this)],["mousedown",this.MouseDown.bind(this)],["click",this.Click.bind(this)],["dblclick",this.DblClick.bind(this)]])}findStartNode(){let t=this.refocus||this.current;return!t&&this.restarted&&(t=this.node.querySelector(this.restarted)),this.refocus=this.restarted=null,t}Start(){const t=Object.create(null,{Start:{get:()=>super.Start}});return Lg(this,void 0,void 0,function*(){if(!this.attached||this.active)return;if(this.document.activeItem=this.item,this.item.state()<Gi.ATTACHSPEECH&&(this.item.attachSpeech(this.document),yield this.generators.promise),this.focusSpeech)return;this.node.classList.add("mjx-explorer-active"),this.node.append(this.document.infoIcon);const e=this.findStartNode();this.setCurrent(e||this.rootNode(),!e),t.Start.call(this);const s=this.document.options,r=s.a11y;r.subtitles&&r.speech&&s.enableSpeech&&this.region.Show(this.node,this.highlighter),r.viewBraille&&r.braille&&s.enableBraille&&this.brailleRegion.Show(this.node,this.highlighter),r.keyMagnifier&&this.magnifyRegion.Show(this.current,this.highlighter),this.Update()})}Stop(){if(this.active){const t=this.description;this.node.getAttribute("aria-roledescription")!==t&&this.node.setAttribute("aria-roledescription",t),this.node.classList.remove("mjx-explorer-active"),this.document.infoIcon.remove(),this.pool.unhighlight(),this.magnifyRegion.Hide(),this.region.Hide(),this.brailleRegion.Hide()}super.Stop()}Update(){this.active&&(this.region.node=this.node,this.generators.updateRegions(this.speech||this.node,this.region,this.brailleRegion),this.magnifyRegion.Update(this.current))}Attach(){this.attached||(super.Attach(),this.node.setAttribute("tabindex","0"),this.attached=!0)}Detach(){var t;super.RemoveEvents(),this.node.removeAttribute("role"),this.node.removeAttribute("aria-roledescription"),this.node.removeAttribute("aria-label"),null===(t=this.img)||void 0===t||t.remove(),this.active&&this.node.setAttribute("tabindex","0"),this.attached=!1}NoMove(){eg()}AddEvents(){this.eventsAttached||(super.AddEvents(),this.eventsAttached=!0)}actionable(t){const e=null==t?void 0:t.parentNode;return e&&this.highlighter.isMactionNode(e)?e:null}triggerLinkKeyboard(t){return this.current?this.triggerLink(this.current):t.target instanceof HTMLAnchorElement&&(t.target.dispatchEvent(new MouseEvent("click")),!0)}triggerLink(t){var e;if(null===(e=null==t?void 0:t.getAttribute("data-semantic-postfix"))||void 0===e?void 0:e.match(/(^| )link($| )/))for(;t&&t!==this.node;){if(t instanceof HTMLAnchorElement)return t.dispatchEvent(new MouseEvent("click")),setTimeout(()=>this.FocusOut(null),50),!0;t=t.parentNode}return!1}triggerLinkMouse(){let t=this.refocus;for(;t&&t!==this.node;){if(this.triggerLink(t))return!0;t=t.parentNode}return!1}semanticFocus(){const t=[];let e="data-semantic-id",s=this.current||this.refocus||this.node;const r=this.actionable(s);r&&(e=r.hasAttribute("data-maction-id")?"data-maction-id":"id",s=r,t.push(Ig));const i=s.getAttribute(e);return i&&t.unshift(`[${e}="${i}"]`),t.join(" ")}}Dg.keyMap=new Map([["Tab",[()=>!0]],["Escape",[t=>t.escapeKey()]],["Enter",[(t,e)=>t.enterKey(e)]],["Home",[t=>t.homeKey()]],["ArrowDown",[(t,e)=>t.moveDown(e.shiftKey),!0]],["ArrowUp",[(t,e)=>t.moveUp(e.shiftKey),!0]],["ArrowLeft",[(t,e)=>t.moveLeft(e.shiftKey),!0]],["ArrowRight",[(t,e)=>t.moveRight(e.shiftKey),!0]],[" ",[t=>t.spaceKey()]],["h",[t=>t.hKey()]],[">",[t=>t.nextRules(),!1]],["<",[t=>t.nextStyle(),!1]],["x",[t=>t.summary(),!1]],["z",[t=>t.details(),!1]],["d",[t=>t.depth(),!1]],["v",[t=>t.addMark(),!1]],["p",[t=>t.prevMark(),!1]],["u",[t=>t.clearMarks(),!1]],["s",[t=>t.autoVoice(),!1]],...[..."0123456789"].map(t=>[t,[e=>e.numberKey(parseInt(t)),!1]])]);class Bg extends Sg{constructor(){super(...arguments),this.events=super.Events().concat([["mouseover",this.MouseOver.bind(this)],["mouseout",this.MouseOut.bind(this)]])}MouseOver(t){this.Start()}MouseOut(t){this.Stop()}}class Fg extends Bg{constructor(t,e,s,r,i,n){super(t,e,s,r),this.document=t,this.pool=e,this.region=s,this.node=r,this.nodeQuery=i,this.nodeAccess=n}MouseOut(t){this.highlighter.unhighlight(),this.region.Hide(),super.MouseOut(t)}MouseOver(t){super.MouseOver(t);const e=t.target,[s,r]=this.getNode(e);s&&(this.highlighter.unhighlight(),this.highlighter.highlight([s]),this.region.Update(r),this.region.Show(s,this.highlighter))}getNode(t){const e=t;for(;t&&t!==this.node;){if(this.nodeQuery(t))return[t,this.nodeAccess(t)];t=t.parentNode}for(t=e;t;){if(this.nodeQuery(t))return[t,this.nodeAccess(t)];const e=t.childNodes[0];t=e&&"defs"===e.tagName?t.childNodes[1]:e}return[null,null]}}class qg extends Fg{}class jg extends Fg{}class Ug extends Fg{constructor(t,e,s,r){super(t,e,new wg(t),r,t=>this.highlighter.isMactionNode(t),()=>{}),this.document=t,this.pool=e,this.node=r}}class Hg extends Sg{constructor(t,e,s,r,i){super(t,e,null,r),this.document=t,this.pool=e,this.region=s,this.node=r,this.mml=i,this.stoppable=!1}Attach(){super.Attach(),this.Start()}Detach(){this.Stop(),super.Detach()}}class Gg extends Hg{Start(){this.active||(this.active=!0,this.highlighter.highlightAll(this.node))}Stop(){this.active&&this.highlighter.unhighlightAll(),this.active=!1}}class zg extends Hg{constructor(){super(...arguments),this.contrast=new Wg,this.leaves=[],this.modality="data-semantic-foreground"}Start(){this.active||(this.active=!0,this.node.hasAttribute("hasforegroundcolor")||(this.colorLeaves(),this.node.setAttribute("hasforegroundcolor","true")),this.leaves.forEach(t=>this.colorize(t)))}Stop(){this.active&&this.leaves.forEach(t=>this.uncolorize(t)),this.active=!1}colorLeaves(){this.leaves=Array.from(this.node.querySelectorAll("[data-semantic-id]:not([data-semantic-children])"));for(const t of this.leaves)t.setAttribute(this.modality,this.contrast.generate()),this.contrast.increment()}colorize(t){t.hasAttribute(this.modality)&&(t.setAttribute(this.modality+"-old",t.style.color),t.style.color=t.getAttribute(this.modality))}uncolorize(t){const e=this.modality+"-old";t.hasAttribute(e)&&(t.style.color=t.getAttribute(e))}}class Wg{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=53}generate(){return Wg.hsl2rgb(this.hue,this.sat,this.light)}increment(){this.hue=(this.hue+this.incr)%360}static hsl2rgb(t,e,s){e=e>1?e/100:e,s=s>1?s/100:s;const r=(1-Math.abs(2*s-1))*e,i=r*(1-Math.abs(t/60%2-1)),n=s-r/2;let o=0,a=0,c=0;return 0<=t&&t<60?[o,a,c]=[r,i,0]:60<=t&&t<120?[o,a,c]=[i,r,0]:120<=t&&t<180?[o,a,c]=[0,r,i]:180<=t&&t<240?[o,a,c]=[0,i,r]:240<=t&&t<300?[o,a,c]=[i,0,r]:300<=t&&t<360&&([o,a,c]=[r,0,i]),`rgb(${255*(o+n)}, ${255*(a+n)}, ${255*(c+n)})`}}class Vg{constructor(t){this.document=t,this.speechRegion=new Tg(this.document),this.brailleRegion=new Ag(this.document),this.magnifier=new Mg(this.document),this.tooltip1=new kg(this.document),this.tooltip2=new kg(this.document),this.tooltip3=new kg(this.document)}}const Xg={speech:(t,e,s,...r)=>{const i=Dg.create(t,e,t.explorerRegions.speechRegion,s,t.explorerRegions.brailleRegion,t.explorerRegions.magnifier,r[0],r[1]);return i.sound=!0,i},mouseMagnifier:(t,e,s,...r)=>jg.create(t,e,t.explorerRegions.magnifier,s,t=>t.hasAttribute("data-semantic-type"),t=>t),hover:(t,e,s,...r)=>Ug.create(t,e,null,s),infoType:(t,e,s,...r)=>qg.create(t,e,t.explorerRegions.tooltip1,s,t=>t.hasAttribute("data-semantic-type"),t=>t.getAttribute("data-semantic-type")),infoRole:(t,e,s,...r)=>qg.create(t,e,t.explorerRegions.tooltip2,s,t=>t.hasAttribute("data-semantic-role"),t=>t.getAttribute("data-semantic-role")),infoPrefix:(t,e,s,...r)=>qg.create(t,e,t.explorerRegions.tooltip3,s,t=>{var e;return null===(e=t.hasAttribute)||void 0===e?void 0:e.call(t,"data-semantic-prefix-none")},t=>{var e;return null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"data-semantic-prefix-none")}),flame:(t,e,s,...r)=>Gg.create(t,e,null,s),treeColoring:(t,e,s,...r)=>zg.create(t,e,null,s,...r)};class $g{constructor(){this.explorers={},this.attached=[],this._restart=[],this.speechExplorerKeys=["speech","braille","keyMagnifier"]}get highlighter(){if(this._renderer!==this.document.outputJax.name)return this._renderer=this.document.outputJax.name,this.setPrimaryHighlighter(),this._highlighter;const[t,e]=this.colorOptions();return this._highlighter.setColor(e,t),this._highlighter}init(t,e,s,r){this.document=t,this.mml=s,this.node=e,this.setPrimaryHighlighter();for(const t of Object.keys(Xg))this.explorers[t]=Xg[t](this.document,this,this.node,this.mml,r);this.setSecondaryHighlighter(),this.attach()}attach(){this.attached=[];const t=[],e=this.document.options.a11y;for(const[s,r]of Object.entries(this.explorers))r instanceof Dg?(r.stoppable=!1,t.unshift(r),this.speechExplorerKeys.some(t=>this.document.options.a11y[t])?(r.Attach(),this.attached.push(s)):r.Detach()):e[s]||"speech"===s&&(e.braille||e.keyMagnifier)?(r.Attach(),this.attached.push(s)):r.Detach();for(const e of t)if(e.attached){e.stoppable=!0;break}}reattach(){for(const t of this.attached){const e=this.explorers[t];e.active&&(this._restart.push(t),e.Stop())}}restart(){this._restart.forEach(t=>{this.explorers[t].Start()}),this._restart=[]}setPrimaryHighlighter(){const[t,e]=this.colorOptions();this._highlighter=Ng(e,t,this.document.outputJax.name)}setSecondaryHighlighter(){this.secondaryHighlighter=Ng({color:"red"},{color:"black"},this.document.outputJax.name),this.speech.region.highlighter=this.secondaryHighlighter}highlight(t){this.highlighter.highlight(t)}unhighlight(){this.secondaryHighlighter.unhighlight(),this.highlighter.unhighlight()}get speech(){return this.explorers.speech}colorOptions(){const t=this.document.options.a11y;return[{color:t.foregroundColor.toLowerCase(),alpha:t.foregroundOpacity/100},{color:t.backgroundColor.toLowerCase(),alpha:t.backgroundOpacity/100}]}}const Jg="Unix"===Jr.os;function Kg(t,e){var s;return s=class extends t{constructor(){super(...arguments),this.refocus=null}get ariaRole(){return this.constructor.ariaRole}get roleDescription(){const t=this.constructor;return"none"===t.roleDescription?t.none:t.roleDescription}get none(){return this.constructor.none}attachSpeech(t){var e,s;super.attachSpeech(t),null===(s=null===(e=this.outputData.speechPromise)||void 0===e?void 0:e.then(()=>this.explorers.speech.attachSpeech()))||void 0===s||s.then(()=>{var t;(null===(t=this.explorers)||void 0===t?void 0:t.speech)&&(this.explorers.speech.restarted=this.refocus),this.refocus=null,this.explorers&&this.explorers.restart()})}detachSpeech(t){super.detachSpeech(t),this.explorers.speech.detachSpeech()}explorable(t,s=!1){if(!(this.state()>=Gi.EXPLORER)){if(!this.isEscaped&&(t.options.enableExplorer||s)){const s=this.typesetRoot,r=e(this.root);this.explorers||(this.explorers=new $g),this.explorers.init(t,s,r,this)}this.state(Gi.EXPLORER)}}state(t=null,e=!1){if(t<Gi.EXPLORER&&this.explorers)for(const t of Object.values(this.explorers.explorers))t.active&&t.Stop();return super.state(t,e)}rerender(t,e=Gi.RERENDER){const s=this.setTemporaryFocus(t);super.rerender(t,e),this.clearTemporaryFocus(s)}setTemporaryFocus(t){var e;let s=null;if(this.explorers){const r=this.explorers.speech;if(s=(null==r?void 0:r.attached)?t.tmpFocus:null,s){this.refocus=null!==(e=r.semanticFocus())&&void 0!==e?e:null;const i=t.adaptor;i.append(i.body(),s)}this.explorers.reattach(),null==s||s.focus()}return s}clearTemporaryFocus(t){var e;if(t){(null!==(e=this.outputData.speechPromise)&&void 0!==e?e:Promise.resolve()).then(()=>setTimeout(()=>t.remove(),100))}}},s.ariaRole=Jg?"tree":"application",s.roleDescription="math",s.none="\x91",s}function Yg(t){var e;return e=class extends t{constructor(...t){super(...t),this.explorerRegions=null,this.activeItem=null;const e=this.constructor.ProcessBits;e.has("explorer")||e.allocate("explorer");const s=new Oo(this.mmlFactory),r=this.options;r.a11y.speechRules||(r.a11y.speechRules=`${r.sre.domain}-${r.sre.style}`);const i=r.MathItem=Kg(r.MathItem,t=>s.visitTree(t));i.roleDescription=r.roleDescription,this.explorerRegions=new Vg(this),"addStyles"in this&&this.addStyles(this.constructor.speechStyles);const n=this.adaptor,o="http://www.w3.org/2000/svg";this.infoIcon=n.node("mjx-help",{},[n.node("svg",{viewBox:"0 0 18 18",xmlns:o,"aria-hidden":"true"},[n.node("circle",{stroke:"none"},[],o),n.node("circle",{},[],o),n.node("line",{x1:9,y1:9,x2:9,y2:13},[],o),n.node("line",{x1:9,y1:5.5,x2:9,y2:5.5},[],o)],o)]),this.tmpFocus=this.adaptor.node("mjx-focus",{tabIndex:0,style:{outline:"none",display:"block",position:"absolute",top:0,left:"-10px",width:"1px",height:"1px",overflow:"hidden"},role:i.ariaRole,"aria-label":i.none,"aria-roledescription":i.none})}explorable(){if(!this.processed.isSet("explorer")){if(this.options.enableExplorer)for(const t of this.math)t.explorable(this);this.processed.set("explorer")}return this}rerender(t){const e=this.activeItem,s=null==e?void 0:e.setTemporaryFocus(this);return super.rerender(t),null==e||e.clearTemporaryFocus(s),this}state(t,e=!1){return super.state(t,e),t<Gi.EXPLORER&&this.processed.clear("explorer"),this}},e.OPTIONS=Object.assign(Object.assign({},t.OPTIONS),{enableExplorer:$r,renderActions:pi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{explorable:[Gi.EXPLORER]})),sre:pi(Object.assign(Object.assign({},t.OPTIONS.sre),{speech:"none"})),a11y:Object.assign(Object.assign({},t.OPTIONS.a11y),{align:"top",backgroundColor:"Blue",backgroundOpacity:20,flame:!1,foregroundColor:"Black",foregroundOpacity:100,highlight:"None",hover:!1,infoPrefix:!1,infoRole:!1,infoType:!1,keyMagnifier:!1,magnification:"None",magnify:"400%",mouseMagnifier:!1,subtitles:!1,treeColoring:!1,viewBraille:!1,voicing:!1,help:!0,roleDescription:"math",tabSelects:"all"})}),e.speechStyles={'mjx-container[has-speech="true"]':{position:"relative",cursor:"default"},"mjx-speech":{position:"absolute","z-index":-1,left:0,top:0,bottom:0,right:0},"mjx-speech:focus":{outline:"none"},"mjx-container .mjx-selected":{outline:"2px solid black"},"mjx-container > mjx-help":{display:"none",position:"absolute",top:"-.33em",right:"-.5em",width:".6em",height:".6em",cursor:"pointer"},'mjx-container[display="true"] > mjx-help':{right:0},"mjx-help > svg":{stroke:"black",width:"100%",height:"100%"},"mjx-help > svg > circle":{"stroke-width":"1.5px",cx:"9px",cy:"9px",r:"9px",fill:"white"},"mjx-help > svg > circle:nth-child(2)":{fill:"rgba(0, 0, 255, 0.2)",r:"7px"},"mjx-help > svg > line":{"stroke-width":"2.5px","stroke-linecap":"round"},"mjx-help:hover > svg > circle:nth-child(2)":{fill:"white"},"mjx-container.mjx-explorer-active > mjx-help":{display:"inline-flex","align-items":"center"},"mjx-help-sizer":{position:"fixed",width:"40%","max-width":"30em",top:"3em",left:"50%"},"mjx-help-dialog":{position:"absolute",width:"200%",left:"-100%",border:"3px outset","border-radius":"15px",color:"black","background-color":"#DDDDDD","z-index":"301","text-align":"right","font-style":"normal","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal",float:"none","box-shadow":"0px 10px 20px #808080",outline:"none"},"mjx-help-dialog > h1":{"font-size":"24px","text-align":"center",margin:".5em 0"},"mjx-help-dialog > div":{margin:"0 1em",padding:"3px",overflow:"auto",height:"20em",border:"2px inset black","background-color":"white","text-align":"left"},"mjx-help-dialog > input":{margin:".5em 2em"},"mjx-help-dialog kbd":{display:"inline-block",padding:"3px 5px","font-size":"11px","line-height":"10px",color:"#444d56","vertical-align":"middle","background-color":"#fafbfc",border:"solid 1.5px #c6cbd1","border-bottom-color":"#959da5","border-radius":"3px","box-shadow":"inset -.5px -1px 0 #959da5"},"mjx-help-dialog ul":{"list-style-type":"none"},"mjx-help-dialog li":{"margin-bottom":".5em"},"mjx-help-background":{position:"fixed",top:0,left:0,right:0,bottom:0}},e}function Qg(t,e=null){return t.documentClass.prototype.attachSpeech||(t=pg(t,e)),t.documentClass=Yg(t.documentClass),t}function Zg(t,e){var s;const r=lf();for(const s in e)void 0!==t.options.a11y[s]?tb(t,s,e[s]):void 0!==r[s]&&(t.options.sre[s]=e[s]);e.roleDescription&&(t.options.MathItem.roleDescription=e.roleDescription);for(const e of t.math)null===(s=null==e?void 0:e.explorers)||void 0===s||s.attach()}function tb(t,e,s){switch(e){case"speechRules":{const[e,r]=s.split("-");t.options.sre.domain=e,t.options.sre.style=r;break}case"magnification":switch(s){case"None":t.options.a11y.magnification=s,t.options.a11y.keyMagnifier=!1,t.options.a11y.mouseMagnifier=!1;break;case"Keyboard":t.options.a11y.magnification=s,t.options.a11y.keyMagnifier=!0,t.options.a11y.mouseMagnifier=!1;break;case"Mouse":t.options.a11y.magnification=s,t.options.a11y.keyMagnifier=!1,t.options.a11y.mouseMagnifier=!0}break;case"highlight":switch(s){case"None":t.options.a11y.highlight=s,t.options.a11y.hover=!1,t.options.a11y.flame=!1;break;case"Hover":t.options.a11y.highlight=s,t.options.a11y.hover=!0,t.options.a11y.flame=!1;break;case"Flame":t.options.a11y.highlight=s,t.options.a11y.hover=!1,t.options.a11y.flame=!0}break;case"locale":t.options.sre.locale=s;break;default:t.options.a11y[e]=s}}zi("EXPLORER",Gi.INSERTED+30),MathJax.loader&&MathJax.loader.checkVersion("a11y/explorer",jr,"a11y"),Vr({_:{a11y:{explorer_ts:gs,explorer:{Explorer:ds,ExplorerPool:fs,Highlighter:ls,KeyExplorer:us,MouseExplorer:ps,Region:hs,TreeExplorer:ms}}}}),MathJax.startup&&$r&&MathJax.startup.extendHandler(t=>Qg(t)),ii.preLoaded("a11y/sre","a11y/semantic-enrich","a11y/speech","a11y/explorer");class eb extends Oi{constructor(t){super(t),this.getPatterns()}getPatterns(){const t=this.options,e=[],s=[],r=[];this.end={},this.env=this.sub=0;let i=1;t.inlineMath.forEach(t=>this.addPattern(e,t,!1)),t.displayMath.forEach(t=>this.addPattern(e,t,!0)),e.length&&s.push(e.sort(yn).join("|")),t.processEnvironments&&(s.push("\\\\begin\\s*\\{([^}]*)\\}"),this.env=i,i++),t.processEscapes&&r.push("\\\\([\\\\$])"),t.processRefs&&r.push("(\\\\(?:eq)?ref\\s*\\{[^}]*\\})"),r.length&&(s.push("("+r.join("|")+")"),this.sub=i),this.start=new RegExp(s.join("|"),"g"),this.hasPatterns=s.length>0}addPattern(t,e,s){const[r,i]=e;t.push(Nn(r)),this.end[r]=[i,s,this.endPattern(i)]}endPattern(t,e){return new RegExp((e||Nn(t))+"|\\\\(?:[a-zA-Z]|.)|[{}]","g")}findEnd(t,e,s,r){const[i,n,o]=r,a=o.lastIndex=s.index+s[0].length;let c,l=0;for(;c=o.exec(t);){if((c[1]||c[0])===i&&0===l)return Ui(s[0],t.substring(a,c.index),c[0],e,s.index,c.index+c[0].length,n);"{"===c[0]?l++:"}"===c[0]&&l&&l--}return null}findMathInString(t,e,s){let r,i;for(this.start.lastIndex=0;r=this.start.exec(s);){if(void 0!==r[this.env]&&this.env){const t="\\\\end\\s*(\\{"+Nn(r[this.env])+"\\})";i=this.findEnd(s,e,r,["{"+r[this.env]+"}",!0,this.endPattern(null,t)]),i&&(i.math=i.open+i.math+i.close,i.open=i.close="")}else if(void 0!==r[this.sub]&&this.sub){const t=r[this.sub],s=r.index+r[this.sub].length;i=2===t.length?Ui("\\",t.substring(1),"",e,r.index,s):Ui("",t,"",e,r.index,s,!1)}else i=this.findEnd(s,e,r,this.end[r[0]]);i&&(t.push(i),this.start.lastIndex=i.end.n)}}findMath(t){const e=[];if(this.hasPatterns)for(let s=0,r=t.length;s<r;s++)this.findMathInString(e,s,t[s]);return e}}eb.OPTIONS={inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,processRefs:!0};const sb={attrs:new Set(["autoOP","fnOP","movesupsub","subsupOK","texprimestyle","useHeight","variantForm","withDelims","mathaccent","open","close"]),createEntity:t=>String.fromCodePoint(parseInt(t,16)),getChildren:t=>t.childNodes,getText:t=>t.getText(),appendChildren(t,e){for(const s of e)t.appendChild(s)},setAttribute(t,e,s){t.attributes.set(e,s)},setProperty(t,e,s){t.setProperty(e,s)},setProperties(t,e){for(const s of Object.keys(e)){const r=e[s];"texClass"===s?(t.texClass=r,t.setProperty(s,r)):"movablelimits"===s?(t.setProperty("movablelimits",r),(t.isKind("mo")||t.isKind("mstyle"))&&t.attributes.set("movablelimits",r)):"inferred"===s||(sb.attrs.has(s)?t.setProperty(s,r):t.attributes.set(s,r))}},getProperty:(t,e)=>t.getProperty(e),getAttribute:(t,e)=>t.attributes.get(e),removeAttribute(t,e){t.attributes.unset(e)},removeProperties(t,...e){t.removeProperty(...e)},getChildAt:(t,e)=>t.childNodes[e],setChild(t,e,s){t.childNodes[e]=s,s&&(s.parent=t)},copyChildren(t,e){const s=t.childNodes;for(let t=0;t<s.length;t++)this.setChild(e,t,s[t])},copyAttributes(t,e){e.attributes=t.attributes,this.setProperties(e,t.getAllProperties())},isType:(t,e)=>t.isKind(e),isEmbellished:t=>t.isEmbellished,getTexClass:t=>t.texClass,getCoreMO:t=>t.coreMO(),isNode:t=>t instanceof rn||t instanceof cn,isInferred:t=>t.isInferred,getForm(t){if(!t.isKind("mo"))return null;const e=t,s=e.getForms();for(const t of s){const s=this.getOp(e,t);if(s)return s}return null},getOp:(t,e="infix")=>Tn.OPTABLE[e][t.getText()]||null,getMoAttribute(t,e){var s,r;if(!t.attributes.isSet(e))for(const i of["infix","postfix","prefix"]){const n=null===(r=null===(s=this.getOp(t,i))||void 0===s?void 0:s[3])||void 0===r?void 0:r[e];if(void 0!==n)return n}return t.attributes.get(e)}},rb=sb;function ib(t,e,s){const r=e.attributes,i=s.attributes;t.forEach(t=>{const e=i.getExplicit(t);null!=e&&r.set(t,e)})}function nb(t,e){const s=(t,e)=>t.getExplicitNames().filter(s=>s!==e&&("stretchy"!==s||t.getExplicit("stretchy"))&&"data-latex"!==s&&"data-latex-item"!==s),r=t.attributes,i=e.attributes,n=s(r,"lspace"),o=s(i,"rspace");if(n.length!==o.length)return!1;for(const t of n)if(r.getExplicit(t)!==i.getExplicit(t))return!1;return!0}function ob(t,e,s){const r=[];for(const i of t.getList("m"+e+s)){const n=i.childNodes;if(n[i[e]]&&n[i[s]])continue;const o=i.parent,a=n[i[e]]?t.nodeFactory.create("node","m"+e,[n[i.base],n[i[e]]]):t.nodeFactory.create("node","m"+s,[n[i.base],n[i[s]]]);rb.copyAttributes(i,a),o.replaceChild(a,i),r.push(i)}t.removeFromList("m"+e+s,r)}function ab(t,e,s){const r=[];for(const i of t.getList(e)){if(i.attributes.get("displaystyle"))continue;const e=i.childNodes[i.base],n=e.coreMO();if(e.getProperty("movablelimits")&&!n.attributes.hasExplicit("movablelimits")){const e=t.nodeFactory.create("node",s,i.childNodes);rb.copyAttributes(i,e),i.parent.replaceChild(e,i),r.push(i)}}t.removeFromList(e,r)}const cb={cleanStretchy(t){const e=t.data;for(const t of e.getList("fixStretchy"))if(rb.getProperty(t,"fixStretchy")){const s=rb.getForm(t);s&&s[3]&&s[3].stretchy&&rb.setAttribute(t,"stretchy",!1);const r=t.parent;if(!(rb.getTexClass(t)||s&&s[2])){const s=e.nodeFactory.create("node","TeXAtom",[t]);r.replaceChild(s,t),s.inheritAttributesFrom(t)}rb.removeProperties(t,"fixStretchy")}},cleanAttributes(t){t.data.root.walkTree((t,e)=>{const s=t.attributes,r=new Set((s.get("mjx-keep-attrs")||"").split(/ /));s.unset("mjx-keep-attrs");for(const e of s.getExplicitNames())r.has(e)||s.get(e)!==t.attributes.getInherited(e)||s.unset(e)},{})},combineRelations(t){const e=[];for(const s of t.data.getList("mo")){if(s.getProperty("relationsCombined")||!s.parent||s.parent&&!rb.isType(s.parent,"mrow")||rb.getTexClass(s)!==Yi.REL)continue;let t;const r=s.parent.childNodes,i=r.indexOf(s)+1,n=rb.getProperty(s,"variantForm");for(;i<r.length&&(t=r[i])&&rb.isType(t,"mo")&&rb.getTexClass(t)===Yi.REL;){if(n!==rb.getProperty(t,"variantForm")||!nb(s,t)){s.attributes.hasExplicit("rspace")||rb.setAttribute(s,"rspace","0pt"),t.attributes.hasExplicit("lspace")||rb.setAttribute(t,"lspace","0pt");break}rb.appendChildren(s,rb.getChildren(t)),ib(["stretchy","rspace"],s,t);for(const e of t.getPropertyNames())s.setProperty(e,t.getProperty(e));t.attributes.get("data-latex")&&s.attributes.set("data-latex",s.attributes.get("data-latex")+t.attributes.get("data-latex")),r.splice(i,1),e.push(t),t.parent=null,t.setProperty("relationsCombined",!0),s.setProperty("texClass",Yi.REL)}s.attributes.setInherited("form",s.getForms()[0])}t.data.removeFromList("mo",e)},cleanSubSup(t){const e=t.data;e.error||(ob(e,"sub","sup"),ob(e,"under","over"))},moveLimits(t){const e=t.data;ab(e,"munderover","msubsup"),ab(e,"munder","msub"),ab(e,"mover","msup")},setInherited(t){t.data.root.setInheritedAttributes({},t.math.display,0,!1)},checkScriptlevel(t){const e=t.data,s=[];for(const t of e.getList("mstyle")){if(1!==t.childNodes[0].childNodes.length)continue;const e=t.attributes;for(const t of["displaystyle","scriptlevel"])e.getExplicit(t)===e.getInherited(t)&&e.unset(t);const r=e.getExplicitNames();if(0===r.filter(t=>"data-latex"!==t.substring(0,10)).length){const i=t.childNodes[0].childNodes[0];r.forEach(t=>i.attributes.set(t,e.get(t))),t.parent.replaceChild(i,t),s.push(t)}}e.removeFromList("mstyle",s)}},lb=cb;var hb,db;!function(t){t.HANDLER="handler",t.FALLBACK="fallback",t.ITEMS="items",t.TAGS="tags",t.OPTIONS="options",t.NODES="nodes",t.PREPROCESSORS="preprocessors",t.POSTPROCESSORS="postprocessors",t.INIT="init",t.CONFIG="config",t.PRIORITY="priority",t.PARSER="parser"}(hb||(hb={})),function(t){t.DELIMITER="delimiter",t.MACRO="macro",t.CHARACTER="character",t.ENVIRONMENT="environment"}(db||(db={}));const ub=7.2;const pb={UNIT_CASES:new class{constructor(t){this.num="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",this.unit="",this.dimenEnd=/./,this.dimenRest=/./,this.map=new Map(t),this.updateDimen()}updateDimen(){this.unit=`(${Array.from(this.map.keys()).join("|")})`,this.dimenEnd=RegExp("^\\s*"+this.num+"\\s*"+this.unit+"\\s*$"),this.dimenRest=RegExp("^\\s*"+this.num+"\\s*"+this.unit+" ?")}set(t,e){return this.map.set(t,e),this.updateDimen(),this}get(t){return this.map.get(t)||this.map.get("pt")}delete(t){return!!this.map.delete(t)&&(this.updateDimen(),!0)}}([["em",1],["ex",.43],["pt",.1],["pc",1.2],["px",.1],["in",ub],["cm",ub/2.54],["mm",ub/25.4],["mu",1/18]]),matchDimen(t,e=!1){const s=t.match(e?pb.UNIT_CASES.dimenRest:pb.UNIT_CASES.dimenEnd);return s?function([t,e,s]){return"mu"!==e?[t,e,s]:[pb.em(pb.UNIT_CASES.get(e)*parseFloat(t)).slice(0,-2),"em",s]}([s[1].replace(/,/,"."),s[4],s[0].length]):[null,null,0]},dimen2em(t){const[e,s]=pb.matchDimen(t),r=parseFloat(e||"1");return pb.UNIT_CASES.get(s)*r},em:t=>Math.abs(t)<6e-4?"0em":t.toFixed(3).replace(/\.?0+$/,"")+"em",trimSpaces(t){if("string"!=typeof t)return t;let e=t.trim();return e.match(/\\$/)&&t.match(/ $/)&&(e+=" "),e}};class mb{constructor(t,e,s){this._factory=t,this._env=e,this.global={},this.stack=[],this.global={isInner:s},this.stack=[this._factory.create("start",this.global)],e&&(this.stack[0].env=e),this.env=this.stack[0].env}set env(t){this._env=t}get env(){return this._env}Push(...t){for(const e of t){if(!e)continue;const t=rb.isNode(e)?this._factory.create("mml",e):e;t.global=this.global;const[s,r]=this.stack.length?this.Top().checkItem(t):[null,!0];r&&(s?(this.Pop(),this.Push(...s)):(t.isKind("null")||this.stack.push(t),t.env?(t.copyEnv&&Object.assign(t.env,this.env),this.env=t.env):t.env=this.env))}}Pop(){const t=this.stack.pop();return t.isOpen||delete t.env,this.env=this.stack.length?this.Top().env:{},t}Top(t=1){return this.stack.length<t?null:this.stack[this.stack.length-t]}Prev(t){const e=this.Top();return t?e.First:e.Pop()}get height(){return this.stack.length}toString(){return"stack[\n  "+this.stack.join("\n  ")+"\n]"}}class fb{static processString(t,e){const s=t.split(fb.pattern);for(let t=1,r=s.length;t<r;t+=2){let r=s[t].charAt(0);if(r>="0"&&r<="9")s[t]=e[parseInt(s[t],10)-1],"number"==typeof s[t]&&(s[t]=s[t].toString());else if("{"===r)if(r=s[t].substring(1),r>="0"&&r<="9")s[t]=e[parseInt(s[t].substring(1,s[t].length-1),10)-1],"number"==typeof s[t]&&(s[t]=s[t].toString());else{s[t].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(s[t]="%"+s[t])}}return s.join("")}constructor(t,e,...s){this.id=t,this.message=fb.processString(e,s)}}fb.pattern=/%(\d+|\{\d+\}|\{[a-z]+:%\d+(?:\|(?:%\{\d+\}|%.|[^}])*)+\}|.)/g;const gb=fb;class bb{constructor(t){this._nodes=t,this.startStr="",this.startI=0,this.stopI=0}get nodes(){return this._nodes}Push(...t){this._nodes.push(...t)}Pop(){return this._nodes.pop()}get First(){return this._nodes[this.Size()-1]}set First(t){this._nodes[this.Size()-1]=t}get Last(){return this._nodes[0]}set Last(t){this._nodes[0]=t}Peek(t){return null==t&&(t=1),this._nodes.slice(this.Size()-t)}Size(){return this._nodes.length}Clear(){this._nodes=[]}toMml(t=!0,e){return 1!==this._nodes.length||e?this.create("node",t?"inferredMrow":"mrow",this._nodes,{}):this.First}create(t,...e){return this.factory.configuration.nodeFactory.create(t,...e)}}class xb extends bb{constructor(t,...e){super(e),this.factory=t,this.global={},this._properties={},this.isOpen&&(this._env={})}get kind(){return"base"}get env(){return this._env}set env(t){this._env=t}get copyEnv(){return!0}getProperty(t){return this._properties[t]}setProperty(t,e){return this._properties[t]=e,this}get isOpen(){return!1}get isClose(){return!1}get isFinal(){return!1}isKind(t){return t===this.kind}checkItem(t){if(t.isKind("over")&&this.isOpen&&(t.setProperty("num",this.toMml(!1)),this.Clear()),t.isKind("cell")&&this.isOpen){if(t.getProperty("linebreak"))return xb.fail;throw new gb("Misplaced","Misplaced %1",t.getName())}if(t.isClose&&this.getErrors(t.kind)){const[e,s]=this.getErrors(t.kind);throw new gb(e,s,t.getName())}return t.isFinal?(this.Push(t.First),xb.fail):xb.success}clearEnv(){for(const t of Object.keys(this.env))delete this.env[t]}setProperties(t){return Object.assign(this._properties,t),this}getName(){return this.getProperty("name")}toString(){return this.kind+"["+this.nodes.join("; ")+"]"}getErrors(t){return this.constructor.errors[t]||xb.errors[t]}}xb.fail=[null,!1],xb.success=[null,!0],xb.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]};const Eb={Variant:{NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",BOLDOLDSTYLE:"-tex-bold-oldstyle",MATHITALIC:"-tex-mathit"},Form:{PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},LineBreak:{AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},LineBreakStyle:{BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},IndentAlign:{LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},IndentShift:{INDENTSHIFT:"indentshift"},LineThickness:{THIN:"thin",MEDIUM:"medium",THICK:"thick"},Notation:{LONGDIV:"longdiv",ACTUARIAL:"actuarial",PHASORANGLE:"phasorangle",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",NORTHEASTARROW:"northeastarrow",MADRUWB:"madruwb",UPDIAGONALARROW:"updiagonalarrow"},Align:{TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},Lines:{NONE:"none",SOLID:"solid",DASHED:"dashed"},Side:{LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},Width:{AUTO:"auto",FIT:"fit"},Actiontype:{TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},Overflow:{LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},Unit:{EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"},Attr:{LATEX:"data-latex",LATEXITEM:"data-latex-item"}};class yb{constructor(t,e,s){this._string=t,this.configuration=s,this.macroCount=0,this.i=0,this.currentCS="",this.saveI=0;const r=Object.hasOwn(e,"isInner"),i=e.isInner;let n;if(delete e.isInner,e){n={};for(const t of Object.keys(e))n[t]=e[t]}this.configuration.pushParser(this),this.stack=new mb(this.itemFactory,n,!r||i),this.Parse(),this.Push(this.itemFactory.create("stop")),this.updateResult(this.string,this.i),this.stack.env=n}get options(){return this.configuration.options}get itemFactory(){return this.configuration.itemFactory}get tags(){return this.configuration.tags}set string(t){this._string=t}get string(){return this._string}parse(t,e){const s=this.saveI;this.saveI=this.i;const r=this.configuration.handlers.get(t).parse(e);return this.updateResult(e[1],s),this.saveI=s,r}lookup(t,e){return this.configuration.handlers.get(t).lookup(e)}contains(t,e){return this.configuration.handlers.get(t).contains(e)}toString(){let t="";for(const e of Array.from(this.configuration.handlers.keys()))t+=e+": "+this.configuration.handlers.get(e)+"\n";return t}Parse(){let t;for(;this.i<this.string.length;)t=this.getCodePoint(),this.i+=t.length,this.parse(db.CHARACTER,[this,t])}Push(t){t instanceof xb&&(t.startI=this.saveI,t.stopI=this.i,t.startStr=this.string),t instanceof rn&&t.isInferred?this.PushAll(t.childNodes):this.stack.Push(t)}PushAll(t){for(const e of t)this.stack.Push(e)}mml(){if(!this.stack.Top().isKind("mml"))return null;const t=this.stack.Top().First;return this.configuration.popParser(),t.attributes.set(Eb.Attr.LATEX,this.string),t}convertDelimiter(t){var e;const s=this.lookup(db.DELIMITER,t);return null!==(e=null==s?void 0:s.char)&&void 0!==e?e:null}getCodePoint(){const t=this.string.codePointAt(this.i);return void 0===t?"":String.fromCodePoint(t)}nextIsSpace(){return!!this.string.charAt(this.i).match(/\s/)}GetNext(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()}GetCS(){const t=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return t?(this.i+=t[0].length,t[2]||t[1]):(this.i++," ")}GetArgument(t,e=!1){switch(this.GetNext()){case"":if(!e)throw new gb("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!e)throw new gb("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":{const t=++this.i;let e=1;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":e++;break;case"}":if(0===--e)return this.string.slice(t,this.i-1)}throw new gb("MissingCloseBrace","Missing close brace")}}const s=this.getCodePoint();return this.i+=s.length,s}GetBrackets(t,e,s=!1){if("["!==this.GetNext())return e;const r=++this.i;let i=0,n=0;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":i++;break;case"\\":this.i++;break;case"}":if(i--<=0)throw new gb("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"[":0===i&&n++;break;case"]":if(0===i){if(!s||0===n)return this.string.slice(r,this.i-1);n--}}throw new gb("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)}GetDelimiter(t,e=!1){let s=this.GetNext();if(this.i+=s.length,this.i<=this.string.length&&("\\"===s?s+=this.GetCS():"{"===s&&e&&(this.i--,s=this.GetArgument(t).trim()),this.contains(db.DELIMITER,s)))return this.convertDelimiter(s);throw new gb("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetDimen(t){if("{"===this.GetNext()){const e=this.GetArgument(t),[s,r]=pb.matchDimen(e);if(s)return s+r}else{const t=this.string.slice(this.i),[e,s,r]=pb.matchDimen(t,!0);if(e)return this.i+=r,e+s}throw new gb("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)}GetUpTo(t,e){for(;this.nextIsSpace();)this.i++;const s=this.i;let r=0;for(;this.i<this.string.length;){const t=this.i;let i=this.GetNext();switch(this.i+=i.length,i){case"\\":i+=this.GetCS();break;case"{":r++;break;case"}":if(0===r)throw new gb("ExtraCloseLooking","Extra close brace while looking for %1",e);r--}if(0===r&&i===e)return this.string.slice(s,t)}throw new gb("TokenNotFoundForCommand","Could not find %1 for %2",e,this.currentCS)}ParseArg(t){return new yb(this.GetArgument(t),this.stack.env,this.configuration).mml()}ParseUpTo(t,e){return new yb(this.GetUpTo(t,e),this.stack.env,this.configuration).mml()}GetDelimiterArg(t){const e=pb.trimSpaces(this.GetArgument(t));if(""===e)return null;if(this.contains(db.DELIMITER,e))return e;throw new gb("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetStar(){const t="*"===this.GetNext();return t&&this.i++,t}create(t,...e){const s=this.configuration.nodeFactory.create(t,...e);return s.isToken&&s.attributes.hasExplicit("mathvariant")&&"-"===s.attributes.get("mathvariant").charAt(0)&&s.setProperty("ignore-variant",!0),s}updateResult(t,e){const s=this.stack.Prev(!0);if(!s)return;const r=s.attributes.get(Eb.Attr.LATEXITEM);if(void 0!==r)return void s.attributes.set(Eb.Attr.LATEX,r);let i=(e=e<this.saveI?this.saveI:e)!==this.i?this.string.slice(e,this.i):t;if(i=i.trim(),i)if("\\"===t&&(i="\\"+i),"^"!==s.attributes.get(Eb.Attr.LATEX)||"^"===i||"\\^"===i)if("_"!==s.attributes.get(Eb.Attr.LATEX)||"_"===i||"\\_"===i)"}"!==i?s.attributes.set(Eb.Attr.LATEX,i):this.composeBraces(s);else if(s.childNodes[1]&&("}"===i?this.composeBraces(s.childNodes[1]):s.childNodes[1].attributes.set(Eb.Attr.LATEX,i)),s.childNodes[2]){const t=s.childNodes[2].attributes.get(Eb.Attr.LATEX);this.composeLatex(s,`^${t}_`,0,1)}else this.composeLatex(s,"_",0,1);else if(s.childNodes[2]&&("}"===i?this.composeBraces(s.childNodes[2]):s.childNodes[2].attributes.set(Eb.Attr.LATEX,i)),s.childNodes[1]){const t=s.childNodes[1].attributes.get(Eb.Attr.LATEX);this.composeLatex(s,`_${t}^`,0,2)}else this.composeLatex(s,"^",0,2)}composeLatex(t,e,s,r){if(!t.childNodes[s]||!t.childNodes[r])return;const i=(t.childNodes[s].attributes.get(Eb.Attr.LATEX)||"")+e+t.childNodes[r].attributes.get(Eb.Attr.LATEX);t.attributes.set(Eb.Attr.LATEX,i)}composeBraces(t){const e=this.composeBracedContent(t);t.attributes.set(Eb.Attr.LATEX,`{${e}}`)}composeBracedContent(t){var e,s;const r=(null===(e=t.childNodes[0])||void 0===e?void 0:e.childNodes)||[];let i="";for(const t of r){const e=(null===(s=null==t?void 0:t.attributes)||void 0===s?void 0:s.get(Eb.Attr.LATEX))||"";e&&(i+=i&&i.match(/[a-zA-Z]$/)&&e.match(/^[a-zA-Z]/)?" "+e:e)}return i}}class Nb extends xb{}class _b extends Wi{constructor(){super(...arguments),this.defaultKind="dummy",this.configuration=null}}_b.DefaultStackItems={[Nb.prototype.kind]:Nb};const vb=_b;class wb{constructor(){this.mmlFactory=null,this.factory={node:wb.createNode,token:wb.createToken,text:wb.createText,error:wb.createError}}static createNode(t,e,s=[],r={},i){const n=t.mmlFactory.create(e);return n.setChildren(s),i&&n.appendChild(i),rb.setProperties(n,r),n}static createToken(t,e,s={},r=""){const i=t.create("text",r);return t.create("node",e,[],s,i)}static createText(t,e){return null==e?null:t.mmlFactory.create("text").setText(e)}static createError(t,e){const s=t.create("text",e),r=t.create("node","mtext",[],{},s);return t.create("node","merror",[r],{"data-mjx-error":e})}setMmlFactory(t){this.mmlFactory=t}set(t,e){this.factory[t]=e}setCreators(t){for(const e in t)this.set(e,t[e])}create(t,...e){const s=(this.factory[t]||this.factory.node)(this,e[0],...e.slice(1));return"node"===t&&this.configuration.addNode(e[0],s),s}get(t){return this.factory[t]}}class Cb{static oneof(...t){return new this("string",e=>t.includes(e),t=>t)}constructor(t,e,s){this.name=t,this.verify=e,this.convert=s}}const kb={boolean:new Cb("boolean",t=>"true"===t||"false"===t,t=>"true"===t),number:new Cb("number",t=>!!t.match(/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[-+]?\d+)?$/),t=>parseFloat(t)),integer:new Cb("integer",t=>!!t.match(/^[-+]?\d+$/),t=>parseInt(t)),string:new Cb("string",t=>!0,t=>t),dimen:new Cb("dimen",t=>null!==pb.matchDimen(t)[0],t=>t)};function Ab(t,e){if(0===e)return t.replace(/^\s+/,"").replace(/([^\\\s]|^)((?:\\\\)*(?:\\\s)?)?\s+$/,"$1$2");for(;e>0;)t=t.trim().slice(1,-1),e--;return t}function Tb(t,e,s=!1,r=!1){const i=t.length;let n=0,o="",a=0,c=0,l=!0;for(;a<i;){const r=t[a++];switch(r){case"\\":o+=r+(t[a++]||""),l=!1;continue;case" ":break;case"{":l&&c++,n++;break;case"}":if(!n)throw new gb("ExtraCloseMissingOpen","Extra close brace or missing open brace");n--,l=!1;break;default:if(!n&&e.includes(r))return[Ab(o,s?Math.min(1,c):c),r,t.slice(a)];c>n&&(c=n),l=!1}o+=r}if(n)throw new gb("ExtraOpenMissingClose","Extra open brace or missing close brace");return r&&c?["","",Ab(o,1)]:[Ab(o,s?Math.min(1,c):c),"",t.slice(a)]}const Mb={cols:(...t)=>t.map(t=>pb.em(t)).join(" "),fenced(t,e,s,r,i="",n=""){const o=t.nodeFactory,a=o.create("node","mrow",[],{open:e,close:r,texClass:Yi.INNER});let c;if(i)c=new yb("\\"+i+"l"+e,t.parser.stack.env,t).mml();else{const t=o.create("text",e);c=o.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:Yi.OPEN},t)}if(rb.appendChildren(a,[c,s]),i)c=new yb("\\"+i+"r"+r,t.parser.stack.env,t).mml();else{const t=o.create("text",r);c=o.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:Yi.CLOSE},t)}return n&&c.attributes.set("mathcolor",n),rb.appendChildren(a,[c]),a},fixedFence(t,e,s,r){const i=t.nodeFactory.create("node","mrow",[],{open:e,close:r,texClass:Yi.ORD});return e&&rb.appendChildren(i,[Mb.mathPalette(t,e,"l")]),rb.isType(s,"mrow")?rb.appendChildren(i,rb.getChildren(s)):rb.appendChildren(i,[s]),r&&rb.appendChildren(i,[Mb.mathPalette(t,r,"r")]),i},mathPalette(t,e,s){"{"!==e&&"}"!==e||(e="\\"+e);const r="{\\big"+s+" "+e+"}";return new yb("\\mathchoice"+("{\\bigg"+s+" "+e+"}")+r+r+r,{},t).mml()},fixInitialMO(t,e){for(let s=0,r=e.length;s<r;s++){const r=e[s];if(r&&!rb.isType(r,"mspace")&&(!rb.isType(r,"TeXAtom")||rb.getChildren(r)[0]&&rb.getChildren(rb.getChildren(r)[0]).length)){if(rb.isEmbellished(r)||rb.isType(r,"TeXAtom")&&rb.getTexClass(r)===Yi.REL){const s=t.nodeFactory.create("node","mi");e.unshift(s)}break}}},internalMath(t,e,s,r){if(e=e.replace(/ +/g," "),t.configuration.options.internalMath)return t.configuration.options.internalMath(t,e,s,r);const i=r||t.stack.env.font,n=i?{mathvariant:i}:{};let o,a,c=[],l=0,h=0,d="",u=0;if(e.match(/\\?[${}\\]|\\\(|\\(?:eq)?ref\s*\{|\\U/)){for(;l<e.length;)if(o=e.charAt(l++),"$"===o)"$"===d&&0===u?(a=t.create("node","TeXAtom",[new yb(e.slice(h,l-1),{},t.configuration).mml()]),c.push(a),d="",h=l):""===d&&(h<l-1&&c.push(Mb.internalText(t,e.slice(h,l-1),n)),d="$",h=l);else if("{"===o&&""!==d)u++;else if("}"===o)if("}"===d&&0===u){const s=new yb(e.slice(h,l),{},t.configuration).mml();a=t.create("node","TeXAtom",[s],n),c.push(a),d="",h=l}else""!==d&&u&&u--;else if("\\"===o)if(""===d&&e.substring(l).match(/^(eq)?ref\s*\{/)){const s=RegExp["$&"].length;h<l-1&&c.push(Mb.internalText(t,e.slice(h,l-1),n)),d="}",h=l-1,l+=s}else if(o=e.charAt(l++),"("===o&&""===d)h<l-2&&c.push(Mb.internalText(t,e.slice(h,l-2),n)),d=")",h=l;else if(")"===o&&")"===d&&0===u)a=t.create("node","TeXAtom",[new yb(e.slice(h,l-2),{},t.configuration).mml()]),c.push(a),d="",h=l;else if(o.match(/[${}\\]/)&&""===d)l--,e=e.substring(0,l-1)+e.substring(l);else if("U"===o){const t=e.substring(l).match(/^\s*(?:([0-9A-F])|\{\s*([0-9A-F]+)\s*\})/);if(!t)throw new gb("BadRawUnicode","Argument to %1 must a hexadecimal number with 1 to 6 digits","\\U");const s=String.fromCodePoint(parseInt(t[1]||t[2],16));e=e.substring(0,l-2)+s+e.substring(l+t[0].length),l=l-2+s.length}if(""!==d)throw new gb("MathNotTerminated","Math mode is not properly terminated")}return h<e.length&&c.push(Mb.internalText(t,e.slice(h),n)),null!=s?c=[t.create("node","mstyle",c,{displaystyle:!1,scriptlevel:s})]:c.length>1&&(c=[t.create("node","mrow",c)]),c},internalText(t,e,s){e=e.replace(/\n+/g," ").replace(/^ +/,ea.nbsp).replace(/ +$/,ea.nbsp);const r=t.create("text",e);return t.create("node","mtext",[],s,r)},underOver(t,e,s,r,i){if(Mb.checkMovableLimits(e),rb.isType(e,"munderover")&&rb.isEmbellished(e)){rb.setProperties(rb.getCoreMO(e),{lspace:0,rspace:0});const s=t.create("node","mo",[],{rspace:0});e=t.create("node","mrow",[s,e])}const n=t.create("node","munderover",[e]);rb.setChild(n,"over"===r?n.over:n.under,s);let o=n;return i&&(o=t.create("node","TeXAtom",[t.create("node","mstyle",[n],{displaystyle:!0,scriptlevel:0})],{texClass:Yi.OP,movesupsub:!0})),rb.setProperty(o,"subsupOK",!0),o},checkMovableLimits(t){const e=rb.isType(t,"mo")?rb.getForm(t):null;(rb.getProperty(t,"movablelimits")||e&&e[3]&&e[3].movablelimits)&&rb.setProperties(t,{movablelimits:!1})},setArrayAlign:(t,e,s)=>(s||(e=pb.trimSpaces(e||"")),"t"===e?t.arraydef.align="baseline 1":"b"===e?t.arraydef.align="baseline -1":"c"===e?t.arraydef.align="axis":e&&(s?(s.string=`[${e}]`+s.string.slice(s.i),s.i=0):t.arraydef.align=e),t),substituteArgs(t,e,s){let r="",i="",n=0;for(;n<s.length;){let o=s.charAt(n++);if("\\"===o)r+=o+s.charAt(n++);else if("#"===o)if(o=s.charAt(n++),"#"===o)r+=o;else{if(!o.match(/[1-9]/)||parseInt(o,10)>e.length)throw new gb("IllegalMacroParam","Illegal macro parameter reference");i=Mb.addArgs(t,Mb.addArgs(t,i,r),e[parseInt(o,10)-1]),r=""}else r+=o}return Mb.addArgs(t,i,r)},addArgs(t,e,s){if(s.match(/^[a-z]/i)&&e.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(e+=" "),e.length+s.length>t.configuration.options.maxBuffer)throw new gb("MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?");return e+s},checkMaxMacros(t,e=!0){if(!(++t.macroCount<=t.configuration.options.maxMacros))throw e?new gb("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?"):new gb("MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?")},checkEqnEnv(t,e=!0){const s=t.stack.Top(),r=s.First;if(!(s.getProperty("nestable")&&e&&!r||s.getProperty("nestStart"))&&(!s.isKind("start")||r))throw new gb("ErroneousNestingEq","Erroneous nesting of equation structures")},copyNode(t,e){const s=t.copy(),r=e.configuration;return s.walkTree(t=>{r.addNode(t.kind,t);const e=(t.getProperty("in-lists")||"").split(/,/);for(const s of e)s&&r.addNode(s,t)}),s},mmlFilterAttribute:(t,e,s)=>s,getFontDef(t){const e=t.stack.env.font;return e?{mathvariant:e}:{}},keyvalOptions(t,e=null,s=!1,r=!1){const i=function(t,e=!1){const s={};let r,i,n,o=t,a=!0;for(;o;)[i,r,o]=Tb(o,["=",","],e,a),a=!1,"="===r?([n,r,o]=Tb(o,[","],e),n="false"===n||"true"===n?JSON.parse(n):n,s[i]=n):i&&(s[i]=!0);return s}(t,r);if(e)for(const t of Object.keys(i))if(Object.hasOwn(e,t)){if(e[t]instanceof Cb){const s=e[t],r=String(i[t]);if(!s.verify(r))throw new gb("InvalidValue","Value for key '%1' is not of the expected type",t);i[t]=s.convert(r)}}else{if(s)throw new gb("InvalidOption","Invalid option: %1",t);delete i[t]}return i},isLatinOrGreekChar:t=>!!t.normalize("NFD").match(/[a-zA-Z\u0370-\u03F0]/)};class Sb{constructor(){this.columnHandler={l:t=>t.calign[t.j++]="left",c:t=>t.calign[t.j++]="center",r:t=>t.calign[t.j++]="right",p:t=>this.getColumn(t,"top"),m:t=>this.getColumn(t,"middle"),b:t=>this.getColumn(t,"bottom"),w:t=>this.getColumn(t,"top",""),W:t=>this.getColumn(t,"top",""),"|":t=>this.addRule(t,"solid"),":":t=>this.addRule(t,"dashed"),">":t=>t.cstart[t.j]=(t.cstart[t.j]||"")+this.getBraces(t),"<":t=>t.cend[t.j-1]=(t.cend[t.j-1]||"")+this.getBraces(t),"@":t=>this.addAt(t,this.getBraces(t)),"!":t=>this.addBang(t,this.getBraces(t)),"*":t=>this.repeat(t),P:t=>this.macroColumn(t,">{$}p{#1}<{$}",1),M:t=>this.macroColumn(t,">{$}m{#1}<{$}",1),B:t=>this.macroColumn(t,">{$}b{#1}<{$}",1)," ":t=>{}},this.MAXCOLUMNS=1e4}process(t,e,s){const r={parser:t,template:e,i:0,j:0,c:"",cwidth:[],calign:[],cspace:[],clines:[],cstart:s.cstart,cend:s.cend,ralign:s.ralign,cextra:s.cextra};let i=0;for(;r.i<r.template.length;){if(i++>this.MAXCOLUMNS)throw new gb("MaxColumns","Too many column specifiers (perhaps looping column definitions?)");const t=r.template.codePointAt(r.i),e=r.c=String.fromCodePoint(t);if(r.i+=e.length,!Object.hasOwn(this.columnHandler,e))throw new gb("BadPreamToken","Illegal pream-token (%1)",e);this.columnHandler[e](r)}this.setColumnAlign(r,s),this.setColumnWidths(r,s),this.setColumnSpacing(r,s),this.setColumnLines(r,s),this.setPadding(r,s)}setColumnAlign(t,e){e.arraydef.columnalign=t.calign.join(" ")}setColumnWidths(t,e){if(!t.cwidth.length)return;const s=[...t.cwidth];s.length<t.calign.length&&s.push("auto"),e.arraydef.columnwidth=s.map(t=>t||"auto").join(" ")}setColumnSpacing(t,e){if(!t.cspace.length)return;const s=[...t.cspace];s.length<t.calign.length&&s.push("1em"),e.arraydef.columnspacing=s.slice(1).map(t=>t||"1em").join(" ")}setColumnLines(t,e){if(!t.clines.length)return;const s=[...t.clines];s[0]&&e.frame.push(["left",s[0]]),s.length>t.calign.length?e.frame.push(["right",s.pop()]):s.length<t.calign.length&&s.push("none"),s.length>1&&(e.arraydef.columnlines=s.slice(1).map(t=>t||"none").join(" "))}setPadding(t,e){if(!t.cextra[0]&&!t.cextra[t.calign.length-1])return;const s=t.calign.length-1,r=t.cspace,i=t.cextra[s]?r[s]:null;e.arraydef["data-array-padding"]=`${r[0]||".5em"} ${i||".5em"}`}getColumn(t,e,s="left"){t.calign[t.j]=s||this.getAlign(t),t.cwidth[t.j]=this.getDimen(t),t.ralign[t.j]=[e,t.cwidth[t.j],t.calign[t.j]],t.j++}getDimen(t){const e=this.getBraces(t);if(!pb.matchDimen(e)[0])throw new gb("MissingColumnDimOrUnits","Missing dimension or its units for %1 column declaration",t.c);return e}getAlign(t){return vi(this.getBraces(t).toLowerCase(),{l:"left",c:"center",r:"right"},"")}getBraces(t){for(;" "===t.template[t.i];)t.i++;if(t.i>=t.template.length)throw new gb("MissingArgForColumn","Missing argument for %1 column declaration",t.c);if("{"!==t.template[t.i])return t.template[t.i++];const e=++t.i;let s=1;for(;t.i<t.template.length;)switch(t.template.charAt(t.i++)){case"\\":t.i++;break;case"{":s++;break;case"}":if(0===--s)return t.template.slice(e,t.i-1)}throw new gb("MissingCloseBrace","Missing close brace")}macroColumn(t,e,s){const r=[];for(;s>0&&s--;)r.push(this.getBraces(t));t.template=Mb.substituteArgs(t.parser,r,e)+t.template.slice(t.i),t.i=0}addRule(t,e){t.clines[t.j]&&this.addAt(t,"\\,"),t.clines[t.j]=e,"0"===t.cspace[t.j]&&(t.cstart[t.j]="\\hspace{.5em}")}addAt(t,e){const{cstart:s,cspace:r,j:i}=t;t.cextra[i]=!0,t.calign[i]="center",t.clines[i]&&(".5em"===r[i]?s[i-1]+="\\hspace{.25em}":r[i]||(t.cend[i-1]=(t.cend[i-1]||"")+"\\hspace{.5em}")),s[i]=e,r[i]="0",r[++t.j]="0"}addBang(t,e){const{cstart:s,cspace:r,j:i}=t;t.cextra[i]=!0,t.calign[i]="center",s[i]=("0"===r[i]&&t.clines[i]?"\\hspace{.25em}":"")+e,r[i]||(r[i]=".5em"),r[++t.j]=".5em"}repeat(t){const e=this.getBraces(t),s=this.getBraces(t),r=parseInt(e);if(String(r)!==e)throw new gb("ColArgNotNum","First argument to %1 column specifier must be a number","*");t.template=new Array(r).fill(s).join("")+t.template.substring(t.i),t.i=0}}const Lb=Eb.Variant;class Ib{constructor(t,e=[]){this.options={},this.columnParser=new Sb,this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=t.handlers,this.nodeFactory=new wb,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(t.nodes),this.itemFactory=new vb(t.items),this.itemFactory.configuration=this,xi(this.options,...e),xi(this.options,t.options),this.mathStyle=Ib.getVariant.get(this.options.mathStyle)||Ib.getVariant.get("TeX")}pushParser(t){this.parsers.unshift(t)}popParser(){this.parsers.shift()}get parser(){return this.parsers[0]}clear(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()}addNode(t,e){let s=this.nodeLists[t];if(s||(s=this.nodeLists[t]=[]),s.push(e),e.kind!==t){const s=rb.getProperty(e,"in-lists")||"",r=(s?s.split(/,/):[]).concat(t).join(",");rb.setProperty(e,"in-lists",r)}}getList(t){const e=this.nodeLists[t]||[],s=[];for(const t of e)this.inTree(t)&&s.push(t);return this.nodeLists[t]=s,s}removeFromList(t,e){const s=this.nodeLists[t]||[];for(const t of e){const e=s.indexOf(t);e>=0&&s.splice(e,1)}}inTree(t){for(;t&&t!==this.root;)t=t.parent;return!!t}}Ib.getVariant=new Map([["TeX",(t,e)=>e&&t.match(/^[\u0391-\u03A9\u03F4]/)?Lb.NORMAL:""],["ISO",t=>Lb.ITALIC],["French",t=>t.normalize("NFD").match(/^[a-z]/)?Lb.ITALIC:Lb.NORMAL],["upright",t=>Lb.NORMAL]]);const Rb=Ib;class Ob{constructor(t="???",e=""){this.tag=t,this.id=e}}class Pb{constructor(t="",e=!1,s=!1,r=null,i="",n="",o=!1,a=""){this.env=t,this.taggable=e,this.defaultTags=s,this.tag=r,this.tagId=i,this.tagFormat=n,this.noTag=o,this.labelId=a}}class Db{constructor(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new Pb,this.history=[],this.stack=[],this.enTag=function(t,e){const s=this.configuration.nodeFactory,r=s.create("node","mtd",[t]),i=s.create("node","mlabeledtr",[e,r]);return s.create("node","mtable",[i],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}start(t,e,s){this.currentTag&&this.stack.push(this.currentTag);const r=this.label;this.currentTag=new Pb(t,e,s),this.label=r}get env(){return this.currentTag.env}end(){this.history.push(this.currentTag);const t=this.label;this.currentTag=this.stack.pop(),t&&!this.label&&(this.label=t)}tag(t,e){this.currentTag.tag=t,this.currentTag.tagFormat=e?t:this.formatTag(t),this.currentTag.noTag=!1}notag(){this.tag("",!0),this.currentTag.noTag=!0}get noTag(){return this.currentTag.noTag}set label(t){this.currentTag.labelId=t}get label(){return this.currentTag.labelId}formatUrl(t,e){return e+"#"+encodeURIComponent(t)}formatTag(t){return"("+t+")"}formatRef(t){return this.formatTag(t)}formatId(t){return"mjx-eqn:"+t.replace(/\s/g,"_")}formatNumber(t){return t.toString()}autoTag(){null==this.currentTag.tag&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))}clearTag(){this.tag(null,!0),this.currentTag.tagId=""}getTag(t=!1){if(t)return this.autoTag(),this.makeTag();const e=this.currentTag;return e.taggable&&!e.noTag&&(e.defaultTags&&this.autoTag(),e.tag)?this.makeTag():null}resetTag(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()}reset(t=0){this.resetTag(),this.counter=this.allCounter=t,this.allLabels={},this.allIds={},this.label=""}startEquation(t){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new Pb("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;const e=t.inputData.recompile;e&&(this.refUpdate=!0,this.counter=e.counter)}finishEquation(t){this.redo&&(t.inputData.recompile={state:t.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)}finalize(t,e){if(!e.display||this.currentTag.env||null==this.currentTag.tag)return t;const s=this.makeTag();return this.enTag(t,s)}makeId(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)}makeTag(){this.makeId(),this.label&&(this.labels[this.label]=new Ob(this.currentTag.tag,this.currentTag.tagId),this.label="");const t=new yb("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[t],{id:this.currentTag.tagId,rowalign:this.configuration.options.tagAlign})}}class Bb extends Db{autoTag(){}getTag(){return this.currentTag.tag?super.getTag():null}}class Fb extends Db{finalize(t,e){if(!e.display||this.history.find(function(t){return t.taggable}))return t;const s=this.getTag(!0);return this.enTag(t,s)}}const qb=new Map([["none",Bb],["all",Fb]]);let jb="none";const Ub={OPTIONS:{tags:jb,tagSide:"right",tagIndent:"0.8em",useLabelIds:!0,ignoreDuplicateLabels:!1,tagAlign:"baseline"},add(t,e){qb.set(t,e)},addTags(t){for(const e of Object.keys(t))Ub.add(e,t[e])},create(t){const e=qb.get(t)||qb.get(jb);if(!e)throw Error("Unknown tags class");return new e},setDefault(t){jb=t},getDefault:()=>Ub.create(jb)};class Hb{constructor(t,e,s){this._token=t,this._char=e,this._attributes=s}get token(){return this._token}get char(){return this._char}get attributes(){return this._attributes}}class Gb{constructor(t,e,s=[]){this._token=t,this._func=e,this._args=s}get token(){return this._token}get func(){return this._func}get args(){return this._args}}function zb(t){return void 0===t||t}class Wb{constructor(t,e){this._name=t,this._parser=e,tx.register(this)}get name(){return this._name}parserFor(t){return this.contains(t)?this.parser:null}parse([t,e]){const s=this.parserFor(e),r=this.lookup(e);return s&&r?zb(s(t,r)):null}set parser(t){this._parser=t}get parser(){return this._parser}}class Vb extends Wb{constructor(t,e,s){super(t,e),this._regExp=s}contains(t){return this._regExp.test(t)}lookup(t){return this.contains(t)?t:null}}class Xb extends Wb{constructor(){super(...arguments),this.map=new Map}lookup(t){return this.map.get(t)}contains(t){return this.map.has(t)}add(t,e){this.map.set(t,e)}remove(t){this.map.delete(t)}}class $b extends Xb{constructor(t,e,s){super(t,e);for(const t of Object.keys(s)){const e=s[t],[r,i]="string"==typeof e?[e,null]:e,n=new Hb(t,r,i);this.add(t,n)}}}class Jb extends $b{parse([t,e]){return super.parse([t,"\\"+e])}}class Kb extends Xb{constructor(t,e,s={}){super(t,null);const r=t=>"string"==typeof t?s[t]:t;for(const[t,s]of Object.entries(e)){let e,i;Array.isArray(s)?(e=r(s[0]),i=s.slice(1)):(e=r(s),i=[]);const n=new Gb(t,e,i);this.add(t,n)}}parserFor(t){const e=this.lookup(t);return e?e.func:null}parse([t,e]){const s=this.lookup(e),r=this.parserFor(e);return s&&r?zb(r(t,s.token,...s.args)):null}}class Yb extends Kb{parse([t,e]){const s=this.lookup(e),r=this.parserFor(e);if(!s||!r)return null;const i=t.currentCS;t.currentCS="\\"+e;const n=r(t,"\\"+s.token,...s.args);return t.currentCS=i,zb(n)}}class Qb extends Kb{constructor(t,e,s,r={}){super(t,s,r),this.parser=e}parse([t,e]){const s=this.lookup(e),r=this.parserFor(e);return s&&r?zb(this.parser(t,s.token,r,s.args)):null}}const Zb=new Map,tx={register(t){Zb.set(t.name,t)},getMap:t=>Zb.get(t)};class ex{constructor(){this._configuration=new Qr,this._fallback=new Zr}add(t,e,s=Qr.DEFAULTPRIORITY){for(const e of t.slice().reverse()){const t=tx.getMap(e);if(!t)return void this.warn(`Configuration '${e}' not found! Omitted.`);this._configuration.add(t,s)}e&&this._fallback.add(e,s)}remove(t,e=null){for(const e of t){const t=this.retrieve(e);t&&this._configuration.remove(t)}e&&this._fallback.remove(e)}parse(t){for(const{item:e}of this._configuration){const s=e.parse(t);if(s===ex.FALLBACK)break;if(s)return s}const[e,s]=t;Array.from(this._fallback)[0].item(e,s)}lookup(t){const e=this.applicable(t);return e?e.lookup(t):null}contains(t){const e=this.applicable(t);return!(!e||e instanceof $b&&null===e.lookup(t).char)}toString(){const t=[];for(const{item:e}of this._configuration)t.push(e.name);return t.join(", ")}applicable(t){for(const{item:e}of this._configuration)if(e.contains(t))return e;return null}retrieve(t){for(const{item:e}of this._configuration)if(e.name===t)return e;return null}warn(t){console.log("TexParser Warning: "+t)}}ex.FALLBACK=Symbol("fallback");class sx{constructor(){this.map=new Map}add(t,e,s=Qr.DEFAULTPRIORITY){for(const r of Object.keys(t)){const i=r;let n=this.get(i);n||(n=new ex,this.set(i,n)),n.add(t[i],e[i],s)}}remove(t,e){for(const s of Object.keys(t)){const r=this.get(s);r&&r.remove(t[s],e[s])}}set(t,e){this.map.set(t,e)}get(t){return this.map.get(t)}retrieve(t){for(const e of this.map.values()){const s=e.retrieve(t);if(s)return s}return null}keys(){return this.map.keys()}}class rx{static makeProcessor(t,e){return Array.isArray(t)?t:[t,e]}static _create(t,e={}){var s;const r=null!==(s=e.priority)&&void 0!==s?s:Qr.DEFAULTPRIORITY,i=e.init?this.makeProcessor(e.init,r):null,n=e.config?this.makeProcessor(e.config,r):null,o=(e.preprocessors||[]).map(t=>this.makeProcessor(t,r)),a=(e.postprocessors||[]).map(t=>this.makeProcessor(t,r)),c=e.parser||"tex";return new rx(t,e[hb.HANDLER]||{},e[hb.FALLBACK]||{},e[hb.ITEMS]||{},e[hb.TAGS]||{},e[hb.OPTIONS]||{},e[hb.NODES]||{},o,a,i,n,r,c)}static create(t,e={}){const s=rx._create(t,e);return nx.set(t,s),s}static local(t={}){return rx._create("",t)}constructor(t,e={},s={},r={},i={},n={},o={},a=[],c=[],l=null,h=null,d,u){this.name=t,this.handler=e,this.fallback=s,this.items=r,this.tags=i,this.options=n,this.nodes=o,this.preprocessors=a,this.postprocessors=c,this.initMethod=l,this.configMethod=h,this.priority=d,this.parser=u,this.handler=Object.assign({[db.CHARACTER]:[],[db.DELIMITER]:[],[db.MACRO]:[],[db.ENVIRONMENT]:[]},e)}get init(){return this.initMethod?this.initMethod[0]:null}get config(){return this.configMethod?this.configMethod[0]:null}}const ix=new Map,nx={set(t,e){ix.set(t,e)},get:t=>ix.get(t),keys:()=>ix.keys()};class ox{constructor(t,e=["tex"]){this.initMethod=new Zr,this.configMethod=new Zr,this.configurations=new Qr,this.parsers=[],this.handlers=new sx,this.items={},this.tags={},this.options={},this.nodes={},this.parsers=e;for(const e of t.slice().reverse())this.addPackage(e);for(const{item:t,priority:e}of this.configurations)this.append(t,e)}init(){this.initMethod.execute(this)}config(t){this.configMethod.execute(this,t);for(const e of this.configurations)this.addFilters(t,e.item)}addPackage(t){const e="string"==typeof t?t:t[0],s=this.getPackage(e);s&&this.configurations.add(s,"string"==typeof t?s.priority:t[1])}add(t,e,s={}){const r=this.getPackage(t);this.append(r),this.configurations.add(r,r.priority),this.init();const i=e.parseOptions;i.nodeFactory.setCreators(r.nodes);for(const t of Object.keys(r.items))i.itemFactory.setNodeClass(t,r.items[t]);Ub.addTags(r.tags),xi(i.options,r.options),Ei(i.options,s),this.addFilters(e,r),r.config&&r.config(this,e)}getPackage(t){const e=nx.get(t);if(e&&!this.parsers.includes(e.parser))throw Error(`Package '${t}' doesn't target the proper parser`);return e||this.warn(`Package '${t}' not found.  Omitted.`),e}append(t,e){e=e||t.priority,t.initMethod&&this.initMethod.add(t.initMethod[0],t.initMethod[1]),t.configMethod&&this.configMethod.add(t.configMethod[0],t.configMethod[1]),this.handlers.add(t.handler,t.fallback,e),Object.assign(this.items,t.items),Object.assign(this.tags,t.tags),xi(this.options,t.options),Object.assign(this.nodes,t.nodes)}addFilters(t,e){for(const[s,r]of e.preprocessors)t.preFilters.add(s,r);for(const[s,r]of e.postprocessors)t.postFilters.add(s,r)}warn(t){console.warn("MathJax Warning: "+t)}}class ax extends xb{constructor(t,e){super(t),this.global=e}get kind(){return"start"}get isOpen(){return!0}checkItem(t){if(t.isKind("stop")){let t=this.toMml();return this.global.isInner||(t=this.factory.configuration.tags.finalize(t,this.env)),[[this.factory.create("mml",t)],!0]}return super.checkItem(t)}}class cx extends xb{get kind(){return"stop"}get isClose(){return!0}}class lx extends xb{get kind(){return"open"}get isOpen(){return!0}checkItem(t){if(t.isKind("close")){const e=this.toMml(),s=this.create("node","TeXAtom",[e]);return Rx(s,t),[[this.factory.create("mml",s)],!0]}return super.checkItem(t)}}lx.errors=Object.assign(Object.create(xb.errors),{stop:["ExtraOpenMissingClose","Extra open brace or missing close brace"]});class hx extends xb{get kind(){return"close"}get isClose(){return!0}}class dx extends xb{get kind(){return"null"}}class ux extends xb{get kind(){return"prime"}checkItem(t){const[e,s]=this.Peek(2),r=(rb.isType(e,"msubsup")||rb.isType(e,"msup"))&&!rb.getChildAt(e,e.sup),i=(rb.isType(e,"munderover")||rb.isType(e,"mover"))&&!rb.getChildAt(e,e.over)&&!rb.getProperty(e,"subsupOK");if(!r&&!i){return[[this.create("node",e.getProperty("movesupsub")?"mover":"msup",[e,s]),t],!0]}const n=r?e.sup:e.over;return rb.setChild(e,n,s),[[e,t],!0]}}class px extends xb{get kind(){return"subsup"}checkItem(t){if(t.isKind("open")||t.isKind("left"))return xb.success;const e=this.First,s=this.getProperty("position");if(t.isKind("mml")){if(this.getProperty("primes"))if(2!==s)rb.setChild(e,2,this.getProperty("primes"));else{rb.setProperty(this.getProperty("primes"),"variantForm",!0);const e=this.create("node","mrow",[this.getProperty("primes"),t.First]);t.First=e}rb.setChild(e,s,t.First),null!=this.getProperty("movesupsub")&&rb.setProperty(e,"movesupsub",this.getProperty("movesupsub"));return[[this.factory.create("mml",e)],!0]}super.checkItem(t);const r=this.getErrors(["","sub","sup"][s]);throw new gb(r[0],r[1],...r.splice(2))}}px.errors=Object.assign(Object.create(xb.errors),{stop:["MissingScript","Missing superscript or subscript argument"],sup:["MissingOpenForSup","Missing open brace for superscript"],sub:["MissingOpenForSub","Missing open brace for subscript"]});class mx extends xb{constructor(t){super(t),this.setProperty("name","\\over")}get kind(){return"over"}get isClose(){return!0}checkItem(t){if(t.isKind("over"))throw new gb("AmbiguousUseOf","Ambiguous use of %1",t.getName());if(t.isClose){let e=this.create("node","mfrac",[this.getProperty("num"),this.toMml(!1)]);return null!=this.getProperty("thickness")&&rb.setAttribute(e,"linethickness",this.getProperty("thickness")),(this.getProperty("ldelim")||this.getProperty("rdelim"))&&(rb.setProperty(e,"withDelims",!0),e=Mb.fixedFence(this.factory.configuration,this.getProperty("ldelim"),e,this.getProperty("rdelim"))),e.attributes.set(Eb.Attr.LATEXITEM,this.getProperty("name")),[[this.factory.create("mml",e),t],!0]}return super.checkItem(t)}toString(){return"over["+this.getProperty("num")+" / "+this.nodes.join("; ")+"]"}}class fx extends xb{constructor(t,e){super(t),this.setProperty("delim",e)}get kind(){return"left"}get isOpen(){return!0}checkItem(t){if(t.isKind("right")){const e=Mb.fenced(this.factory.configuration,this.getProperty("delim"),this.toMml(),t.getProperty("delim"),"",t.getProperty("color")),s=e.childNodes[0],r=e.childNodes[e.childNodes.length-1],i=this.factory.create("mml",e);return Rx(s,this,"\\left"),Rx(r,t,"\\right"),i.Peek()[0].attributes.set(Eb.Attr.LATEXITEM,"\\left"+t.startStr.slice(this.startI,t.stopI)),[[i],!0]}if(t.isKind("middle")){const e={stretchy:!0};t.getProperty("color")&&(e.mathcolor=t.getProperty("color"));const s=this.create("token","mo",e,t.getProperty("delim"));return Rx(s,t,"\\middle"),this.Push(this.create("node","TeXAtom",[],{texClass:Yi.CLOSE}),s,this.create("node","TeXAtom",[],{texClass:Yi.OPEN})),this.env={},[[this],!0]}return super.checkItem(t)}}fx.errors=Object.assign(Object.create(xb.errors),{stop:["ExtraLeftMissingRight","Extra \\left or missing \\right"]});class gx extends xb{constructor(t,e,s){super(t),this.setProperty("delim",e),s&&this.setProperty("color",s)}get kind(){return"middle"}get isClose(){return!0}}class bx extends xb{constructor(t,e,s){super(t),this.setProperty("delim",e),s&&this.setProperty("color",s)}get kind(){return"right"}get isClose(){return!0}}class xx extends xb{get kind(){return"break"}constructor(t,e,s){super(t),this.setProperty("linebreak",e),this.setProperty("insert",s)}checkItem(t){var e,s;const r=this.getProperty("linebreak");if(t.isKind("mml")){const i=t.First;if(i.isKind("mo")){if("after"!==((null===(s=null===(e=rb.getOp(i))||void 0===e?void 0:e[3])||void 0===s?void 0:s.linebreakstyle)||rb.getAttribute(i,"linebreakstyle")))return rb.setAttribute(i,"linebreak",r),[[t],!0];if(!this.getProperty("insert"))return[[t],!0]}}const i=this.create("token","mspace",{linebreak:r});return[[this.factory.create("mml",i),t],!0]}}class Ex extends xb{get kind(){return"begin"}get isOpen(){return!0}checkItem(t){if(t.isKind("end")){if(t.getName()!==this.getName())throw new gb("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),t.getName());const e=this.toMml();return Rx(e,t),[[this.factory.create("mml",e)],!0]}if(t.isKind("stop"))throw new gb("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(t)}}class yx extends xb{get kind(){return"end"}get isClose(){return!0}}class Nx extends xb{get kind(){return"style"}checkItem(t){if(!t.isClose)return super.checkItem(t);const e=this.create("node","mstyle",this.nodes,this.getProperty("styles"));return[[this.factory.create("mml",e),t],!0]}}class _x extends xb{get kind(){return"position"}checkItem(t){if(t.isClose)throw new gb("MissingBoxFor","Missing box for %1",this.getName());if(t.isFinal){let e=t.toMml();switch(this.getProperty("move")){case"vertical":return e=this.create("node","mpadded",[e],{height:this.getProperty("dh"),depth:this.getProperty("dd"),voffset:this.getProperty("dh")}),[[this.factory.create("mml",e)],!0];case"horizontal":return[[this.factory.create("mml",this.getProperty("left")),t,this.factory.create("mml",this.getProperty("right"))],!0]}}return super.checkItem(t)}}class vx extends xb{get kind(){return"cell"}get isClose(){return!0}}class wx extends xb{get isFinal(){return!0}get kind(){return"mml"}}class Cx extends xb{get kind(){return"fn"}checkItem(t){const e=this.First;if(e){if(t.isOpen)return xb.success;if(!t.isKind("fn")){let s=t.First;if(!t.isKind("mml")||!s)return[[e,t],!0];if(rb.isType(s,"mstyle")&&s.childNodes.length&&rb.isType(s.childNodes[0].childNodes[0],"mspace")||rb.isType(s,"mspace"))return[[e,t],!0];rb.isEmbellished(s)&&(s=rb.getCoreMO(s));const r=rb.getForm(s);if(null!=r&&[0,0,1,1,0,1,1,0,0,0][r[2]])return[[e,t],!0]}return[[e,this.create("token","mo",{texClass:Yi.NONE},ea.ApplyFunction),t],!0]}return super.checkItem(t)}}class kx extends xb{constructor(){super(...arguments),this.remap=tx.getMap("not_remap")}get kind(){return"not"}checkItem(t){let e,s,r;if(t.isKind("open")||t.isKind("left"))return xb.success;if(t.isKind("mml")&&(rb.isType(t.First,"mo")||rb.isType(t.First,"mi")||rb.isType(t.First,"mtext"))&&(e=t.First,s=rb.getText(e),1===s.length&&!rb.getProperty(e,"movesupsub")&&1===rb.getChildren(e).length))return this.remap.contains(s)?(r=this.create("text",this.remap.lookup(s).char),rb.setChild(e,0,r)):(r=this.create("text","\u0338"),rb.appendChildren(e,[r])),[[t],!0];r=this.create("text","\u29f8");const i=this.create("node","mtext",[],{},r),n=this.create("node","mpadded",[i],{width:0});return e=this.create("node","TeXAtom",[n],{texClass:Yi.REL}),[[e,t],!0]}}class Ax extends xb{get kind(){return"nonscript"}checkItem(t){if(t.isKind("mml")&&1===t.Size()){let e=t.First;if(e.isKind("mstyle")&&e.notParent&&(e=rb.getChildren(rb.getChildren(e)[0])[0]),e.isKind("mspace")){if(e!==t.First){const e=this.create("node","mrow",[t.Pop()]);t.Push(e)}this.factory.configuration.addNode("nonscript",t.First)}}return[[t],!0]}}class Tx extends xb{get kind(){return"dots"}checkItem(t){if(t.isKind("open")||t.isKind("left"))return xb.success;let e=this.getProperty("ldots");const s=t.First;if(t.isKind("mml")&&rb.isEmbellished(s)){const t=rb.getTexClass(rb.getCoreMO(s));t!==Yi.BIN&&t!==Yi.REL||(e=this.getProperty("cdots"))}return[[e,t],!0]}}class Mx extends xb{constructor(){super(...arguments),this.table=[],this.row=[],this.frame=[],this.hfill=[],this.arraydef={},this.cstart=[],this.cend=[],this.cextra=[],this.atEnd=!1,this.ralign=[],this.breakAlign={cell:"",row:"",table:""},this.templateSubs=0}get kind(){return"array"}get isOpen(){return!0}get copyEnv(){return!1}checkItem(t){if(t.isClose&&!t.isKind("over")){if(t.getProperty("isEntry"))return this.EndEntry(),this.clearEnv(),this.StartEntry(),xb.fail;if(t.getProperty("isCR"))return this.EndEntry(),this.EndRow(),this.clearEnv(),this.StartEntry(),xb.fail;this.EndTable(),this.clearEnv();const e=this.factory.create("mml",this.createMml());if(this.getProperty("requireClose")){if(t.isKind("close"))return[[e],!0];throw new gb("MissingCloseBrace","Missing close brace")}return[[e,t],!0]}return super.checkItem(t)}createMml(){const t=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;let e=this.create("node","mtable",this.table,this.arraydef);return t&&e.setProperty("smallmatrix",!0),this.breakAlign.table&&rb.setAttribute(e,"data-break-align",this.breakAlign.table),this.getProperty("arrayPadding")&&(rb.setAttribute(e,"data-frame-styles",""),rb.setAttribute(e,"framespacing",this.getProperty("arrayPadding"))),e=this.handleFrame(e),void 0!==t&&(e=this.create("node","mstyle",[e],{scriptlevel:t})),(this.getProperty("open")||this.getProperty("close"))&&(e=Mb.fenced(this.factory.configuration,this.getProperty("open"),e,this.getProperty("close"))),e}handleFrame(t){if(!this.frame.length)return t;const e=new Map(this.frame),s=this.frame.reduce((t,[,e])=>e===t?e:"",this.frame[0][1]);if(s){if(4===this.frame.length)return rb.setAttribute(t,"frame",s),rb.removeAttribute(t,"data-frame-styles"),t;if("solid"===s)return rb.setAttribute(t,"data-frame-styles",""),t=this.create("node","menclose",[t],{notation:Array.from(e.keys()).join(" "),"data-padding":0})}const r=la.map(t=>e.get(t)||"none").join(" ");return rb.setAttribute(t,"data-frame-styles",r),t}StartEntry(){const t=this.row.length;let e=this.cstart[t],s=this.cend[t];const r=this.ralign[t],i=this.cextra;if(!(e||s||r||i[t]||i[t+1]))return;let[n,o,a,c]=this.getEntry();if(!i[t]||this.atEnd&&!i[t+1]||(e+="&"),"&"!==a&&(c=!!o.trim()||!!(t||a&&"\\end"!==a.substring(0,4)),i[t+1]&&!i[t]&&(s=(s||"")+"&",this.atEnd=!0)),!c&&!n)return;const l=this.parser;if(c&&(e&&(o=Mb.addArgs(l,e,o)),s&&(o=Mb.addArgs(l,o,s)),r&&(o="\\text{"+o.trim()+"}"),(e||s||r)&&++this.templateSubs>l.configuration.options.maxTemplateSubtitutions))throw new gb("MaxTemplateSubs","Maximum template substitutions exceeded; is there an invalid use of \\\\ in the template?");n&&(o=Mb.addArgs(l,n,o)),l.string=Mb.addArgs(l,o,l.string),l.i=0}getEntry(){const t=this.parser,e=/^([^]*?)([&{}]|\\\\|\\(?:begin|end)\s*\{array\}|\\cr|\\)/;let s,r=0,i=0,n=t.i;const o=["","","",!1];for(;null!==(s=t.string.slice(n).match(e));)switch(n+=s[0].length,s[2]){case"\\":n++;break;case"{":r++;break;case"}":if(!r)return o;r--;break;case"\\begin{array}":r||i++;break;case"\\end{array}":if(!r&&i){i--;break}default:{if(r||i)continue;n-=s[2].length;let e=t.string.slice(t.i,n).trim();const o=e.match(/^(?:\s*\\(?:h(?:dash)?line|hfil{1,3}|rowcolor\s*\{.*?\}))+/);return o&&(e=e.slice(o[0].length)),t.string=t.string.slice(n),t.i=0,[(null==o?void 0:o[0])||"",e,s[2],!0]}}return o}EndEntry(){const t=this.create("node","mtd",this.nodes);this.hfill.length&&(0===this.hfill[0]&&rb.setAttribute(t,"columnalign","right"),this.hfill[this.hfill.length-1]===this.Size()&&rb.setAttribute(t,"columnalign",rb.getAttribute(t,"columnalign")?"center":"left"));const e=this.ralign[this.row.length];if(e){const[s,r,i]=e,n=this.create("node","mpadded",t.childNodes[0].childNodes,{width:r,"data-overflow":"auto","data-align":i,"data-vertical-align":s});n.setProperty("vbox",s),t.childNodes[0].childNodes=[],t.appendChild(n)}else this.breakAlign.cell&&rb.setAttribute(t,"data-vertical-align",this.breakAlign.cell);this.breakAlign.cell="",this.row.push(t),this.Clear(),this.hfill=[]}EndRow(){let t="mtr";this.getProperty("isNumbered")&&3===this.row.length?(this.row.unshift(this.row.pop()),t="mlabeledtr"):this.getProperty("isLabeled")&&(t="mlabeledtr",this.setProperty("isLabeled",!1));const e=this.create("node",t,this.row);this.breakAlign.row&&(rb.setAttribute(e,"data-break-align",this.breakAlign.row),this.breakAlign.row=""),Rx(e,this),this.table.push(e),this.row=[],this.atEnd=!1}EndTable(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()}checkLines(){if(this.arraydef.rowlines){const t=this.arraydef.rowlines.split(/ /);t.length===this.table.length?(this.frame.push(["bottom",t.pop()]),t.length?this.arraydef.rowlines=t.join(" "):delete this.arraydef.rowlines):t.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.getProperty("rowspacing")){const t=this.arraydef.rowspacing.split(/ /);for(;t.length<this.table.length;)t.push(this.getProperty("rowspacing")+"em");this.arraydef.rowspacing=t.join(" ")}}addRowSpacing(t){if(this.arraydef.rowspacing){const e=this.arraydef.rowspacing.split(/ /);if(!this.getProperty("rowspacing")){const t=pb.dimen2em(e[0]);this.setProperty("rowspacing",t)}const s=this.getProperty("rowspacing");for(;e.length<this.table.length;)e.push(pb.em(s));e[this.table.length-1]=pb.em(Math.max(0,s+pb.dimen2em(t))),this.arraydef.rowspacing=e.join(" ")}}}class Sx extends Mx{constructor(t,...e){super(t),this.maxrow=0,this.factory.configuration.tags.start(e[0],e[2],e[1])}get kind(){return"eqnarray"}EndEntry(){const t=this.arraydef.columnalign.split(/ /);"right"!==(this.row.length&&t.length?t[this.row.length%t.length]:"right")&&Mb.fixInitialMO(this.factory.configuration,this.nodes),super.EndEntry()}EndRow(){this.row.length>this.maxrow&&(this.maxrow=this.row.length);const t=this.factory.configuration.tags.getTag();t&&(this.row=[t].concat(this.row),this.setProperty("isLabeled",!0)),this.factory.configuration.tags.clearTag(),super.EndRow()}EndTable(){super.EndTable(),this.factory.configuration.tags.end(),this.extendArray("columnalign",this.maxrow),this.extendArray("columnwidth",this.maxrow),this.extendArray("columnspacing",this.maxrow-1),this.extendArray("data-break-align",this.maxrow),this.addIndentshift()}extendArray(t,e){if(!this.arraydef[t])return;const s=this.arraydef[t].split(/ /),r=[...s];if(r.length>1){for(;r.length<e;)r.push(...s);this.arraydef[t]=r.slice(0,e).join(" ")}}addIndentshift(){const t=this.arraydef.columnalign.split(/ /);let e="";for(const s of t.keys()){if("left"===t[s]&&s>0){const t="center"===e?".7em":"2em";for(const e of this.table){const r=e.childNodes[e.isKind("mlabeledtr")?s+1:s];if(r){const e=this.create("node","mstyle",r.childNodes[0].childNodes,{indentshift:t});r.childNodes[0].childNodes=[],r.appendChild(e)}}}e=t[s]}}}class Lx extends Ex{get kind(){return"mstyle"}constructor(t,e,s){super(t),this.attrList=e,this.setProperty("name",s)}checkItem(t){if(t.isKind("end")&&t.getName()===this.getName()){return[[this.create("node","mstyle",[this.toMml()],this.attrList)],!0]}return super.checkItem(t)}}class Ix extends xb{constructor(t,...e){super(t),this.factory.configuration.tags.start("equation",!0,e[0])}get kind(){return"equation"}get isOpen(){return!0}checkItem(t){if(t.isKind("end")){const e=this.toMml(),s=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[s?this.factory.configuration.tags.enTag(e,s):e,t],!0]}if(t.isKind("stop"))throw new gb("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(t)}}function Rx(t,e,s=""){const r=e.startStr.slice(e.startI,e.stopI);r&&(t.attributes.set(Eb.Attr.LATEXITEM,s?s+r:r),t.attributes.set(Eb.Attr.LATEX,s?s+r:r))}const Ox=1.2/.85,Px={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function Dx(t,e=1/0){const s=t.replace(/\s+/g,"").split("").map(t=>{const e={t:"top",b:"bottom",m:"middle",c:"center"}[t];if(!e)throw new gb("BadBreakAlign","Invalid alignment character: %1",t);return e});if(s.length>e)throw new gb("TooManyAligns","Too many alignment characters: %1",t);return 1===e?s[0]:s.join(" ")}function Bx(t,e){const s=t.stack.env,r=s.inRoot;s.inRoot=!0;const i=new yb(e,s,t.configuration);let n=i.mml();const o=i.stack.global;if(o.leftRoot||o.upRoot){const e={};o.leftRoot&&(e.width=o.leftRoot),o.upRoot&&(e.voffset=o.upRoot,e.height=o.upRoot),n=t.create("node","mpadded",[n],e)}return s.inRoot=r,n}const Fx={Open(t,e){t.Push(t.itemFactory.create("open"))},Close(t,e){t.Push(t.itemFactory.create("close"))},Bar(t,e){t.Push(t.create("token","mo",{stretchy:!1,texClass:Yi.ORD},e))},Tilde(t,e){t.Push(t.create("token","mtext",{},ea.nbsp))},Space(t,e){},Superscript(t,e){let s,r;t.GetNext().match(/\d/)&&(t.string=t.string.substring(0,t.i+1)+" "+t.string.substring(t.i+1));const i=t.stack.Top();i.isKind("prime")?([r,s]=i.Peek(2),t.stack.Pop()):(r=t.stack.Prev(),r||(r=t.create("token","mi",{},"")));const n=rb.getProperty(r,"movesupsub");let o=rb.isType(r,"msubsup")?r.sup:r.over;if(rb.isType(r,"msubsup")&&!rb.isType(r,"msup")&&rb.getChildAt(r,r.sup)||rb.isType(r,"munderover")&&!rb.isType(r,"mover")&&rb.getChildAt(r,r.over)&&!rb.getProperty(r,"subsupOK"))throw new gb("DoubleExponent","Double exponent: use braces to clarify");rb.isType(r,"msubsup")&&!rb.isType(r,"msup")||(n?((!rb.isType(r,"munderover")||rb.isType(r,"mover")||rb.getChildAt(r,r.over))&&(r=t.create("node","munderover",[r],{movesupsub:!0})),o=r.over):(r=t.create("node","msubsup",[r]),o=r.sup)),t.Push(t.itemFactory.create("subsup",r).setProperties({position:o,primes:s,movesupsub:n}))},Subscript(t,e){let s,r;t.GetNext().match(/\d/)&&(t.string=t.string.substring(0,t.i+1)+" "+t.string.substring(t.i+1));const i=t.stack.Top();i.isKind("prime")?([r,s]=i.Peek(2),t.stack.Pop()):(r=t.stack.Prev(),r||(r=t.create("token","mi",{},"")));const n=rb.getProperty(r,"movesupsub");let o=rb.isType(r,"msubsup")?r.sub:r.under;if(rb.isType(r,"msubsup")&&!rb.isType(r,"msup")&&rb.getChildAt(r,r.sub)||rb.isType(r,"munderover")&&!rb.isType(r,"mover")&&rb.getChildAt(r,r.under)&&!rb.getProperty(r,"subsupOK"))throw new gb("DoubleSubscripts","Double subscripts: use braces to clarify");rb.isType(r,"msubsup")&&!rb.isType(r,"msup")||(n?((!rb.isType(r,"munderover")||rb.isType(r,"mover")||rb.getChildAt(r,r.under))&&(r=t.create("node","munderover",[r],{movesupsub:!0})),o=r.under):(r=t.create("node","msubsup",[r]),o=r.sub)),t.Push(t.itemFactory.create("subsup",r).setProperties({position:o,primes:s,movesupsub:n}))},Prime(t,e){let s=t.stack.Prev();if(s||(s=t.create("token","mi")),rb.isType(s,"msubsup")&&!rb.isType(s,"msup")&&rb.getChildAt(s,s.sup)||rb.isType(s,"munderover")&&!rb.isType(s,"mover")&&rb.getChildAt(s,s.over)&&!rb.getProperty(s,"subsupOK"))throw new gb("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");let r="";t.i--;do{r+=ea.prime,t.i++,e=t.GetNext()}while("'"===e||e===ea.rsquo);r=["","\u2032","\u2033","\u2034","\u2057"][r.length]||r;const i=t.create("token","mo",{variantForm:!0},r);t.Push(t.itemFactory.create("prime",s,i))},Comment(t,e){for(;t.i<t.string.length&&"\n"!==t.string.charAt(t.i);)t.i++},Hash(t,e){throw new gb("CantUseHash1","You can't use 'macro parameter character #' in math mode")},MathFont(t,e,s,r=""){const i=t.GetArgument(e),n=new yb(i,Object.assign(Object.assign({multiLetterIdentifiers:t.options.identifierPattern},t.stack.env),{font:s,italicFont:r,noAutoOP:!0}),t.configuration).mml();t.Push(t.create("node","TeXAtom",[n]))},SetFont(t,e,s){t.stack.env.font=s,t.Push(t.itemFactory.create("null"))},SetStyle(t,e,s,r,i){t.stack.env.style=s,t.stack.env.level=i,t.Push(t.itemFactory.create("style").setProperty("styles",{displaystyle:r,scriptlevel:i}))},SetSize(t,e,s){t.stack.env.size=s,t.Push(t.itemFactory.create("style").setProperty("styles",{mathsize:Yo(s)}))},Spacer(t,e,s){const r=t.create("node","mspace",[],{width:Yo(s)}),i=t.create("node","mstyle",[r],{scriptlevel:0});t.Push(i)},DiscretionaryTimes(t,e){t.Push(t.create("token","mo",{linebreakmultchar:"\xd7"},"\u2062"))},AllowBreak(t,e){t.Push(t.create("token","mspace"))},Break(t,e){t.Push(t.create("token","mspace",{linebreak:Eb.LineBreak.NEWLINE}))},Linebreak(t,e,s){let r=!0;const i=t.stack.Prev(!0);if(i&&i.isKind("mo")){rb.getMoAttribute(i,"linebreakstyle")!==Eb.LineBreakStyle.BEFORE&&(i.attributes.set("linebreak",s),r=!1)}t.Push(t.itemFactory.create("break",s,r))},LeftRight(t,e){const s=e.substring(1);t.Push(t.itemFactory.create(s,t.GetDelimiter(e),t.stack.env.color))},NamedFn(t,e,s){s||(s=e.substring(1));const r=t.create("token","mi",{texClass:Yi.OP},s);t.Push(t.itemFactory.create("fn",r))},NamedOp(t,e,s){s||(s=e.substring(1)),s=s.replace(/&thinsp;/,"\u2006");const r=t.create("token","mo",{movablelimits:!0,movesupsub:!0,form:Eb.Form.PREFIX,texClass:Yi.OP},s);t.Push(r)},Limits(t,e,s){let r=t.stack.Prev(!0);if(!r||rb.getTexClass(rb.getCoreMO(r))!==Yi.OP&&null==rb.getProperty(r,"movesupsub"))throw new gb("MisplacedLimits","%1 is allowed only on operators",t.currentCS);const i=t.stack.Top();let n;rb.isType(r,"munderover")&&!s?(n=t.create("node","msubsup"),rb.copyChildren(r,n),r=i.Last=n):rb.isType(r,"msubsup")&&s&&(n=t.create("node","munderover"),rb.copyChildren(r,n),r=i.Last=n),rb.setProperty(r,"movesupsub",!!s),rb.setProperties(rb.getCoreMO(r),{movablelimits:!1}),((rb.isType(r,"mo")?rb.getMoAttribute(r,"movableLimits"):rb.getAttribute(r,"movablelimits"))||rb.getProperty(r,"movablelimits"))&&rb.setProperties(r,{movablelimits:!1})},Over(t,e,s,r){const i=t.itemFactory.create("over").setProperty("name",t.currentCS);s||r?(i.setProperty("ldelim",s),i.setProperty("rdelim",r)):e.match(/withdelims$/)&&(i.setProperty("ldelim",t.GetDelimiter(e)),i.setProperty("rdelim",t.GetDelimiter(e))),e.match(/^\\above/)?i.setProperty("thickness",t.GetDimen(e)):(e.match(/^\\atop/)||s||r)&&i.setProperty("thickness",0),t.Push(i)},Frac(t,e){const s=t.ParseArg(e),r=t.ParseArg(e),i=t.create("node","mfrac",[s,r]);t.Push(i)},Sqrt(t,e){const s=t.GetBrackets(e);let r=t.GetArgument(e);"\\frac"===r&&(r+="{"+t.GetArgument(r)+"}{"+t.GetArgument(r)+"}");let i=new yb(r,t.stack.env,t.configuration).mml();i=s?t.create("node","mroot",[i,Bx(t,s)]):t.create("node","msqrt",[i]),t.Push(i)},Root(t,e){const s=t.GetUpTo(e,"\\of"),r=t.ParseArg(e),i=t.create("node","mroot",[r,Bx(t,s)]);t.Push(i)},MoveRoot(t,e,s){if(!t.stack.env.inRoot)throw new gb("MisplacedMoveRoot","%1 can appear only within a root",t.currentCS);if(t.stack.global[s])throw new gb("MultipleMoveRoot","Multiple use of %1",t.currentCS);let r=t.GetArgument(e);if(!r.match(/-?[0-9]+/))throw new gb("IntegerArg","The argument to %1 must be an integer",t.currentCS);r=parseInt(r,10)/15+"em","-"!==r.substring(0,1)&&(r="+"+r),t.stack.global[s]=r},Accent(t,e,s,r){const i=t.ParseArg(e),n=Object.assign(Object.assign({},Mb.getFontDef(t)),{accent:!0,mathaccent:void 0===r||r}),o=rb.createEntity(s),a=t.create("token","mo",n,o);rb.setAttribute(a,"stretchy",!!r);const c=rb.isEmbellished(i)?rb.getCoreMO(i):i;(rb.isType(c,"mo")||rb.getProperty(c,"movablelimits"))&&rb.setProperties(c,{movablelimits:!1});const l=t.create("node","munderover");rb.setChild(l,0,i),rb.setChild(l,1,null),rb.setChild(l,2,a);const h=t.create("node","TeXAtom",[l]);t.Push(h)},UnderOver(t,e,s,r){const i=rb.createEntity(s),n=t.create("token","mo",{stretchy:!0,accent:!0},i);i.match(Tn.mathaccentsWithWidth)&&n.setProperty("mathaccent",!1);const o="o"===e.charAt(1)?"over":"under",a=t.ParseArg(e);t.Push(Mb.underOver(t,a,n,o,r))},Overset(t,e){const s=t.ParseArg(e),r=t.ParseArg(e),i=s.coreMO(),n=i.isKind("mo")&&!0===rb.getMoAttribute(i,"accent");Mb.checkMovableLimits(r);const o=t.create("node","mover",[r,s],{accent:n});t.Push(o)},Underset(t,e){const s=t.ParseArg(e),r=t.ParseArg(e),i=s.coreMO(),n=i.isKind("mo")&&!0===rb.getMoAttribute(i,"accent");Mb.checkMovableLimits(r);const o=t.create("node","munder",[r,s],{accentunder:n});t.Push(o)},Overunderset(t,e){const s=t.ParseArg(e),r=t.ParseArg(e),i=t.ParseArg(e),n=s.coreMO(),o=r.coreMO(),a=n.isKind("mo")&&!0===rb.getMoAttribute(n,"accent"),c=o.isKind("mo")&&!0===rb.getMoAttribute(o,"accent");Mb.checkMovableLimits(i);const l=t.create("node","munderover",[i,r,s],{accent:a,accentunder:c});t.Push(l)},TeXAtom(t,e,s){const r={texClass:s};let i,n;if(s===Yi.OP){r.movesupsub=r.movablelimits=!0;const s=t.GetArgument(e),o=s.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);if(o)r.mathvariant=Eb.Variant.NORMAL,n=t.create("token","mi",r,o[1]);else{const e=new yb(s,t.stack.env,t.configuration).mml();n=t.create("node","TeXAtom",[e],r)}i=t.itemFactory.create("fn",n)}else i=t.create("node","TeXAtom",[t.ParseArg(e)],r);t.Push(i)},VBox(t,e,s){const r=new yb(t.GetArgument(e),t.stack.env,t.configuration),i={"data-vertical-align":s,texClass:Yi.ORD};r.stack.env.hsize&&(i.width=r.stack.env.hsize,i["data-overflow"]="linebreak");const n=t.create("node","mpadded",[r.mml()],i);n.setProperty("vbox",s),t.Push(n)},Hsize(t,e){"="===t.GetNext()&&t.i++,t.stack.env.hsize=t.GetDimen(e),t.Push(t.itemFactory.create("null"))},ParBox(t,e){const s=t.GetBrackets(e,"c"),r=t.GetDimen(e),i=Mb.internalMath(t,t.GetArgument(e)),n=Dx(s,1),o=t.create("node","mpadded",i,{width:r,"data-overflow":"linebreak","data-vertical-align":n});o.setProperty("vbox",n),t.Push(o)},BreakAlign(t,e){const s=t.stack.Top();if(!(s instanceof Mx))throw new gb("BreakNotInArray","%1 must be used in an alignment environment",t.currentCS);switch(t.GetArgument(e).trim()){case"c":if(s.First)throw new gb("BreakFirstInEntry","%1 must be at the beginning of an alignment entry",t.currentCS+"{c}");s.breakAlign.cell=Dx(t.GetArgument(e),1);break;case"r":if(s.row.length||s.First)throw new gb("BreakFirstInRow","%1 must be at the beginning of an alignment row",t.currentCS+"{r}");s.breakAlign.row=Dx(t.GetArgument(e));break;case"t":if(s.table.length||s.row.length||s.First)throw new gb("BreakFirstInTable","%1 must be at the beginning of an alignment",t.currentCS+"{t}");s.breakAlign.table=Dx(t.GetArgument(e));break;default:throw new gb("BreakType","First argument to %1 must be one of c, r, or t",t.currentCS)}},MmlToken(t,e){const s=t.GetArgument(e);let r=t.GetBrackets(e,"").replace(/^\s+/,"");const i=t.GetArgument(e),n={},o=[];let a;try{a=t.create("node",s)}catch(t){a=null}if(!a||!a.isToken)throw new gb("NotMathMLToken","%1 is not a token element",s);for(;""!==r;){const e=r.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!e)throw new gb("InvalidMathMLAttr","Invalid MathML attribute: %1",r);if(!a.attributes.hasDefault(e[1])&&!Px[e[1]])throw new gb("UnknownAttrForElement","%1 is not a recognized attribute for %2",e[1],s);let i=Mb.mmlFilterAttribute(t,e[1],e[2].replace(/^(['"])(.*)\1$/,"$2"));i&&("true"===i.toLowerCase()?i=!0:"false"===i.toLowerCase()&&(i=!1),n[e[1]]=i,o.push(e[1])),r=r.substring(e[0].length)}o.length&&(n["mjx-keep-attrs"]=o.join(" "));const c=t.create("text",kn(i));a.appendChild(c),rb.setProperties(a,n),t.Push(a)},Strut(t,e){const s=t.create("node","mrow"),r=t.create("node","mpadded",[s],{height:"8.6pt",depth:"3pt",width:0});t.Push(r)},Phantom(t,e,s,r){let i=t.create("node","mphantom",[t.ParseArg(e)]);(s||r)&&(i=t.create("node","mpadded",[i]),r&&(rb.setAttribute(i,"height",0),rb.setAttribute(i,"depth",0)),s&&rb.setAttribute(i,"width",0));const n=t.create("node","TeXAtom",[i]);t.Push(n)},Smash(t,e){const s=pb.trimSpaces(t.GetBrackets(e,"")),r=t.create("node","mpadded",[t.ParseArg(e)]);switch(s){case"b":rb.setAttribute(r,"depth",0);break;case"t":rb.setAttribute(r,"height",0);break;default:rb.setAttribute(r,"height",0),rb.setAttribute(r,"depth",0)}const i=t.create("node","TeXAtom",[r]);t.Push(i)},Lap(t,e){const s=t.create("node","mpadded",[t.ParseArg(e)],{width:0});"\\llap"===e&&rb.setAttribute(s,"lspace","-1width");const r=t.create("node","TeXAtom",[s]);t.Push(r)},RaiseLower(t,e){let s=t.GetDimen(e);const r=t.itemFactory.create("position").setProperties({name:t.currentCS,move:"vertical"});"-"===s.charAt(0)&&(s=s.slice(1),e="raise"===e.substring(1)?"\\lower":"\\raise"),"\\lower"===e?(r.setProperty("dh","-"+s),r.setProperty("dd","+"+s)):(r.setProperty("dh","+"+s),r.setProperty("dd","-"+s)),t.Push(r)},MoveLeftRight(t,e){let s=t.GetDimen(e),r="-"===s.charAt(0)?s.slice(1):"-"+s;if("\\moveleft"===e){const t=s;s=r,r=t}t.Push(t.itemFactory.create("position").setProperties({name:t.currentCS,move:"horizontal",left:t.create("node","mspace",[],{width:s}),right:t.create("node","mspace",[],{width:r})}))},Hskip(t,e,s=!1){const r=t.create("node","mspace",[],{width:t.GetDimen(e)});s&&rb.setAttribute(r,"linebreak","nobreak"),t.Push(r)},Nonscript(t,e){t.Push(t.itemFactory.create("nonscript"))},Rule(t,e,s){const r={width:t.GetDimen(e),height:t.GetDimen(e),depth:t.GetDimen(e)};"blank"!==s&&(r.mathbackground=t.stack.env.color||"black");const i=t.create("node","mspace",[],r);t.Push(i)},rule(t,e){const s=t.GetBrackets(e),r=t.GetDimen(e),i=t.GetDimen(e);let n=t.create("node","mspace",[],{width:r,height:i,mathbackground:t.stack.env.color||"black"});s&&(n=t.create("node","mpadded",[n],{voffset:s}),s.match(/^-/)?(rb.setAttribute(n,"height",s),rb.setAttribute(n,"depth","+"+s.substring(1))):rb.setAttribute(n,"height","+"+s)),t.Push(n)},MakeBig(t,e,s,r){const i=String(r*=Ox).replace(/(\.\d\d\d).+/,"$1")+"em",n=t.GetDelimiter(e,!0),o=t.create("token","mo",{minsize:i,maxsize:i,fence:!0,stretchy:!0,symmetric:!0},n),a=t.create("node","TeXAtom",[o],{texClass:s});t.Push(a)},BuildRel(t,e){const s=t.ParseUpTo(e,"\\over"),r=t.ParseArg(e),i=t.create("node","munderover");rb.setChild(i,0,r),rb.setChild(i,1,null),rb.setChild(i,2,s);const n=t.create("node","TeXAtom",[i],{texClass:Yi.REL});t.Push(n)},HBox(t,e,s,r){t.PushAll(Mb.internalMath(t,t.GetArgument(e),s,r))},FBox(t,e){const s=Mb.internalMath(t,t.GetArgument(e)),r=t.create("node","menclose",s,{notation:"box"});t.Push(r)},FrameBox(t,e){const s=t.GetBrackets(e),r=t.GetBrackets(e)||"c";let i=Mb.internalMath(t,t.GetArgument(e));s&&(i=[t.create("node","mpadded",i,{width:s,"data-align":vi(r,{l:"left",r:"right"},"center")})]);const n=t.create("node","TeXAtom",[t.create("node","menclose",i,{notation:"box"})],{texClass:Yi.ORD});t.Push(n)},MakeBox(t,e){const s=t.GetBrackets(e),r=t.GetBrackets(e,"c"),i=t.create("node","mpadded",Mb.internalMath(t,t.GetArgument(e)));s&&rb.setAttribute(i,"width",s);const n=vi(r.toLowerCase(),{c:"center",r:"right"},"");n&&rb.setAttribute(i,"data-align",n),r.toLowerCase()!==r&&rb.setAttribute(i,"data-overflow","linebreak"),t.Push(i)},Not(t,e){t.Push(t.itemFactory.create("not"))},Dots(t,e){const s=rb.createEntity("2026"),r=rb.createEntity("22EF"),i=t.create("token","mo",{stretchy:!1},s),n=t.create("token","mo",{stretchy:!1},r);t.Push(t.itemFactory.create("dots").setProperties({ldots:i,cdots:n}))},Matrix(t,e,s,r,i,n,o,a,c,l){const h=t.GetNext();if(""===h)throw new gb("MissingArgFor","Missing argument for %1",t.currentCS);"{"===h?t.i++:(t.string=h+"}"+t.string.slice(t.i+1),t.i=0);const d=t.itemFactory.create("array").setProperty("requireClose",!0);!s&&i||d.setProperty("arrayPadding",".2em .125em"),d.arraydef={rowspacing:o||"4pt",columnspacing:n||"1em"},c&&d.setProperty("isCases",!0),l&&(d.setProperty("isNumbered",!0),d.arraydef.side=l),(s||r)&&(d.setProperty("open",s),d.setProperty("close",r)),"D"===a&&(d.arraydef.displaystyle=!0),null!=i&&(d.arraydef.columnalign=i),t.Push(d)},Entry(t,e){t.Push(t.itemFactory.create("cell").setProperties({isEntry:!0,name:e}));const s=t.stack.Top(),r=s.getProperty("casesEnv");if(!s.getProperty("isCases")&&!r)return;const i=t.string;let n=0,o=-1,a=t.i,c=i.length;const l=r?new RegExp(`^\\\\end\\s*\\{${r.replace(/\*/,"\\*")}\\}`):null;for(;a<c;){const e=i.charAt(a);if("{"===e)n++,a++;else if("}"===e)0===n?c=0:(n--,0===n&&o<0&&(o=a-t.i),a++);else{if("&"===e&&0===n)throw new gb("ExtraAlignTab","Extra alignment tab in \\cases text");if("\\"===e){const t=i.substring(a);t.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||l&&t.match(l)?c=0:a+=2}else a++}}const h=i.substring(t.i,a);if(!h.match(/^\s*\\text[^a-zA-Z]/)||o!==h.replace(/\s+$/,"").length-1){const e=Mb.internalMath(t,pb.trimSpaces(h),0);t.PushAll(e),t.i=a}},Cr(t,e){t.Push(t.itemFactory.create("cell").setProperties({isCR:!0,name:e}))},CrLaTeX(t,e,s=!1){let r;if(!s&&("*"===t.string.charAt(t.i)&&t.i++,"["===t.string.charAt(t.i))){const s=t.GetBrackets(e,""),[i,n]=pb.matchDimen(s);if(s&&!i)throw new gb("BracketMustBeDimension","Bracket argument to %1 must be a dimension",t.currentCS);r=i+n}t.Push(t.itemFactory.create("cell").setProperties({isCR:!0,name:e,linebreak:!0}));const i=t.stack.Top();let n;i instanceof Mx?r&&i.addRowSpacing(r):(n=t.create("node","mspace",[],{linebreak:Eb.LineBreak.NEWLINE}),r&&rb.setAttribute(n,"data-lineleading",r),t.Push(n))},HLine(t,e,s){null==s&&(s="solid");const r=t.stack.Top();if(!(r instanceof Mx)||r.Size())throw new gb("Misplaced","Misplaced %1",t.currentCS);if(r.table.length){const t=r.arraydef.rowlines?r.arraydef.rowlines.split(/ /):[];for(;t.length<r.table.length;)t.push("none");t[r.table.length-1]=s,r.arraydef.rowlines=t.join(" ")}else r.frame.push(["top",s])},HFill(t,e){const s=t.stack.Top();if(!(s instanceof Mx))throw new gb("UnsupportedHFill","Unsupported use of %1",t.currentCS);s.hfill.push(s.Size())},NewColumnType(t,e){const s=t.GetArgument(e),r=t.GetBrackets(e,"0"),i=t.GetArgument(e);if(1!==s.length)throw new gb("BadColumnName","Column specifier must be exactly one character: %1",s);if(!r.match(/^\d+$/))throw new gb("PositiveIntegerArg","Argument to %1 must be a positive integer",r);const n=t.configuration.columnParser;n.columnHandler[s]=t=>n.macroColumn(t,i,parseInt(r)),t.Push(t.itemFactory.create("null"))},BeginEnd(t,e){const s=t.GetArgument(e);if(s.match(/\\/))throw new gb("InvalidEnv","Invalid environment name '%1'",s);const r=t.configuration.handlers.get(db.ENVIRONMENT).lookup(s);if(r&&"\\end"===e){if(!r.args[0]){const e=t.itemFactory.create("end").setProperty("name",s);return void t.Push(e)}t.stack.env.closing=s}Mb.checkMaxMacros(t,!1),t.parse(db.ENVIRONMENT,[t,s])},Array(t,e,s,r,i,n,o,a,c){i||(i=t.GetArgument("\\begin{"+e.getName()+"}"));const l=t.itemFactory.create("array");return"array"===e.getName()&&l.setProperty("arrayPadding",".5em .125em"),l.parser=t,l.arraydef={columnspacing:n||"1em",rowspacing:o||"4pt"},t.configuration.columnParser.process(t,i,l),s&&l.setProperty("open",t.convertDelimiter(s)),r&&l.setProperty("close",t.convertDelimiter(r)),"'"===(a||"").charAt(1)&&(l.arraydef["data-cramped"]=!0,a=a.charAt(0)),"D"===a?l.arraydef.displaystyle=!0:a&&(l.arraydef.displaystyle=!1),l.arraydef.scriptlevel="S"===a?1:0,c&&(l.arraydef.useHeight=!1),t.Push(e),l.StartEntry(),l},AlignedArray(t,e,s=""){const r=t.GetBrackets("\\begin{"+e.getName()+"}"),i=Fx.Array(t,e,null,null,null,null,null,s);return Mb.setArrayAlign(i,r)},IndentAlign(t,e){const s=`\\begin{${e.getName()}}`,r=t.GetBrackets(s,""),i=t.GetBrackets(s,""),n=t.GetBrackets(s,"");if(r&&!pb.matchDimen(r)[0]||i&&!pb.matchDimen(i)[0]||n&&!pb.matchDimen(n)[0])throw new gb("BracketMustBeDimension","Bracket argument to %1 must be a dimension",s);const o=t.GetArgument(s);if(o&&!o.match(/^([lcr]{1,3})?$/))throw new gb("BadAlignment","Alignment must be one to three copies of l, c, or r");const a=[...o].map(t=>({l:"left",c:"center",r:"right"}[t]));1===a.length&&a.push(a[0]);const c={};for(const[t,e]of[["indentshiftfirst",r],["indentshift",i||r],["indentshiftlast",n],["indentalignfirst",a[0]],["indentalign",a[1]],["indentalignlast",a[2]]])e&&(c[t]=e);t.Push(t.itemFactory.create("mstyle",c,e.getName()))},Equation:(t,e,s,r=!0)=>(t.configuration.mathItem.display=r,t.stack.env.display=r,Mb.checkEqnEnv(t),t.Push(e),t.itemFactory.create("equation",s).setProperty("name",e.getName())),EqnArray(t,e,s,r,i,n,o){const a=e.getName(),c="gather"===a||"gather*"===a;r&&Mb.checkEqnEnv(t,!c),t.Push(e),i=(i=i.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center"),n=Dx(n);const l=t.itemFactory.create("eqnarray",a,s,r,t.stack.global);return l.arraydef={displaystyle:!0,columnalign:i,columnspacing:o||"1em",rowspacing:"3pt","data-break-align":n,side:t.options.tagSide,minlabelspacing:t.options.tagIndent},c&&l.setProperty("nestable",!0),l},HandleNoTag(t,e){t.tags.notag()},HandleLabel(t,e){const s=t.GetArgument(e);if(""!==s&&!t.tags.refUpdate){if(t.tags.label)throw new gb("MultipleCommand","Multiple %1",t.currentCS);if(t.tags.label=s,(t.tags.allLabels[s]||t.tags.labels[s])&&!t.options.ignoreDuplicateLabels)throw new gb("MultipleLabel","Label '%1' multiply defined",s);t.tags.labels[s]=new Ob}},HandleRef(t,e,s){const r=t.GetArgument(e);let i=t.tags.allLabels[r]||t.tags.labels[r];i||(t.tags.refUpdate||(t.tags.redo=!0),i=new Ob);let n=i.tag;s&&(n=t.tags.formatRef(n));const o=t.create("node","mrow",Mb.internalMath(t,n),{href:t.tags.formatUrl(i.id,t.options.baseURL),class:"MathJax_ref"});t.Push(o)},Macro(t,e,s,r,i){if(r){const n=[];if(null!=i){const s=t.GetBrackets(e);n.push(null==s?i:s)}for(let s=n.length;s<r;s++)n.push(t.GetArgument(e));s=Mb.substituteArgs(t,n,s)}t.string=Mb.addArgs(t,s,t.string.slice(t.i)),t.i=0,Mb.checkMaxMacros(t)},MathChoice(t,e){const s=t.ParseArg(e),r=t.ParseArg(e),i=t.ParseArg(e),n=t.ParseArg(e);t.Push(t.create("node","MathChoice",[s,r,i,n]))}},qx=Fx,jx=Eb.Variant,Ux={variable(t,e){var s;const r=Mb.getFontDef(t),i=t.stack.env;if(i.multiLetterIdentifiers&&""!==i.font&&(e=(null===(s=t.string.substring(t.i-1).match(i.multiLetterIdentifiers))||void 0===s?void 0:s[0])||e,t.i+=e.length-1,r.mathvariant===jx.NORMAL&&i.noAutoOP&&e.length>1&&(r.autoOP=!1)),!r.mathvariant&&Mb.isLatinOrGreekChar(e)){const s=t.configuration.mathStyle(e);s&&(r.mathvariant=s)}const n=t.create("token","mi",r,e);t.Push(n)},digit(t,e){const s=t.configuration.options.numberPattern,r=t.string.slice(t.i-1).match(s),i=Mb.getFontDef(t);if(!r)return!1;const n=t.create("token","mn",i,r[0].replace(/[{}]/g,""));return t.i+=r[0].length-1,t.Push(n),!0},controlSequence(t,e){const s=t.GetCS();t.parse(db.MACRO,[t,s])},lcGreek(t,e){const s={mathvariant:t.configuration.mathStyle(e.char)||jx.ITALIC},r=t.create("token","mi",s,e.char);t.Push(r)},ucGreek(t,e){const s={mathvariant:t.stack.env.font||t.configuration.mathStyle(e.char,!0)||jx.NORMAL},r=t.create("token","mi",s,e.char);t.Push(r)},mathchar0mi(t,e){const s=e.attributes||{mathvariant:jx.ITALIC},r=t.create("token","mi",s,e.char);t.Push(r)},mathchar0mo(t,e){const s=e.attributes||{};s.stretchy=!1;const r=t.create("token","mo",s,e.char);rb.setProperty(r,"fixStretchy",!0),t.configuration.addNode("fixStretchy",r),t.Push(r)},mathchar7(t,e){const s=e.attributes||{mathvariant:jx.NORMAL};t.stack.env.font&&(s.mathvariant=t.stack.env.font);const r=t.create("token","mi",s,e.char);t.Push(r)},delimiter(t,e){let s=e.attributes||{};s=Object.assign({fence:!1,stretchy:!1},s);const r=t.create("token","mo",s,e.char);t.Push(r)},environment(t,e,s,r){const i=t.itemFactory.create("begin").setProperty("name",e);t.Push(s(t,i,...r.slice(1)))}},Hx=Ux,Gx=Yo($o.thickmathspace),zx=Eb.Variant;new Vb("letter",Hx.variable,/[a-z]/i),new Vb("digit",Hx.digit,/[0-9.,]/),new Vb("command",Hx.controlSequence,/^\\/),new Kb("special",{"{":qx.Open,"}":qx.Close,"~":qx.Tilde,"^":qx.Superscript,_:qx.Subscript,"|":qx.Bar," ":qx.Space,"\t":qx.Space,"\r":qx.Space,"\n":qx.Space,"'":qx.Prime,"%":qx.Comment,"&":qx.Entry,"#":qx.Hash,"\xa0":qx.Space,"\u2019":qx.Prime}),new $b("lcGreek",Hx.lcGreek,{alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03f5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03d5",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",varepsilon:"\u03b5",vartheta:"\u03d1",varpi:"\u03d6",varrho:"\u03f1",varsigma:"\u03c2",varphi:"\u03c6"}),new $b("ucGreek",Hx.ucGreek,{Gamma:"\u0393",Delta:"\u0394",Theta:"\u0398",Lambda:"\u039b",Xi:"\u039e",Pi:"\u03a0",Sigma:"\u03a3",Upsilon:"\u03a5",Phi:"\u03a6",Psi:"\u03a8",Omega:"\u03a9"}),new $b("mathchar0mi",Hx.mathchar0mi,{AA:"\u212b",S:["\xa7",{mathvariant:zx.NORMAL}],aleph:["\u2135",{mathvariant:zx.NORMAL}],hbar:["\u210f",{variantForm:!0}],imath:"\u0131",jmath:"\u0237",ell:"\u2113",wp:["\u2118",{mathvariant:zx.NORMAL}],Re:["\u211c",{mathvariant:zx.NORMAL}],Im:["\u2111",{mathvariant:zx.NORMAL}],partial:["\u2202",{mathvariant:zx.ITALIC}],infty:["\u221e",{mathvariant:zx.NORMAL}],prime:["\u2032",{variantForm:!0}],emptyset:["\u2205",{mathvariant:zx.NORMAL}],nabla:["\u2207",{mathvariant:zx.NORMAL}],top:["\u22a4",{mathvariant:zx.NORMAL}],bot:["\u22a5",{mathvariant:zx.NORMAL}],angle:["\u2220",{mathvariant:zx.NORMAL}],triangle:["\u25b3",{mathvariant:zx.NORMAL}],backslash:["\\",{mathvariant:zx.NORMAL}],forall:["\u2200",{mathvariant:zx.NORMAL}],exists:["\u2203",{mathvariant:zx.NORMAL}],neg:["\xac",{mathvariant:zx.NORMAL}],lnot:["\xac",{mathvariant:zx.NORMAL}],flat:["\u266d",{mathvariant:zx.NORMAL}],natural:["\u266e",{mathvariant:zx.NORMAL}],sharp:["\u266f",{mathvariant:zx.NORMAL}],clubsuit:["\u2663",{mathvariant:zx.NORMAL}],diamondsuit:["\u2662",{mathvariant:zx.NORMAL}],heartsuit:["\u2661",{mathvariant:zx.NORMAL}],spadesuit:["\u2660",{mathvariant:zx.NORMAL}]}),new $b("mathchar0mo",Hx.mathchar0mo,{surd:"\u221a",coprod:["\u2210",{movesupsub:!0}],bigvee:["\u22c1",{movesupsub:!0}],bigwedge:["\u22c0",{movesupsub:!0}],biguplus:["\u2a04",{movesupsub:!0}],bigcap:["\u22c2",{movesupsub:!0}],bigcup:["\u22c3",{movesupsub:!0}],int:"\u222b",intop:["\u222b",{movesupsub:!0,movablelimits:!0}],iint:"\u222c",iiint:"\u222d",prod:["\u220f",{movesupsub:!0}],sum:["\u2211",{movesupsub:!0}],bigotimes:["\u2a02",{movesupsub:!0}],bigoplus:["\u2a01",{movesupsub:!0}],bigodot:["\u2a00",{movesupsub:!0}],oint:"\u222e",ointop:["\u222e",{movesupsub:!0,movablelimits:!0}],oiint:"\u222f",oiiint:"\u2230",bigsqcup:["\u2a06",{movesupsub:!0}],smallint:["\u222b",{largeop:!1}],triangleleft:"\u25c3",triangleright:"\u25b9",bigtriangleup:"\u25b3",bigtriangledown:"\u25bd",wedge:"\u2227",land:"\u2227",vee:"\u2228",lor:"\u2228",cap:"\u2229",cup:"\u222a",ddagger:"\u2021",dagger:"\u2020",sqcap:"\u2293",sqcup:"\u2294",uplus:"\u228e",amalg:"\u2a3f",diamond:"\u22c4",bullet:"\u2219",wr:"\u2240",div:"\xf7",odot:["\u2299",{largeop:!1}],oslash:["\u2298",{largeop:!1}],otimes:["\u2297",{largeop:!1}],ominus:["\u2296",{largeop:!1}],oplus:["\u2295",{largeop:!1}],mp:"\u2213",pm:"\xb1",circ:"\u2218",bigcirc:"\u25ef",setminus:"\u2216",cdot:"\u22c5",ast:"\u2217",times:"\xd7",star:"\u22c6",propto:"\u221d",sqsubseteq:"\u2291",sqsupseteq:"\u2292",parallel:"\u2225",mid:"\u2223",dashv:"\u22a3",vdash:"\u22a2",leq:"\u2264",le:"\u2264",geq:"\u2265",ge:"\u2265",lt:"<",gt:">",succ:"\u227b",prec:"\u227a",approx:"\u2248",succeq:"\u2ab0",preceq:"\u2aaf",supset:"\u2283",subset:"\u2282",supseteq:"\u2287",subseteq:"\u2286",in:"\u2208",ni:"\u220b",notin:"\u2209",owns:"\u220b",gg:"\u226b",ll:"\u226a",sim:"\u223c",simeq:"\u2243",perp:"\u27c2",equiv:"\u2261",asymp:"\u224d",smile:"\u2323",frown:"\u2322",ne:"\u2260",neq:"\u2260",cong:"\u2245",doteq:"\u2250",bowtie:"\u22c8",models:"\u22a7",notChar:"\u29f8",Leftrightarrow:"\u21d4",Leftarrow:"\u21d0",Rightarrow:"\u21d2",leftrightarrow:"\u2194",leftarrow:"\u2190",gets:"\u2190",rightarrow:"\u2192",to:["\u2192",{accent:!1}],mapsto:"\u21a6",leftharpoonup:"\u21bc",leftharpoondown:"\u21bd",rightharpoonup:"\u21c0",rightharpoondown:"\u21c1",nearrow:"\u2197",searrow:"\u2198",nwarrow:"\u2196",swarrow:"\u2199",rightleftharpoons:"\u21cc",hookrightarrow:"\u21aa",hookleftarrow:"\u21a9",longleftarrow:"\u27f5",Longleftarrow:"\u27f8",longrightarrow:"\u27f6",Longrightarrow:"\u27f9",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",ldots:"\u2026",cdots:"\u22ef",vdots:"\u22ee",ddots:"\u22f1",iddots:"\u22f0",dotsc:"\u2026",dotsb:"\u22ef",dotsm:"\u22ef",dotsi:"\u22ef",dotso:"\u2026",ldotp:[".",{texClass:Yi.PUNCT}],cdotp:["\u22c5",{texClass:Yi.PUNCT}],colon:[":",{texClass:Yi.PUNCT}]}),new $b("mathchar7",Hx.mathchar7,{_:"_","#":"#",$:"$","%":"%","&":"&",And:"&"}),new Jb("delimiter",Hx.delimiter,{"(":"(",")":")","[":"[","]":"]","<":"\u27e8",">":"\u27e9","\\lt":"\u27e8","\\gt":"\u27e9","/":"/","|":["|",{texClass:Yi.ORD}],".":"","\\lmoustache":"\u23b0","\\rmoustache":"\u23b1","\\lgroup":"\u27ee","\\rgroup":"\u27ef","\\arrowvert":"\u23d0","\\Arrowvert":"\u2016","\\bracevert":"\u23aa","\\Vert":["\u2016",{texClass:Yi.ORD}],"\\|":["\u2016",{texClass:Yi.ORD}],"\\vert":["|",{texClass:Yi.ORD}],"\\uparrow":"\u2191","\\downarrow":"\u2193","\\updownarrow":"\u2195","\\Uparrow":"\u21d1","\\Downarrow":"\u21d3","\\Updownarrow":"\u21d5","\\backslash":"\\","\\rangle":"\u27e9","\\langle":"\u27e8","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"\u2309","\\lceil":"\u2308","\\rfloor":"\u230b","\\lfloor":"\u230a","\\lbrack":"[","\\rbrack":"]"}),new Yb("macros",{displaystyle:[qx.SetStyle,"D",!0,0],textstyle:[qx.SetStyle,"T",!1,0],scriptstyle:[qx.SetStyle,"S",!1,1],scriptscriptstyle:[qx.SetStyle,"SS",!1,2],rm:[qx.SetFont,zx.NORMAL],mit:[qx.SetFont,zx.ITALIC],oldstyle:[qx.SetFont,zx.OLDSTYLE],cal:[qx.SetFont,zx.CALLIGRAPHIC],it:[qx.SetFont,zx.MATHITALIC],bf:[qx.SetFont,zx.BOLD],sf:[qx.SetFont,zx.SANSSERIF],tt:[qx.SetFont,zx.MONOSPACE],frak:[qx.MathFont,zx.FRAKTUR],Bbb:[qx.MathFont,zx.DOUBLESTRUCK],mathrm:[qx.MathFont,zx.NORMAL],mathup:[qx.MathFont,zx.NORMAL],mathnormal:[qx.MathFont,""],mathbf:[qx.MathFont,zx.BOLD],mathbfup:[qx.MathFont,zx.BOLD],mathit:[qx.MathFont,zx.MATHITALIC],mathbfit:[qx.MathFont,zx.BOLDITALIC],mathbb:[qx.MathFont,zx.DOUBLESTRUCK],mathfrak:[qx.MathFont,zx.FRAKTUR],mathbffrak:[qx.MathFont,zx.BOLDFRAKTUR],mathscr:[qx.MathFont,zx.SCRIPT],mathbfscr:[qx.MathFont,zx.BOLDSCRIPT],mathsf:[qx.MathFont,zx.SANSSERIF],mathsfup:[qx.MathFont,zx.SANSSERIF],mathbfsf:[qx.MathFont,zx.BOLDSANSSERIF],mathbfsfup:[qx.MathFont,zx.BOLDSANSSERIF],mathsfit:[qx.MathFont,zx.SANSSERIFITALIC],mathbfsfit:[qx.MathFont,zx.SANSSERIFBOLDITALIC],mathtt:[qx.MathFont,zx.MONOSPACE],mathcal:[qx.MathFont,zx.CALLIGRAPHIC],mathbfcal:[qx.MathFont,zx.BOLDCALLIGRAPHIC],symrm:[qx.MathFont,zx.NORMAL],symup:[qx.MathFont,zx.NORMAL],symnormal:[qx.MathFont,""],symbf:[qx.MathFont,zx.BOLD,zx.BOLDITALIC],symbfup:[qx.MathFont,zx.BOLD],symit:[qx.MathFont,zx.ITALIC],symbfit:[qx.MathFont,zx.BOLDITALIC],symbb:[qx.MathFont,zx.DOUBLESTRUCK],symfrak:[qx.MathFont,zx.FRAKTUR],symbffrak:[qx.MathFont,zx.BOLDFRAKTUR],symscr:[qx.MathFont,zx.SCRIPT],symbfscr:[qx.MathFont,zx.BOLDSCRIPT],symsf:[qx.MathFont,zx.SANSSERIF,zx.SANSSERIFITALIC],symsfup:[qx.MathFont,zx.SANSSERIF],symbfsf:[qx.MathFont,zx.BOLDSANSSERIF],symbfsfup:[qx.MathFont,zx.BOLDSANSSERIF],symsfit:[qx.MathFont,zx.SANSSERIFITALIC],symbfsfit:[qx.MathFont,zx.SANSSERIFBOLDITALIC],symtt:[qx.MathFont,zx.MONOSPACE],symcal:[qx.MathFont,zx.CALLIGRAPHIC],symbfcal:[qx.MathFont,zx.BOLDCALLIGRAPHIC],textrm:[qx.HBox,null,zx.NORMAL],textup:[qx.HBox,null,zx.NORMAL],textnormal:[qx.HBox],textit:[qx.HBox,null,zx.ITALIC],textbf:[qx.HBox,null,zx.BOLD],textsf:[qx.HBox,null,zx.SANSSERIF],texttt:[qx.HBox,null,zx.MONOSPACE],tiny:[qx.SetSize,.5],Tiny:[qx.SetSize,.6],scriptsize:[qx.SetSize,.7],small:[qx.SetSize,.85],normalsize:[qx.SetSize,1],large:[qx.SetSize,1.2],Large:[qx.SetSize,1.44],LARGE:[qx.SetSize,1.73],huge:[qx.SetSize,2.07],Huge:[qx.SetSize,2.49],arcsin:qx.NamedFn,arccos:qx.NamedFn,arctan:qx.NamedFn,arg:qx.NamedFn,cos:qx.NamedFn,cosh:qx.NamedFn,cot:qx.NamedFn,coth:qx.NamedFn,csc:qx.NamedFn,deg:qx.NamedFn,det:qx.NamedOp,dim:qx.NamedFn,exp:qx.NamedFn,gcd:qx.NamedOp,hom:qx.NamedFn,inf:qx.NamedOp,ker:qx.NamedFn,lg:qx.NamedFn,lim:qx.NamedOp,liminf:[qx.NamedOp,"lim&thinsp;inf"],limsup:[qx.NamedOp,"lim&thinsp;sup"],ln:qx.NamedFn,log:qx.NamedFn,max:qx.NamedOp,min:qx.NamedOp,Pr:qx.NamedOp,sec:qx.NamedFn,sin:qx.NamedFn,sinh:qx.NamedFn,sup:qx.NamedOp,tan:qx.NamedFn,tanh:qx.NamedFn,limits:[qx.Limits,!0],nolimits:[qx.Limits,!1],overline:[qx.UnderOver,"2015"],underline:[qx.UnderOver,"2015"],overbrace:[qx.UnderOver,"23DE",!0],underbrace:[qx.UnderOver,"23DF",!0],overparen:[qx.UnderOver,"23DC"],underparen:[qx.UnderOver,"23DD"],overrightarrow:[qx.UnderOver,"2192"],underrightarrow:[qx.UnderOver,"2192"],overleftarrow:[qx.UnderOver,"2190"],underleftarrow:[qx.UnderOver,"2190"],overleftrightarrow:[qx.UnderOver,"2194"],underleftrightarrow:[qx.UnderOver,"2194"],overset:qx.Overset,underset:qx.Underset,overunderset:qx.Overunderset,stackrel:[qx.Macro,"\\mathrel{\\mathop{#2}\\limits^{#1}}",2],stackbin:[qx.Macro,"\\mathbin{\\mathop{#2}\\limits^{#1}}",2],over:qx.Over,overwithdelims:qx.Over,atop:qx.Over,atopwithdelims:qx.Over,above:qx.Over,abovewithdelims:qx.Over,brace:[qx.Over,"{","}"],brack:[qx.Over,"[","]"],choose:[qx.Over,"(",")"],frac:qx.Frac,sqrt:qx.Sqrt,root:qx.Root,uproot:[qx.MoveRoot,"upRoot"],leftroot:[qx.MoveRoot,"leftRoot"],left:qx.LeftRight,right:qx.LeftRight,middle:qx.LeftRight,llap:qx.Lap,rlap:qx.Lap,raise:qx.RaiseLower,lower:qx.RaiseLower,moveleft:qx.MoveLeftRight,moveright:qx.MoveLeftRight,",":[qx.Spacer,$o.thinmathspace],":":[qx.Spacer,$o.mediummathspace],">":[qx.Spacer,$o.mediummathspace],";":[qx.Spacer,$o.thickmathspace],"!":[qx.Spacer,$o.negativethinmathspace],enspace:[qx.Spacer,.5],quad:[qx.Spacer,1],qquad:[qx.Spacer,2],thinspace:[qx.Spacer,$o.thinmathspace],negthinspace:[qx.Spacer,$o.negativethinmathspace],"*":qx.DiscretionaryTimes,allowbreak:qx.AllowBreak,goodbreak:[qx.Linebreak,Eb.LineBreak.GOODBREAK],badbreak:[qx.Linebreak,Eb.LineBreak.BADBREAK],nobreak:[qx.Linebreak,Eb.LineBreak.NOBREAK],break:qx.Break,hskip:qx.Hskip,hspace:qx.Hskip,kern:[qx.Hskip,!0],mskip:qx.Hskip,mspace:qx.Hskip,mkern:[qx.Hskip,!0],rule:qx.rule,Rule:[qx.Rule],Space:[qx.Rule,"blank"],nonscript:qx.Nonscript,big:[qx.MakeBig,Yi.ORD,.85],Big:[qx.MakeBig,Yi.ORD,1.15],bigg:[qx.MakeBig,Yi.ORD,1.45],Bigg:[qx.MakeBig,Yi.ORD,1.75],bigl:[qx.MakeBig,Yi.OPEN,.85],Bigl:[qx.MakeBig,Yi.OPEN,1.15],biggl:[qx.MakeBig,Yi.OPEN,1.45],Biggl:[qx.MakeBig,Yi.OPEN,1.75],bigr:[qx.MakeBig,Yi.CLOSE,.85],Bigr:[qx.MakeBig,Yi.CLOSE,1.15],biggr:[qx.MakeBig,Yi.CLOSE,1.45],Biggr:[qx.MakeBig,Yi.CLOSE,1.75],bigm:[qx.MakeBig,Yi.REL,.85],Bigm:[qx.MakeBig,Yi.REL,1.15],biggm:[qx.MakeBig,Yi.REL,1.45],Biggm:[qx.MakeBig,Yi.REL,1.75],mathord:[qx.TeXAtom,Yi.ORD],mathop:[qx.TeXAtom,Yi.OP],mathopen:[qx.TeXAtom,Yi.OPEN],mathclose:[qx.TeXAtom,Yi.CLOSE],mathbin:[qx.TeXAtom,Yi.BIN],mathrel:[qx.TeXAtom,Yi.REL],mathpunct:[qx.TeXAtom,Yi.PUNCT],mathinner:[qx.TeXAtom,Yi.INNER],vtop:[qx.VBox,"top"],vcenter:[qx.VBox,"center"],vbox:[qx.VBox,"bottom"],hsize:qx.Hsize,parbox:qx.ParBox,breakAlign:qx.BreakAlign,buildrel:qx.BuildRel,hbox:[qx.HBox,0],text:qx.HBox,mbox:[qx.HBox,0],fbox:qx.FBox,boxed:[qx.Macro,"\\fbox{$\\displaystyle{#1}$}",1],framebox:qx.FrameBox,makebox:qx.MakeBox,strut:qx.Strut,mathstrut:[qx.Macro,"\\vphantom{(}"],phantom:qx.Phantom,vphantom:[qx.Phantom,1,0],hphantom:[qx.Phantom,0,1],smash:qx.Smash,acute:[qx.Accent,"00B4"],grave:[qx.Accent,"0060"],ddot:[qx.Accent,"00A8"],dddot:[qx.Accent,"20DB"],ddddot:[qx.Accent,"20DC"],tilde:[qx.Accent,"007E"],bar:[qx.Accent,"00AF"],breve:[qx.Accent,"02D8"],check:[qx.Accent,"02C7"],hat:[qx.Accent,"005E"],vec:[qx.Accent,"2192",!1],dot:[qx.Accent,"02D9"],widetilde:[qx.Accent,"007E",!0],widehat:[qx.Accent,"005E",!0],matrix:qx.Matrix,array:qx.Matrix,pmatrix:[qx.Matrix,"(",")"],cases:[qx.Matrix,"{","","left left",null,".2em",null,!0],eqalign:[qx.Matrix,null,null,"right left",Gx,".5em","D"],displaylines:[qx.Matrix,null,null,"center",null,".5em","D"],cr:qx.Cr,"\\":qx.CrLaTeX,newline:[qx.CrLaTeX,!0],hline:qx.HLine,hdashline:[qx.HLine,"dashed"],eqalignno:[qx.Matrix,null,null,"right left",Gx,".5em","D",null,"right"],leqalignno:[qx.Matrix,null,null,"right left",Gx,".5em","D",null,"left"],hfill:qx.HFill,hfil:qx.HFill,hfilll:qx.HFill,bmod:[qx.Macro,'\\mmlToken{mo}[lspace="'+Gx+'" rspace="'+Gx+'"]{mod}'],pmod:[qx.Macro,"\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:[qx.Macro,"\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:[qx.Macro,"\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:[qx.Macro,"\\;\\Longleftrightarrow\\;"],skew:[qx.Macro,"{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],pmb:[qx.Macro,"\\rlap{#1}\\kern1px{#1}",1],TeX:[qx.Macro,"T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:[qx.Macro,"L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"],not:qx.Not,dots:qx.Dots,space:qx.Tilde,"\xa0":qx.Tilde," ":qx.Tilde,begin:qx.BeginEnd,end:qx.BeginEnd,label:qx.HandleLabel,ref:qx.HandleRef,nonumber:qx.HandleNoTag,newcolumntype:qx.NewColumnType,mathchoice:qx.MathChoice,mmlToken:qx.MmlToken}),new Qb("environment",Hx.environment,{displaymath:[qx.Equation,null,!1],math:[qx.Equation,null,!1,!1],array:[qx.AlignedArray],darray:[qx.AlignedArray,null,"D"],equation:[qx.Equation,null,!0],eqnarray:[qx.EqnArray,null,!0,!0,"rcl","bmt",Mb.cols(0,$o.thickmathspace),".5em"],indentalign:[qx.IndentAlign]}),new $b("not_remap",null,{"\u2190":"\u219a","\u2192":"\u219b","\u2194":"\u21ae","\u21d0":"\u21cd","\u21d2":"\u21cf","\u21d4":"\u21ce","\u2208":"\u2209","\u220b":"\u220c","\u2223":"\u2224","\u2225":"\u2226","\u223c":"\u2241","~":"\u2241","\u2243":"\u2244","\u2245":"\u2247","\u2248":"\u2249","\u224d":"\u226d","=":"\u2260","\u2261":"\u2262","<":"\u226e",">":"\u226f","\u2264":"\u2270","\u2265":"\u2271","\u2272":"\u2274","\u2273":"\u2275","\u2276":"\u2278","\u2277":"\u2279","\u227a":"\u2280","\u227b":"\u2281","\u2282":"\u2284","\u2283":"\u2285","\u2286":"\u2288","\u2287":"\u2289","\u22a2":"\u22ac","\u22a8":"\u22ad","\u22a9":"\u22ae","\u22ab":"\u22af","\u227c":"\u22e0","\u227d":"\u22e1","\u2291":"\u22e2","\u2292":"\u22e3","\u22b2":"\u22ea","\u22b3":"\u22eb","\u22b4":"\u22ec","\u22b5":"\u22ed","\u2203":"\u2204"});const Wx=Eb.Variant;function Vx(t,e){const s=t.stack.env.font,r=t.stack.env.italicFont,i=s?{mathvariant:s}:{},n=tx.getMap("remap").lookup(e),o=bn(e),a=o[3],c=t.create("token",a,i,n?n.char:e),l=Mb.isLatinOrGreekChar(e)?t.configuration.mathStyle(e,!0)||r:"",h=o[4]||(s&&l===Wx.NORMAL?"":l);h&&c.attributes.set("mathvariant",h),"mo"===a&&(rb.setProperty(c,"fixStretchy",!0),t.configuration.addNode("fixStretchy",c)),t.Push(c)}new $b("remap",null,{"-":"\u2212","*":"\u2217","`":"\u2018"});class Xx extends Db{}const $x=rx.create("base",{[hb.CONFIG]:function(t,e){const s=e.parseOptions.options;s.digits&&(s.numberPattern=s.digits),new Vb("digit",Hx.digit,s.initialDigit),new Vb("letter",Hx.variable,s.initialLetter);t.handlers.get(db.CHARACTER).add(["letter","digit"],null,4)},[hb.HANDLER]:{[db.CHARACTER]:["command","special"],[db.DELIMITER]:["delimiter"],[db.MACRO]:["delimiter","macros","lcGreek","ucGreek","mathchar0mi","mathchar0mo","mathchar7"],[db.ENVIRONMENT]:["environment"]},[hb.FALLBACK]:{[db.CHARACTER]:Vx,[db.MACRO]:function(t,e){throw new gb("UndefinedControlSequence","Undefined control sequence %1","\\"+e)},[db.ENVIRONMENT]:function(t,e){throw new gb("UnknownEnv","Unknown environment '%1'",e)}},[hb.ITEMS]:{[ax.prototype.kind]:ax,[cx.prototype.kind]:cx,[lx.prototype.kind]:lx,[hx.prototype.kind]:hx,[dx.prototype.kind]:dx,[ux.prototype.kind]:ux,[px.prototype.kind]:px,[mx.prototype.kind]:mx,[fx.prototype.kind]:fx,[gx.prototype.kind]:gx,[bx.prototype.kind]:bx,[xx.prototype.kind]:xx,[Ex.prototype.kind]:Ex,[yx.prototype.kind]:yx,[Nx.prototype.kind]:Nx,[_x.prototype.kind]:_x,[vx.prototype.kind]:vx,[wx.prototype.kind]:wx,[Cx.prototype.kind]:Cx,[kx.prototype.kind]:kx,[Ax.prototype.kind]:Ax,[Tx.prototype.kind]:Tx,[Mx.prototype.kind]:Mx,[Sx.prototype.kind]:Sx,[Ix.prototype.kind]:Ix,[Lx.prototype.kind]:Lx},[hb.OPTIONS]:{maxMacros:1e3,digits:"",numberPattern:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,initialDigit:/[0-9.,]/,identifierPattern:/^[a-zA-Z]+/,initialLetter:/[a-zA-Z]/,baseURL:Jr.document&&0!==Jr.document.getElementsByTagName("base").length?String(Jr.document.location).replace(/#.*$/,""):""},[hb.TAGS]:{base:Xx},[hb.POSTPROCESSORS]:[[function({data:t}){for(const e of t.getList("nonscript"))if(e.attributes.get("scriptlevel")>0){const s=e.parent;if(s.childNodes.splice(s.childIndex(e),1),t.removeFromList(e.kind,[e]),e.isKind("mrow")){const s=e.childNodes[0];t.removeFromList("mstyle",[s]),t.removeFromList("mspace",s.childNodes[0].childNodes)}}else e.isKind("mrow")&&(e.parent.replaceChild(e.childNodes[0],e),t.removeFromList("mrow",[e]))},-4]]});class Jx extends Pi{static configure(t){const e=new ox(t,["tex"]);return e.init(),e}static tags(t,e){Ub.addTags(e.tags),Ub.setDefault(t.options.tags),t.tags=Ub.getDefault(),t.tags.configuration=t}constructor(t={}){const[e,s,r]=_i(t,Jx.OPTIONS,eb.OPTIONS);super(s),this.findTeX=this.options.FindTeX||new eb(r);const i=this.options.packages,n=this.configuration=Jx.configure(i),o=this._parseOptions=new Rb(n,[this.options,Ub.OPTIONS]);Ei(o.options,e),n.config(this),Jx.tags(o,n),this.postFilters.addList([[lb.cleanSubSup,-7],[lb.setInherited,-6],[lb.checkScriptlevel,-5],[lb.moveLimits,-4],[lb.cleanStretchy,-3],[lb.cleanAttributes,-2],[lb.combineRelations,-1]])}setMmlFactory(t){super.setMmlFactory(t),this._parseOptions.nodeFactory.setMmlFactory(t)}get parseOptions(){return this._parseOptions}reset(t=0){this.parseOptions.tags.reset(t)}compile(t,e){let s,r;this.parseOptions.clear(),this.parseOptions.mathItem=t,this.executeFilters(this.preFilters,t,e,this.parseOptions),this.latex=t.math,this.parseOptions.tags.startEquation(t);try{r=new yb(this.latex,{display:t.display,isInner:!1},this.parseOptions),s=r.mml()}catch(t){if(!(t instanceof gb))throw t;this.parseOptions.error=!0,s=this.options.formatError(this,t)}return s=this.parseOptions.nodeFactory.create("node","math",[s]),s.attributes.set(Eb.Attr.LATEX,this.latex),t.display&&rb.setAttribute(s,"display","block"),this.parseOptions.tags.finishEquation(t),this.parseOptions.root=s,this.executeFilters(this.postFilters,t,e,this.parseOptions),r&&r.stack.env.hsize&&(rb.setAttribute(s,"maxwidth",r.stack.env.hsize),rb.setAttribute(s,"overflow","linebreak")),this.mathNode=this.parseOptions.root,this.mathNode}findMath(t){return this.findTeX.findMath(t)}formatError(t){const e=t.message.replace(/\n.*/,"");return this.parseOptions.nodeFactory.create("error",e,t.id,this.latex)}}function Kx(t=[],e=!0){if(MathJax.startup){e&&(MathJax.startup.registerConstructor("tex",MathJax._.input.tex_ts.TeX),MathJax.startup.useInput("tex")),MathJax.config.tex||(MathJax.config.tex={});let s=MathJax.config.tex.packages;MathJax.config.tex.packages=t,s&&(Array.isArray(s)&&(s={"[+]":s.filter(e=>!t.includes(e))}),bi(MathJax.config.tex,{packages:s}))}}Jx.NAME="TeX",Jx.OPTIONS=Object.assign(Object.assign({},Pi.OPTIONS),{FindTeX:null,packages:["base"],maxBuffer:5120,maxTemplateSubtitutions:1e4,mathStyle:"TeX",formatError:(t,e)=>t.formatError(e)}),MathJax.loader&&MathJax.loader.checkVersion("input/tex-base",jr,"input"),Vr({_:{input:{tex_ts:Us,tex:{ColumnParser:Ss,Configuration:Ds,FilterUtil:Es,FindTeX:bs,HandlerTypes:ys,MapHandler:Ps,NodeFactory:Ts,NodeUtil:xs,ParseMethods:qs,ParseOptions:Ls,ParseUtil:Ms,Stack:_s,StackItem:ws,StackItemFactory:As,Tags:Is,TexConstants:Cs,TexError:vs,TexParser:ks,Token:Rs,TokenMap:Os,UnitUtil:Ns,base:{BaseConfiguration:js,BaseItems:Bs,BaseMethods:Fs}}}}}),Kx(["base"]);class Yx extends Mx{constructor(t,...e){super(t),this.factory.configuration.tags.start("multline",!0,e[0])}get kind(){return"multline"}EndEntry(){this.table.length&&Mb.fixInitialMO(this.factory.configuration,this.nodes);const t=this.getProperty("shove"),e=this.create("node","mtd",this.nodes,t?{columnalign:t}:{});this.setProperty("shove",null),this.row.push(e),this.Clear()}EndRow(){if(1!==this.row.length)throw new gb("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");const t=this.create("node","mtr",this.row);this.table.push(t),this.row=[]}EndTable(){if(super.EndTable(),this.table.length){const t=this.table.length-1;let e=-1;rb.getAttribute(rb.getChildren(this.table[0])[0],"columnalign")||rb.setAttribute(rb.getChildren(this.table[0])[0],"columnalign",Eb.Align.LEFT),rb.getAttribute(rb.getChildren(this.table[t])[0],"columnalign")||rb.setAttribute(rb.getChildren(this.table[t])[0],"columnalign",Eb.Align.RIGHT);const s=this.factory.configuration.tags.getTag();if(s){e=this.arraydef.side===Eb.Align.LEFT?0:this.table.length-1;const t=this.table[e],r=this.create("node","mlabeledtr",[s].concat(rb.getChildren(t)));rb.copyAttributes(t,r),this.table[e]=r}}this.factory.configuration.tags.end()}}class Qx extends Sx{get kind(){return"flalign"}constructor(t,e,s,r,i){super(t),this.name=e,this.numbered=s,this.padded=r,this.center=i,this.factory.configuration.tags.start(e,s,s)}EndEntry(){super.EndEntry();const t=this.getProperty("xalignat");if(t&&this.row.length>t)throw new gb("XalignOverflow","Extra %1 in row of %2","&",this.name)}EndRow(){let t;const e=this.row,s=this.getProperty("xalignat");for(;e.length<s;)e.push(this.create("node","mtd"));for(this.row=[],this.padded&&this.row.push(this.create("node","mtd"));t=e.shift();)this.row.push(t),t=e.shift(),t&&this.row.push(t),(e.length||this.padded)&&this.row.push(this.create("node","mtd"));this.row.length>this.maxrow&&(this.maxrow=this.row.length),super.EndRow();const r=this.table[this.table.length-1];if(this.getProperty("zeroWidthLabel")&&r.isKind("mlabeledtr")){const t=rb.getChildren(r)[0],e=this.factory.configuration.options.tagSide,s=Object.assign({width:0},"right"===e?{lspace:"-1width"}:{}),i=this.create("node","mpadded",rb.getChildren(t),s);t.setChildren([i])}}EndTable(){if(super.EndTable(),this.center&&this.maxrow<=2){delete this.arraydef.width,delete this.global.indentalign}}}var Zx;!function(t){t.NEW_DELIMITER="new-Delimiter",t.NEW_COMMAND="new-Command",t.NEW_ENVIRONMENT="new-Environment"}(Zx||(Zx={}));const tE=-100,eE={GetCSname(t,e){if("\\"!==t.GetNext())throw new gb("MissingCS","%1 must be followed by a control sequence",e);const s=pb.trimSpaces(t.GetArgument(e)).substring(1);return this.checkProtectedMacros(t,s),s},GetCsNameArgument(t,e){let s=pb.trimSpaces(t.GetArgument(e));if("\\"===s.charAt(0)&&(s=s.substring(1)),!s.match(/^(.|[a-z]+)$/i))throw new gb("IllegalControlSequenceName","Illegal control sequence name for %1",e);return this.checkProtectedMacros(t,s),s},GetArgCount(t,e){let s=t.GetBrackets(e);if(s&&(s=pb.trimSpaces(s),!s.match(/^[0-9]+$/)))throw new gb("IllegalParamNumber","Illegal number of parameters specified in %1",e);return s},GetTemplate(t,e,s){let r=t.GetNext();const i=[];let n=0,o=t.i;for(;t.i<t.string.length;){if(r=t.GetNext(),"#"===r){if(o!==t.i&&(i[n]=t.string.substring(o,t.i)),r=t.string.charAt(++t.i),!r.match(/^[1-9]$/))throw new gb("CantUseHash2","Illegal use of # in template for %1",s);if(parseInt(r)!==++n)throw new gb("SequentialParam","Parameters for %1 must be numbered sequentially",s);o=t.i+1}else if("{"===r)return o!==t.i&&(i[n]=t.string.substring(o,t.i)),i.length>0?[n.toString()].concat(i):n;t.i++}throw new gb("MissingReplacementString","Missing replacement string for definition of %1",e)},GetParameter(t,e,s){if(null==s)return t.GetArgument(e);let r=t.i,i=0,n=!1;for(;t.i<t.string.length;){const o=t.string.charAt(t.i);if("{"===o)n=t.i===r,t.GetArgument(e),i=t.i-r;else{if(this.MatchParam(t,s))return n&&(r++,i-=2),t.string.substring(r,r+i);if("\\"===o){t.i++,i++,n=!1;const e=t.string.substring(t.i).match(/[a-z]+|./i);e&&(t.i+=e[0].length,i=t.i-r)}else t.i++,i++,n=!1}}throw new gb("RunawayArgument","Runaway argument for %1?",e)},MatchParam:(t,e)=>t.string.substring(t.i,t.i+e.length)!==e||e.match(/\\[a-z]+$/i)&&t.string.charAt(t.i+e.length).match(/[a-z]/i)?0:(t.i+=e.length,1),checkGlobal:(t,e,s)=>t.stack.env.isGlobal?t.configuration.packageData.get("begingroup").stack.checkGlobal(e,s):s.map(e=>t.configuration.handlers.retrieve(e)),checkProtectedMacros(t,e){var s;if(null===(s=t.options.protectedMacros)||void 0===s?void 0:s.includes(e))throw new gb("ProtectedMacro","The control sequence %1 can't be redefined",`\\${e}`)},addDelimiter(t,e,s,r){const i=e.substring(1);this.checkProtectedMacros(t,i);const[n,o]=eE.checkGlobal(t,[i,e],[Zx.NEW_COMMAND,Zx.NEW_DELIMITER]);i!==e&&n.remove(i),o.add(e,new Hb(e,s,r)),delete t.stack.env.isGlobal},addMacro(t,e,s,r,i=""){this.checkProtectedMacros(t,e);const n=eE.checkGlobal(t,[e],[Zx.NEW_COMMAND])[0];this.undefineDelimiter(t,"\\"+e),n.add(e,new Gb(i||e,s,r)),delete t.stack.env.isGlobal},addEnvironment(t,e,s,r){eE.checkGlobal(t,[e],[Zx.NEW_ENVIRONMENT])[0].add(e,new Gb(e,s,r)),delete t.stack.env.isGlobal},undefineMacro(t,e){const s=eE.checkGlobal(t,[e],[Zx.NEW_COMMAND])[0];s.remove(e),t.configuration.handlers.get(db.MACRO).applicable(e)&&(s.add(e,new Gb(e,()=>ex.FALLBACK,[])),this.undefineDelimiter(t,"\\"+e)),delete t.stack.env.isGlobal},undefineDelimiter(t,e){const s=eE.checkGlobal(t,[e],[Zx.NEW_DELIMITER])[0];s.remove(e),t.configuration.handlers.get(db.DELIMITER).applicable(e)&&s.add(e,new Hb(e,null,{})),delete t.stack.env.isGlobal}};function sE(t){if(!t||t.isInferred&&0===t.childNodes.length)return[null,null];if(t.isKind("msubsup")&&rE(t))return[t,null];const e=rb.getChildAt(t,0);return t.isInferred&&e&&rE(e)?(t.childNodes.splice(0,1),[e,t]):[null,t]}function rE(t){const e=t.childNodes[0];return e&&e.isKind("mi")&&""===e.getText()}const iE={AmsEqnArray(t,e,s,r,i,n,o,a){const c=t.GetBrackets("\\begin{"+e.getName()+"}"),l=qx.EqnArray(t,e,s,r,i,n,o,a);return Mb.setArrayAlign(l,c,t)},AlignAt(t,e,s,r){const i=e.getName();let n,o="",a="";const c=[];r||(n=t.GetBrackets("\\begin{"+i+"}"));const l=t.GetArgument("\\begin{"+i+"}");if(l.match(/[^0-9]/))throw new gb("PositiveIntegerArg","Argument to %1 must be a positive integer","\\begin{"+i+"}");let h=parseInt(l,10);for(;h>0;)o+="rl",a+="bt",c.push("0em 0em"),h--;const d=c.join(" ");if(r)return iE.EqnArray(t,e,s,r,o,a,d);const u=iE.EqnArray(t,e,s,r,o,a,d);return Mb.setArrayAlign(u,n,t)},Multline(t,e,s){Mb.checkEqnEnv(t),t.Push(e);const r=t.options.ams.multlineIndent,i=t.itemFactory.create("multline",s,t.stack);return i.arraydef={displaystyle:!0,rowspacing:".5em",columnspacing:"100%",width:t.options.ams.multlineWidth,side:t.options.tagSide,minlabelspacing:t.options.tagIndent,"data-array-padding":`${r} ${r}`,"data-width-includes-label":!0},i},XalignAt(t,e,s,r){const i=t.GetArgument("\\begin{"+e.getName()+"}");if(i.match(/[^0-9]/))throw new gb("PositiveIntegerArg","Argument to %1 must be a positive integer","\\begin{"+e.getName()+"}");const n=r?"crl":"rlc",o=r?"mbt":"btm",a=r?"fit auto auto":"auto auto fit",c=iE.FlalignArray(t,e,s,r,!1,n,o,a,!0);return c.setProperty("xalignat",2*parseInt(i)),c},FlalignArray(t,e,s,r,i,n,o,a,c=!1){Mb.checkEqnEnv(t),t.Push(e),n=n.split("").join(" ").replace(/r/g,"right").replace(/l/g,"left").replace(/c/g,"center"),o=Dx(o);const l=t.itemFactory.create("flalign",e.getName(),s,r,i,t.stack);return l.arraydef={width:"100%",displaystyle:!0,columnalign:n,columnspacing:"0em",columnwidth:a,rowspacing:"3pt","data-break-align":o,side:t.options.tagSide,minlabelspacing:c?"0":t.options.tagIndent,"data-width-includes-label":!0},l.setProperty("zeroWidthLabel",c),l},HandleDeclareOp(t,e){const s=t.GetStar()?"*":"",r=eE.GetCsNameArgument(t,e),i=t.GetArgument(e);eE.addMacro(t,r,iE.Macro,[`\\operatorname${s}{${i}}`]),t.Push(t.itemFactory.create("null"))},HandleOperatorName(t,e){const s=t.GetStar(),r=pb.trimSpaces(t.GetArgument(e));let i=new yb(r,Object.assign(Object.assign({},t.stack.env),{font:Eb.Variant.NORMAL,multiLetterIdentifiers:t.options.ams.operatornamePattern,operatorLetters:!0}),t.configuration).mml();if(i.isKind("mi")||(i=t.create("node","TeXAtom",[i])),rb.setProperties(i,{movesupsub:s,movablelimits:!0,texClass:Yi.OP}),!s){const e=t.GetNext(),s=t.i;"\\"===e&&++t.i&&"limits"!==t.GetCS()&&(t.i=s)}t.Push(t.itemFactory.create("fn",i))},SideSet(t,e){const[s,r]=sE(t.ParseArg(e)),[i,n]=sE(t.ParseArg(e)),o=t.ParseArg(e);let a=o;s&&(r?s.replaceChild(t.create("node","mphantom",[t.create("node","mpadded",[Mb.copyNode(o,t)],{width:0})]),rb.getChildAt(s,0)):(a=t.create("node","mmultiscripts",[o]),i&&rb.appendChildren(a,[rb.getChildAt(i,1)||t.create("node","none"),rb.getChildAt(i,2)||t.create("node","none")]),rb.setProperty(a,"scriptalign","left"),rb.appendChildren(a,[t.create("node","mprescripts"),rb.getChildAt(s,1)||t.create("node","none"),rb.getChildAt(s,2)||t.create("node","none")]))),i&&a===o&&(i.replaceChild(o,rb.getChildAt(i,0)),a=i);const c=t.create("node","TeXAtom",[],{texClass:Yi.OP,movesupsub:!0,movablelimits:!0});r&&(s&&c.appendChild(s),c.appendChild(r)),c.appendChild(a),n&&c.appendChild(n),t.Push(c)},operatorLetter:(t,e)=>!!t.stack.env.operatorLetters&&Hx.variable(t,e),MultiIntegral(t,e,s){let r=t.GetNext();if("\\"===r){const i=t.i;r=t.GetArgument(e),t.i=i,"\\limits"===r&&(s="\\!\\!\\mathop{\\,\\,"+s+"}")}t.string=s+" "+t.string.slice(t.i),t.i=0},xArrow(t,e,s,r,i,n=0){const o={width:"+"+pb.em((r+i)/18),lspace:pb.em(r/18)},a=t.GetBrackets(e),c=t.ParseArg(e),l=t.create("node","mspace",[],{depth:".2em"});let h=t.create("token","mo",{stretchy:!0,texClass:Yi.REL},String.fromCodePoint(s));n&&h.attributes.set("minsize",pb.em(n)),h=t.create("node","mstyle",[h],{scriptlevel:0});const d=t.create("node","munderover",[h]);let u=t.create("node","mpadded",[c,l],o);if(rb.setAttribute(u,"voffset","-.2em"),rb.setAttribute(u,"height","-.2em"),rb.setChild(d,d.over,u),a){const e=new yb(a,t.stack.env,t.configuration).mml(),s=t.create("node","mspace",[],{height:".75em"});u=t.create("node","mpadded",[e,s],o),rb.setAttribute(u,"voffset",".15em"),rb.setAttribute(u,"depth","-.15em"),rb.setChild(d,d.under,u)}rb.setProperty(d,"subsupOK",!0),t.Push(d)},HandleShove(t,e,s){const r=t.stack.Top();if("multline"!==r.kind)throw new gb("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",t.currentCS,"multline");if(r.Size())throw new gb("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",t.currentCS);r.setProperty("shove",s)},CFrac(t,e){let s=pb.trimSpaces(t.GetBrackets(e,""));const r=t.GetArgument(e),i=t.GetArgument(e),n={l:Eb.Align.LEFT,r:Eb.Align.RIGHT,"":""},o=new yb("\\strut\\textstyle{"+r+"}",t.stack.env,t.configuration).mml(),a=new yb("\\strut\\textstyle{"+i+"}",t.stack.env,t.configuration).mml(),c=t.create("node","mfrac",[o,a]);if(s=n[s],null==s)throw new gb("IllegalAlign","Illegal alignment specified in %1",t.currentCS);s&&rb.setProperties(c,{numalign:s,denomalign:s}),t.Push(c)},Genfrac(t,e,s,r,i,n){null==s&&(s=t.GetDelimiterArg(e)),null==r&&(r=t.GetDelimiterArg(e)),null==i&&(i=t.GetArgument(e)),null==n&&(n=pb.trimSpaces(t.GetArgument(e)));const o=t.ParseArg(e),a=t.ParseArg(e);let c=t.create("node","mfrac",[o,a]);if(""!==i&&rb.setAttribute(c,"linethickness",i),(s||r)&&(rb.setProperty(c,"withDelims",!0),c=Mb.fixedFence(t.configuration,s,c,r)),""!==n){const e=parseInt(n,10),s=["D","T","S","SS"][e];if(null==s)throw new gb("BadMathStyleFor","Bad math style for %1",t.currentCS);c=t.create("node","mstyle",[c]),"D"===s?rb.setProperties(c,{displaystyle:!0,scriptlevel:0}):rb.setProperties(c,{displaystyle:!1,scriptlevel:e-1})}t.Push(c)},HandleTag(t,e){if(!t.tags.currentTag.taggable&&t.tags.env)throw new gb("CommandNotAllowedInEnv","%1 not allowed in %2 environment",t.currentCS,t.tags.env);if(t.tags.currentTag.tag)throw new gb("MultipleCommand","Multiple %1",t.currentCS);const s=t.GetStar(),r=pb.trimSpaces(t.GetArgument(e));t.tags.tag(r,s),t.Push(t.itemFactory.create("null"))},HandleNoTag:qx.HandleNoTag,HandleRef:qx.HandleRef,Macro:qx.Macro,Accent:qx.Accent,Tilde:qx.Tilde,Array:qx.Array,Spacer:qx.Spacer,NamedOp:qx.NamedOp,EqnArray:qx.EqnArray,Equation:qx.Equation};new $b("AMSmath-mathchar0mo",Hx.mathchar0mo,{iiiint:["\u2a0c",{texClass:Yi.OP}]}),new Vb("AMSmath-operatorLetter",iE.operatorLetter,/[-*]/i),new Yb("AMSmath-macros",{mathring:[iE.Accent,"02DA"],nobreakspace:iE.Tilde,negmedspace:[iE.Spacer,$o.negativemediummathspace],negthickspace:[iE.Spacer,$o.negativethickmathspace],idotsint:[iE.MultiIntegral,"\\int\\cdots\\int"],dddot:[iE.Accent,"20DB"],ddddot:[iE.Accent,"20DC"],sideset:iE.SideSet,boxed:[iE.Macro,"\\fbox{$\\displaystyle{#1}$}",1],tag:iE.HandleTag,notag:iE.HandleNoTag,eqref:[iE.HandleRef,!0],substack:[iE.Macro,"\\begin{subarray}{c}#1\\end{subarray}",1],injlim:[iE.NamedOp,"inj&thinsp;lim"],projlim:[iE.NamedOp,"proj&thinsp;lim"],varliminf:[iE.Macro,"\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:[iE.Macro,"\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:[iE.Macro,"\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:[iE.Macro,"\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:iE.HandleDeclareOp,operatorname:iE.HandleOperatorName,genfrac:iE.Genfrac,frac:[iE.Genfrac,"","","",""],tfrac:[iE.Genfrac,"","","","1"],dfrac:[iE.Genfrac,"","","","0"],binom:[iE.Genfrac,"(",")","0",""],tbinom:[iE.Genfrac,"(",")","0","1"],dbinom:[iE.Genfrac,"(",")","0","0"],cfrac:iE.CFrac,shoveleft:[iE.HandleShove,Eb.Align.LEFT],shoveright:[iE.HandleShove,Eb.Align.RIGHT],xrightarrow:[iE.xArrow,8594,5,10],xleftarrow:[iE.xArrow,8592,10,5]}),new Qb("AMSmath-environment",Hx.environment,{"equation*":[iE.Equation,null,!1],"eqnarray*":[iE.EqnArray,null,!1,!0,"rcl","bmt",Mb.cols(0,$o.thickmathspace),".5em"],align:[iE.EqnArray,null,!0,!0,"rl","bt",Mb.cols(0,2)],"align*":[iE.EqnArray,null,!1,!0,"rl","bt",Mb.cols(0,2)],multline:[iE.Multline,null,!0],"multline*":[iE.Multline,null,!1],split:[iE.EqnArray,null,!1,!1,"rl","bt",Mb.cols(0)],gather:[iE.EqnArray,null,!0,!0,"c","m"],"gather*":[iE.EqnArray,null,!1,!0,"c","m"],alignat:[iE.AlignAt,null,!0,!0],"alignat*":[iE.AlignAt,null,!1,!0],alignedat:[iE.AlignAt,null,!1,!1],aligned:[iE.AmsEqnArray,null,null,null,"rl","bt",Mb.cols(0,2),".5em","D"],gathered:[iE.AmsEqnArray,null,null,null,"c","m",null,".5em","D"],xalignat:[iE.XalignAt,null,!0,!0],"xalignat*":[iE.XalignAt,null,!1,!0],xxalignat:[iE.XalignAt,null,!1,!1],flalign:[iE.FlalignArray,null,!0,!1,!0,"rlc","btm","auto auto fit"],"flalign*":[iE.FlalignArray,null,!1,!1,!0,"rlc","btm","auto auto fit"],subarray:[iE.Array,null,null,null,null,Mb.cols(0),"0.1em","S",!0],smallmatrix:[iE.Array,null,null,null,"c",Mb.cols(1/3),".2em","S",!0],matrix:[iE.Array,null,null,null,"c"],pmatrix:[iE.Array,null,"(",")","c"],bmatrix:[iE.Array,null,"[","]","c"],Bmatrix:[iE.Array,null,"\\{","\\}","c"],vmatrix:[iE.Array,null,"\\vert","\\vert","c"],Vmatrix:[iE.Array,null,"\\Vert","\\Vert","c"],cases:[iE.Array,null,"\\{",".","ll",null,".2em","T"]}),new Jb("AMSmath-delimiter",Hx.delimiter,{"\\lvert":["|",{texClass:Yi.OPEN}],"\\rvert":["|",{texClass:Yi.CLOSE}],"\\lVert":["\u2016",{texClass:Yi.OPEN}],"\\rVert":["\u2016",{texClass:Yi.CLOSE}]}),new $b("AMSsymbols-mathchar0mi",Hx.mathchar0mi,{digamma:"\u03dd",varkappa:"\u03f0",varGamma:["\u0393",{mathvariant:Eb.Variant.ITALIC}],varDelta:["\u0394",{mathvariant:Eb.Variant.ITALIC}],varTheta:["\u0398",{mathvariant:Eb.Variant.ITALIC}],varLambda:["\u039b",{mathvariant:Eb.Variant.ITALIC}],varXi:["\u039e",{mathvariant:Eb.Variant.ITALIC}],varPi:["\u03a0",{mathvariant:Eb.Variant.ITALIC}],varSigma:["\u03a3",{mathvariant:Eb.Variant.ITALIC}],varUpsilon:["\u03a5",{mathvariant:Eb.Variant.ITALIC}],varPhi:["\u03a6",{mathvariant:Eb.Variant.ITALIC}],varPsi:["\u03a8",{mathvariant:Eb.Variant.ITALIC}],varOmega:["\u03a9",{mathvariant:Eb.Variant.ITALIC}],beth:"\u2136",gimel:"\u2137",daleth:"\u2138",backprime:["\u2035",{variantForm:!0}],hslash:"\u210f",varnothing:["\u2205",{variantForm:!0}],blacktriangle:"\u25b4",triangledown:["\u25bd",{variantForm:!0}],blacktriangledown:"\u25be",square:"\u25fb",Box:"\u25fb",blacksquare:"\u25fc",lozenge:"\u25ca",Diamond:"\u25ca",blacklozenge:"\u29eb",circledS:["\u24c8",{mathvariant:Eb.Variant.NORMAL}],bigstar:"\u2605",sphericalangle:"\u2222",measuredangle:"\u2221",nexists:"\u2204",complement:"\u2201",mho:"\u2127",eth:["\xf0",{mathvariant:Eb.Variant.NORMAL}],Finv:"\u2132",diagup:"\u2571",Game:"\u2141",diagdown:"\u2572",Bbbk:["k",{mathvariant:Eb.Variant.DOUBLESTRUCK}],yen:"\xa5",circledR:"\xae",checkmark:"\u2713",maltese:"\u2720"}),new $b("AMSsymbols-mathchar0mo",Hx.mathchar0mo,{dotplus:"\u2214",ltimes:"\u22c9",smallsetminus:["\u2216",{variantForm:!0}],rtimes:"\u22ca",Cap:"\u22d2",doublecap:"\u22d2",leftthreetimes:"\u22cb",Cup:"\u22d3",doublecup:"\u22d3",rightthreetimes:"\u22cc",barwedge:"\u22bc",curlywedge:"\u22cf",veebar:"\u22bb",curlyvee:"\u22ce",doublebarwedge:"\u2a5e",boxminus:"\u229f",circleddash:"\u229d",boxtimes:"\u22a0",circledast:"\u229b",boxdot:"\u22a1",circledcirc:"\u229a",boxplus:"\u229e",centerdot:["\u22c5",{variantForm:!0}],divideontimes:"\u22c7",intercal:"\u22ba",leqq:"\u2266",geqq:"\u2267",leqslant:"\u2a7d",geqslant:"\u2a7e",eqslantless:"\u2a95",eqslantgtr:"\u2a96",lesssim:"\u2272",gtrsim:"\u2273",lessapprox:"\u2a85",gtrapprox:"\u2a86",approxeq:"\u224a",lessdot:"\u22d6",gtrdot:"\u22d7",lll:"\u22d8",llless:"\u22d8",ggg:"\u22d9",gggtr:"\u22d9",lessgtr:"\u2276",gtrless:"\u2277",lesseqgtr:"\u22da",gtreqless:"\u22db",lesseqqgtr:"\u2a8b",gtreqqless:"\u2a8c",doteqdot:"\u2251",Doteq:"\u2251",eqcirc:"\u2256",risingdotseq:"\u2253",circeq:"\u2257",fallingdotseq:"\u2252",triangleq:"\u225c",backsim:"\u223d",thicksim:["\u223c",{variantForm:!0}],backsimeq:"\u22cd",thickapprox:["\u2248",{variantForm:!0}],subseteqq:"\u2ac5",supseteqq:"\u2ac6",Subset:"\u22d0",Supset:"\u22d1",sqsubset:"\u228f",sqsupset:"\u2290",preccurlyeq:"\u227c",succcurlyeq:"\u227d",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",precsim:"\u227e",succsim:"\u227f",precapprox:"\u2ab7",succapprox:"\u2ab8",vartriangleleft:"\u22b2",lhd:"\u22b2",vartriangleright:"\u22b3",rhd:"\u22b3",trianglelefteq:"\u22b4",unlhd:"\u22b4",trianglerighteq:"\u22b5",unrhd:"\u22b5",vDash:"\u22a8",Vdash:"\u22a9",Vvdash:"\u22aa",smallsmile:["\u2323",{variantForm:!0}],shortmid:["\u2223",{variantForm:!0}],smallfrown:["\u2322",{variantForm:!0}],shortparallel:["\u2225",{variantForm:!0}],bumpeq:"\u224f",between:"\u226c",Bumpeq:"\u224e",pitchfork:"\u22d4",varpropto:["\u221d",{variantForm:!0}],backepsilon:"\u220d",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",therefore:"\u2234",because:"\u2235",eqsim:"\u2242",vartriangle:["\u25b3",{variantForm:!0}],Join:"\u22c8",nless:"\u226e",ngtr:"\u226f",nleq:"\u2270",ngeq:"\u2271",nleqslant:["\u2a87",{variantForm:!0}],ngeqslant:["\u2a88",{variantForm:!0}],nleqq:["\u2270",{variantForm:!0}],ngeqq:["\u2271",{variantForm:!0}],lneq:"\u2a87",gneq:"\u2a88",lneqq:"\u2268",gneqq:"\u2269",lvertneqq:["\u2268",{variantForm:!0}],gvertneqq:["\u2269",{variantForm:!0}],lnsim:"\u22e6",gnsim:"\u22e7",lnapprox:"\u2a89",gnapprox:"\u2a8a",nprec:"\u2280",nsucc:"\u2281",npreceq:["\u22e0",{variantForm:!0}],nsucceq:["\u22e1",{variantForm:!0}],precneqq:"\u2ab5",succneqq:"\u2ab6",precnsim:"\u22e8",succnsim:"\u22e9",precnapprox:"\u2ab9",succnapprox:"\u2aba",nsim:"\u2241",ncong:"\u2247",nshortmid:["\u2224",{variantForm:!0}],nshortparallel:["\u2226",{variantForm:!0}],nmid:"\u2224",nparallel:"\u2226",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",ntriangleleft:"\u22ea",ntriangleright:"\u22eb",ntrianglelefteq:"\u22ec",ntrianglerighteq:"\u22ed",nsubseteq:"\u2288",nsupseteq:"\u2289",nsubseteqq:["\u2288",{variantForm:!0}],nsupseteqq:["\u2289",{variantForm:!0}],subsetneq:"\u228a",supsetneq:"\u228b",varsubsetneq:["\u228a",{variantForm:!0}],varsupsetneq:["\u228b",{variantForm:!0}],subsetneqq:"\u2acb",supsetneqq:"\u2acc",varsubsetneqq:["\u2acb",{variantForm:!0}],varsupsetneqq:["\u2acc",{variantForm:!0}],leftleftarrows:"\u21c7",rightrightarrows:"\u21c9",leftrightarrows:"\u21c6",rightleftarrows:"\u21c4",Lleftarrow:"\u21da",Rrightarrow:"\u21db",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",leftarrowtail:"\u21a2",rightarrowtail:"\u21a3",looparrowleft:"\u21ab",looparrowright:"\u21ac",leftrightharpoons:"\u21cb",rightleftharpoons:["\u21cc",{variantForm:!0}],curvearrowleft:"\u21b6",curvearrowright:"\u21b7",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",Lsh:"\u21b0",Rsh:"\u21b1",upuparrows:"\u21c8",downdownarrows:"\u21ca",upharpoonleft:"\u21bf",upharpoonright:"\u21be",downharpoonleft:"\u21c3",restriction:"\u21be",multimap:"\u22b8",downharpoonright:"\u21c2",leftrightsquigarrow:"\u21ad",rightsquigarrow:"\u21dd",leadsto:"\u21dd",dashrightarrow:"\u21e2",dashleftarrow:"\u21e0",nleftarrow:"\u219a",nrightarrow:"\u219b",nLeftarrow:"\u21cd",nRightarrow:"\u21cf",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce"}),new Jb("AMSsymbols-delimiter",Hx.delimiter,{"\\ulcorner":"\u231c","\\urcorner":"\u231d","\\llcorner":"\u231e","\\lrcorner":"\u231f"}),new Yb("AMSsymbols-macros",{implies:[iE.Macro,"\\;\\Longrightarrow\\;"],impliedby:[iE.Macro,"\\;\\Longleftarrow\\;"]});class nE extends xb{get kind(){return"beginEnv"}get isOpen(){return!0}checkItem(t){if(t.isKind("end")){if(t.getName()!==this.getName())throw new gb("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),t.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(t.isKind("stop"))throw new gb("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(t)}}const oE={NewCommand(t,e){const s=eE.GetCsNameArgument(t,e),r=eE.GetArgCount(t,e),i=t.GetBrackets(e),n=t.GetArgument(e);eE.addMacro(t,s,oE.Macro,[n,r,i]),t.Push(t.itemFactory.create("null"))},NewEnvironment(t,e){const s=pb.trimSpaces(t.GetArgument(e)),r=eE.GetArgCount(t,e),i=t.GetBrackets(e),n=t.GetArgument(e),o=t.GetArgument(e);eE.addEnvironment(t,s,oE.BeginEnv,[!0,n,o,r,i]),t.Push(t.itemFactory.create("null"))},MacroDef(t,e){const s=eE.GetCSname(t,e),r=eE.GetTemplate(t,e,"\\"+s),i=t.GetArgument(e);r instanceof Array?eE.addMacro(t,s,oE.MacroWithTemplate,[i].concat(r)):eE.addMacro(t,s,oE.Macro,[i,r]),t.Push(t.itemFactory.create("null"))},Let(t,e){const s=eE.GetCSname(t,e);let r=t.GetNext();"="===r&&(t.i++,r=t.GetNext());const i=t.configuration.handlers;if(t.Push(t.itemFactory.create("null")),"\\"===r){if(s===(e=eE.GetCSname(t,e)))return;const r=i.get(db.MACRO).applicable(e);if(r instanceof Kb){const i=r.lookup(e);return void eE.addMacro(t,s,i.func,i.args,i.token)}if(r instanceof $b&&!(r instanceof Jb)){const i=r.lookup(e),n=t=>r.parser(t,i);return void eE.addMacro(t,s,n,[s,i.char])}const n=i.get(db.DELIMITER).lookup("\\"+e);return n?void eE.addDelimiter(t,"\\"+s,n.char,n.attributes):(eE.checkProtectedMacros(t,s),eE.undefineMacro(t,s),void eE.undefineDelimiter(t,"\\"+s))}t.i++;const n=i.get(db.DELIMITER).lookup(r);n?eE.addDelimiter(t,"\\"+s,n.char,n.attributes):eE.addMacro(t,s,oE.Macro,[r])},MacroWithTemplate(t,e,s,r,...i){const n=parseInt(r,10);if(i.length){const r=[];if(t.GetNext(),i[0]&&!eE.MatchParam(t,i[0]))throw new gb("MismatchUseDef","Use of %1 doesn't match its definition",e);if(n){for(let s=0;s<n;s++)r.push(eE.GetParameter(t,e,i[s+1]));s=Mb.substituteArgs(t,r,s)}}t.string=Mb.addArgs(t,s,t.string.slice(t.i)),t.i=0,Mb.checkMaxMacros(t)},BeginEnv(t,e,s,r,i,n){const o=e.getName();if(t.stack.env.closing===o){delete t.stack.env.closing;if(t.stack.global.beginEnv&&(t.stack.global.beginEnv--,r)){const e=t.string.slice(t.i);t.string=Mb.addArgs(t,t.string.substring(0,t.i),r),t.Parse(),t.string=e,t.i=0}return t.itemFactory.create("end").setProperty("name",o)}if(i){const e=[];if(null!=n){const s=t.GetBrackets(`\\begin{${o}}`);e.push(null==s?n:s)}for(let s=e.length;s<i;s++)e.push(t.GetArgument(`\\begin{${o}}`));s=Mb.substituteArgs(t,e,s),r=Mb.substituteArgs(t,[],r)}return t.string=Mb.addArgs(t,s,t.string.slice(t.i)),t.i=0,t.stack.global.beginEnv=(t.stack.global.beginEnv||0)+1,t.itemFactory.create("beginEnv").setProperty("name",o)},Macro:qx.Macro},aE=oE;function cE(t,e){e.parseOptions.packageData.has("newcommand")||(e.parseOptions.packageData.set("newcommand",{}),new Jb(Zx.NEW_DELIMITER,Hx.delimiter,{}),new Yb(Zx.NEW_COMMAND,{}),new Qb(Zx.NEW_ENVIRONMENT,Hx.environment,{}),e.parseOptions.handlers.add({[db.CHARACTER]:[],[db.DELIMITER]:[Zx.NEW_DELIMITER],[db.MACRO]:[Zx.NEW_DELIMITER,Zx.NEW_COMMAND],[db.ENVIRONMENT]:[Zx.NEW_ENVIRONMENT]},{},tE))}new Yb("Newcommand-macros",{newcommand:aE.NewCommand,renewcommand:aE.NewCommand,newenvironment:aE.NewEnvironment,renewenvironment:aE.NewEnvironment,def:aE.MacroDef,let:aE.Let});const lE=rx.create("newcommand",{[hb.HANDLER]:{macro:["Newcommand-macros"]},[hb.ITEMS]:{[nE.prototype.kind]:nE},[hb.OPTIONS]:{maxMacros:1e3,protectedMacros:["begingroupSandbox"]},[hb.CONFIG]:cE});class hE extends Db{}const dE=rx.create("ams",{[hb.HANDLER]:{[db.CHARACTER]:["AMSmath-operatorLetter"],[db.DELIMITER]:["AMSsymbols-delimiter","AMSmath-delimiter"],[db.MACRO]:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0mo","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],[db.ENVIRONMENT]:["AMSmath-environment"]},[hb.ITEMS]:{[Yx.prototype.kind]:Yx,[Qx.prototype.kind]:Qx},[hb.TAGS]:{ams:hE},[hb.OPTIONS]:{multlineWidth:"",ams:{operatornamePattern:/^[-*a-zA-Z]+/,multlineWidth:"100%",multlineIndent:"1em"}},[hb.CONFIG]:cE});MathJax.loader&&MathJax.loader.checkVersion("[tex]/ams",jr,"tex-extension"),Vr({_:{input:{tex:{ams:{AmsConfiguration:$s,AmsItems:Hs,AmsMethods:zs}}}}});const uE={Toggle(t,e){const s=[];let r;for(;"\\endtoggle"!==(r=t.GetArgument(e));)s.push(new yb(r,t.stack.env,t.configuration).mml());t.Push(t.create("node","maction",s,{actiontype:"toggle"}))},Mathtip(t,e){const s=t.ParseArg(e),r=t.ParseArg(e);t.Push(t.create("node","maction",[s,r],{actiontype:"tooltip"}))},Macro:qx.Macro};new Yb("action-macros",{toggle:uE.Toggle,mathtip:uE.Mathtip,texttip:[uE.Macro,"\\mathtip{#1}{\\text{#2}}",2]});const pE=rx.create("action",{[hb.HANDLER]:{[db.MACRO]:["action-macros"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/action",jr,"tex-extension"),Vr({_:{input:{tex:{action:{ActionConfiguration:Js}}}}});const mE={CD(t,e){t.Push(e);const s=t.itemFactory.create("array"),r=t.configuration.options.amscd;return s.setProperties({minw:t.stack.env.CD_minw||r.harrowsize,minh:t.stack.env.CD_minh||r.varrowsize}),s.arraydef={columnalign:"center",columnspacing:r.colspace,rowspacing:r.rowspace,displaystyle:!0},s},arrow(t,e){const s=t.string.charAt(t.i);if(!s.match(/[><VA.|=]/))return Vx(t,e);t.i++;let r=t.stack.Top();r.isKind("array")&&!r.Size()||(mE.cell(t,e),r=t.stack.Top());const i=r,n=i.table.length%2==1;let o,a=(i.row.length+(n?0:1))%2;for(;a;)mE.cell(t,e),a--;const c={minsize:i.getProperty("minw"),stretchy:!0},l={minsize:i.getProperty("minh"),stretchy:!0,symmetric:!0,lspace:0,rspace:0};if("|"===s)o=t.create("token","mo",l,"\u2225");else if("="===s)o=t.create("token","mo",c,"=");else if("."!==s){const r={">":"\u2192","<":"\u2190",V:"\u2193",A:"\u2191"}[s];let n=t.GetUpTo(e+s,s);const a=t.GetUpTo(e+s,s);if(">"===s||"<"===s){o=t.create("token","mo",c,r),n||(n="\\kern "+i.getProperty("minw"));const e={width:"+.67em",lspace:".33em"};o=t.create("node","munderover",[o]);const s=new yb(n,t.stack.env,t.configuration).mml(),l=t.create("node","mpadded",[s],e);if(rb.setAttribute(l,"voffset",".1em"),rb.setChild(o,o.over,l),a){const s=new yb(a,t.stack.env,t.configuration).mml();rb.setChild(o,o.under,t.create("node","mpadded",[s],e))}t.configuration.options.amscd.hideHorizontalLabels&&(o=t.create("node","mpadded",[o],{depth:0,height:".67em"}))}else{const e=t.create("token","mo",l,r);o=e,(n||a)&&(o=t.create("node","mrow"),n&&rb.appendChildren(o,[new yb("\\scriptstyle\\llap{"+n+"}",t.stack.env,t.configuration).mml()]),e.texClass=Yi.ORD,rb.appendChildren(o,[e]),a&&rb.appendChildren(o,[new yb("\\scriptstyle\\rlap{"+a+"}",t.stack.env,t.configuration).mml()]))}}o&&t.Push(o),mE.cell(t,e)},cell(t,e){const s=t.stack.Top();(s.table||[]).length%2==0&&0===(s.row||[]).length&&t.Push(t.create("node","mpadded",[],{height:"8.5pt",depth:"2pt"})),t.Push(t.itemFactory.create("cell").setProperties({isEntry:!0,name:e}))},minCDarrowwidth(t,e){t.stack.env.CD_minw=t.GetDimen(e)},minCDarrowheight(t,e){t.stack.env.CD_minh=t.GetDimen(e)}},fE=mE;new Qb("amscd_environment",Hx.environment,{CD:fE.CD}),new Yb("amscd_macros",{minCDarrowwidth:fE.minCDarrowwidth,minCDarrowheight:fE.minCDarrowheight}),new Kb("amscd_special",{"@":fE.arrow});const gE=rx.create("amscd",{[hb.HANDLER]:{[db.CHARACTER]:["amscd_special"],[db.MACRO]:["amscd_macros"],[db.ENVIRONMENT]:["amscd_environment"]},[hb.OPTIONS]:{amscd:{colspace:"5pt",rowspace:"5pt",harrowsize:"2.75em",varrowsize:"1.75em",hideHorizontalLabels:!1}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/amscd",jr,"tex-extension"),Vr({_:{input:{tex:{amscd:{AmsCdConfiguration:Ys,AmsCdMethods:Ks}}}}});function bE(t){return t}function xE(t){return t}new Yb("bbox",{bbox:{BBox(t,e){const s=t.GetBrackets(e,"");let r=t.ParseArg(e);const i=s.split(/,/);let n,o,a;for(let t=0,s=i.length;t<s;t++){const s=i[t].trim(),r=s.match(/^(\.\d+|\d+(\.\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);if(r){if(n)throw new gb("MultipleBBoxProperty","%1 specified twice in %2","Padding",e);const t=xE(r[1]+r[3]);t&&(n={height:"+"+t,depth:"+"+t,lspace:t,width:"+"+2*parseInt(r[1],10)+r[3]})}else if(s.match(/^([a-z0-9]+|#[0-9a-f]{6}|#[0-9a-f]{3})$/i)){if(o)throw new gb("MultipleBBoxProperty","%1 specified twice in %2","Background",e);o=s}else if(s.match(/^[-a-z]+:/i)){if(a)throw new gb("MultipleBBoxProperty","%1 specified twice in %2","Style",e);a=bE(s)}else if(""!==s)throw new gb("InvalidBBoxProperty",'"%1" doesn\'t look like a color, a padding dimension, or a style',s)}n&&(r=t.create("node","mpadded",[r],n)),(o||a)&&(n={},o&&Object.assign(n,{mathbackground:o}),a&&Object.assign(n,{style:a}),r=t.create("node","mstyle",[r],n)),t.Push(r)}}.BBox});const EE=rx.create("bbox",{[hb.HANDLER]:{[db.MACRO]:["bbox"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/bbox",jr,"tex-extension"),Vr({_:{input:{tex:{bbox:{BboxConfiguration:Qs}}}}});const yE={};yE[Eb.Variant.NORMAL]=Eb.Variant.BOLD,yE[Eb.Variant.ITALIC]=Eb.Variant.BOLDITALIC,yE[Eb.Variant.FRAKTUR]=Eb.Variant.BOLDFRAKTUR,yE[Eb.Variant.SCRIPT]=Eb.Variant.BOLDSCRIPT,yE[Eb.Variant.SANSSERIF]=Eb.Variant.BOLDSANSSERIF,yE["-tex-calligraphic"]="-tex-bold-calligraphic",yE["-tex-oldstyle"]="-tex-bold-oldstyle",yE["-tex-mathit"]=Eb.Variant.BOLDITALIC;const NE={Boldsymbol(t,e){const s=t.stack.env.boldsymbol;t.stack.env.boldsymbol=!0;const r=t.ParseArg(e);t.stack.env.boldsymbol=s,t.Push(r)}};function _E(t,e,s,r){const i=wb.createToken(t,e,s,r);return"mtext"!==e&&t.configuration.parser.stack.env.boldsymbol&&(rb.setProperty(i,"fixBold",!0),t.configuration.addNode("fixBold",i)),i}function vE(t){for(const e of t.data.getList("fixBold"))if(rb.getProperty(e,"fixBold")){const t=rb.getAttribute(e,"mathvariant");rb.setAttribute(e,"mathvariant",yE[t]||t),rb.removeProperties(e,"fixBold")}}new Yb("boldsymbol",{boldsymbol:NE.Boldsymbol});const wE=rx.create("boldsymbol",{[hb.HANDLER]:{[db.MACRO]:["boldsymbol"]},[hb.NODES]:{token:_E},[hb.POSTPROCESSORS]:[vE]});MathJax.loader&&MathJax.loader.checkVersion("[tex]/boldsymbol",jr,"tex-extension"),Vr({_:{input:{tex:{boldsymbol:{BoldsymbolConfiguration:Zs}}}}});const CE=Yo($o.thinmathspace);class kE extends xb{constructor(){super(...arguments),this.barNodes=[]}get kind(){return"braket"}get isOpen(){return!0}checkItem(t){return t.isKind("close")?t.getProperty("braketbar")?(this.barNodes.push(...super.toMml(!0,!0).childNodes),this.Clear(),xb.fail):[[this.factory.create("mml",this.toMml())],!0]:t.isKind("mml")?(this.Push(t.toMml()),this.getProperty("single")?[[this.toMml()],!0]:xb.fail):super.checkItem(t)}toMml(t=!0,e){let s=super.toMml(t,e);if(!t)return s;const r=this.getProperty("open"),i=this.getProperty("close");if(this.barNodes.length&&(s=this.create("node","inferredMrow",[...this.barNodes,s])),this.getProperty("stretchy"))return this.getProperty("space")&&(s=this.create("node","inferredMrow",[this.create("token","mspace",{width:CE}),s,this.create("token","mspace",{width:CE})])),Mb.fenced(this.factory.configuration,r,s,i);const n={fence:!0,stretchy:!1,symmetric:!0,texClass:Yi.OPEN},o=this.create("token","mo",n,r);n.texClass=Yi.CLOSE;const a=this.create("token","mo",n,i);return this.create("node","mrow",[o,s,a],{open:r,close:i})}}const AE={Braket(t,e,s,r,i,n,o=!1){const a=t.GetNext();if(""===a)throw new gb("MissingArgFor","Missing argument for %1",t.currentCS);let c=!0;"{"===a&&(t.i++,c=!1);const l=t.itemFactory.create("braket");l.setProperties({barcount:0,barmax:n,open:s,close:r,stretchy:i,single:c,space:o}),t.Push(l),l.env.braketItem=t.stack.height-1},Bar(t,e){let s="|"===e?"|":"\u2016";const r=t.stack.height-t.stack.env.braketItem,i=t.stack.Top(r);if(!i||!i.isKind("braket")||i.getProperty("barcount")>=i.getProperty("barmax"))return!1;if("|"===s&&"|"===t.GetNext()&&(t.i++,s="\u2016"),!i.getProperty("stretchy")){const e=t.create("token","mo",{stretchy:!1,"data-braketbar":!0,texClass:Yi.ORD},s);return t.Push(e),!0}const n=t.itemFactory.create("close").setProperty("braketbar",!0);return t.Push(n),i.barNodes.push(t.create("node","TeXAtom",[],{texClass:Yi.CLOSE}),t.create("token","mo",{stretchy:!0,"data-braketbar":!0,texClass:Yi.BIN},s),t.create("node","TeXAtom",[],{texClass:Yi.OPEN})),i.setProperty("barcount",i.getProperty("barcount")+1),!0},Macro:qx.Macro};new Yb("Braket-macros",{bra:[AE.Macro,"{\\langle {#1} \\vert}",1],ket:[AE.Macro,"{\\vert {#1} \\rangle}",1],braket:[AE.Braket,"\u27e8","\u27e9",!1,1/0],set:[AE.Braket,"{","}",!1,1],Bra:[AE.Macro,"{\\left\\langle {#1} \\right\\vert}",1],Ket:[AE.Macro,"{\\left\\vert {#1} \\right\\rangle}",1],Braket:[AE.Braket,"\u27e8","\u27e9",!0,1/0],Set:[AE.Braket,"{","}",!0,1,!0],ketbra:[AE.Macro,"{\\vert {#1} \\rangle\\langle {#2} \\vert}",2],Ketbra:[AE.Macro,"{\\left\\vert {#1} \\right\\rangle\\left\\langle {#2} \\right\\vert}",2],"|":AE.Bar}),new Kb("Braket-characters",{"|":AE.Bar});const TE=rx.create("braket",{[hb.HANDLER]:{[db.CHARACTER]:["Braket-characters"],[db.MACRO]:["Braket-macros"]},[hb.ITEMS]:{[kE.prototype.kind]:kE},[hb.PRIORITY]:3});MathJax.loader&&MathJax.loader.checkVersion("[tex]/braket",jr,"tex-extension"),Vr({_:{input:{tex:{braket:{BraketConfiguration:sr,BraketItems:tr,BraketMethods:er}}}}});let ME=null,SE=null;const LE=function(t){SE.root=t;const{w:e}=ME.outputJax.getBBox(SE,ME);return e},IE=function(t){let e=0;for(;t&&!rb.isType(t,"mtable");){if(rb.isType(t,"text"))return null;rb.isType(t,"mrow")?(t=t.childNodes[0],e=0):(t=t.parent.childNodes[e],e++)}return t},RE=function(t,e){return t.childNodes["up"===e?1:0].childNodes[0].childNodes[0].childNodes[0].childNodes[0]},OE=function(t,e){return t.childNodes[e].childNodes[0].childNodes[0]},PE=function(t){return OE(t,0)},DE=function(t){return OE(t,t.childNodes.length-1)},BE=function(t,e){return t.childNodes["up"===e?0:1].childNodes[0].childNodes[0].childNodes[0]},FE=function(t){for(;t&&!rb.isType(t,"mtd");)t=t.parent;return t},qE=function(t){return t.parent.childNodes[t.parent.childNodes.indexOf(t)+1]},jE=function(t){for(;t&&null==QE(t,"inference");)t=t.parent;return t},UE=function(t,e,s=!1){let r=0;if(t===e)return r;if(t!==e.parent){const i=t.childNodes,n=s?i.length-1:0;rb.isType(i[n],"mspace")&&(r+=LE(i[n])),t=e.parent}if(t===e)return r;const i=t.childNodes,n=s?i.length-1:0;return i[n]!==e&&(r+=LE(i[n])),r},HE=function(t,e=!1){const s=IE(t),r=BE(s,QE(s,"inferenceRule"));return UE(t,s,e)+(LE(s)-LE(r))/2},GE=function(t,e,s,r=!1){if(0===s)return;if(QE(e,"inferenceRule")||QE(e,"labelledRule")){const s=t.nodeFactory.create("node","mrow");e.parent.replaceChild(s,e),s.setChildren([e]),zE(e,s),e=s}const i=r?e.childNodes.length-1:0;let n=e.childNodes[i];rb.isType(n,"mspace")?rb.setAttribute(n,"width",pb.em(pb.dimen2em(rb.getAttribute(n,"width"))+s)):(n=t.nodeFactory.create("node","mspace",[],{width:pb.em(s)}),r?e.appendChild(n):(n.parent=e,e.childNodes.unshift(n)))},zE=function(t,e){["inference","proof","labelledRule"].forEach(s=>{const r=QE(t,s);null!=r&&(YE(e,s,r),ZE(t,s))})},WE=function(t,e,s,r,i){const n=t.nodeFactory.create("node","mspace",[],{width:pb.em(i)});if("left"===r){const t=e.childNodes[s].childNodes[0];n.parent=t,t.childNodes.unshift(n)}else e.childNodes[s].appendChild(n);YE(e.parent,"sequentAdjust_"+r,i)},VE=function(t,e){let s=e.pop();for(;e.length;){const r=e.pop(),[i,n]=XE(s,r);QE(s.parent,"axiom")&&(WE(t,i<0?s:r,0,"left",Math.abs(i)),WE(t,n<0?s:r,2,"right",Math.abs(n))),s=r}},XE=function(t,e){const s=LE(t.childNodes[2]),r=LE(e.childNodes[2]);return[LE(t.childNodes[0])-LE(e.childNodes[0]),s-r]},$E=function(t){SE=new t.document.options.MathItem("",null,t.math.display);const e=t.data;!function(t){const e=t.nodeLists.sequent;if(e)for(let s,r=e.length-1;s=e[r];r--){if(QE(s,"sequentProcessed")){ZE(s,"sequentProcessed");continue}const e=[];let r=jE(s);if(1===QE(r,"inference")){for(e.push(s);1===QE(r,"inference");){r=IE(r);const t=PE(RE(r,QE(r,"inferenceRule"))),i=QE(t,"inferenceRule")?BE(t,QE(t,"inferenceRule")):t;QE(i,"sequent")&&(s=i.childNodes[0],e.push(s),YE(s,"sequentProcessed",!0)),r=t}VE(t,e)}}}(e);const s=e.nodeLists.inference||[];let r=0;for(const t of s){const s=QE(t,"proof"),i=IE(t),n=RE(i,QE(i,"inferenceRule")),o=PE(n);let a=0;if(QE(o,"inference")){const s=HE(o);if(s){GE(e,o,-s);const r=UE(t,i,!1);GE(e,t,s-r),a=s-r}}const c=DE(n);if(null==QE(c,"inference"))continue;const l=HE(c,!0);GE(e,c,-l,!0);const h=UE(t,i,!0),d=(LE(i)-LE(n.parent))/2;let u;if(GE(e,t,d<a?-d:-a),r=Math.max(0,Math.max(0,r+l-h)-d),s||!(u=FE(t))){GE(e,QE(t,"proof")?t:t.parent,r,!0);continue}const p=qE(u);if(p){const t=e.nodeFactory.create("node","mspace",[],{width:pb.em(r)});p.appendChild(t),r=0;continue}jE(u)}},JE="bspr_",KE=RegExp("^"+JE),YE=function(t,e,s){rb.setProperty(t,JE+e,s)},QE=function(t,e){return rb.getProperty(t,JE+e)},ZE=function(t,e){t.removeProperty(JE+e)},ty=function(t){t.data.root.walkTree((t,e)=>{const s=[];t.getPropertyNames().forEach(e=>{e.match(KE)&&s.push(e+":"+t.getProperty(e))}),s.length&&rb.setAttribute(t,"semantics",s.join(";"))})},ey=function(t){if(ME=t.document,!("getBBox"in ME.outputJax))throw Error("The bussproofs extension requires an output jax with a getBBox() method")},sy=function(t){ME=null};class ry extends xb{constructor(){super(...arguments),this.leftLabel=null,this.rigthLabel=null,this.innerStack=new mb(this.factory,{},!0)}get kind(){return"proofTree"}checkItem(t){if(t.isKind("end")&&"prooftree"===t.getName()){const e=this.toMml();return YE(e,"proof",!0),[[this.factory.create("mml",e),t],!0]}if(t.isKind("stop"))throw new gb("EnvMissingEnd","Missing \\end{%1}",this.getName());return this.innerStack.Push(t),xb.fail}toMml(){const t=super.toMml(),e=this.innerStack.Top();if(e.isKind("start")&&!e.Size())return t;this.innerStack.Push(this.factory.create("stop"));const s=this.innerStack.Top().toMml();return this.create("node","mrow",[s,t],{})}}function iy(t,e){const s=Mb.internalMath(t,pb.trimSpaces(e),0);if(!s[0].childNodes[0].childNodes.length)return t.create("node","mrow",[]);const r=t.create("node","mspace",[],{width:".5ex"}),i=t.create("node","mspace",[],{width:".5ex"});return t.create("node","mrow",[r,...s,i])}function ny(t,e,s,r,i,n,o){const a=t.create("node","mtr",[t.create("node","mtd",[e],{})],{}),c=t.create("node","mtr",[t.create("node","mtd",s,{})],{});let l,h,d,u,p=t.create("node","mtable",o?[c,a]:[a,c],{align:"top 2",rowlines:n,framespacing:"0 0"});if(YE(p,"inferenceRule",o?"up":"down"),r&&(l=t.create("node","mpadded",[r],{height:".25em",depth:"+.25em",width:"+.5ex",voffset:"-.25em"}),YE(l,"prooflabel","left")),i&&(h=t.create("node","mpadded",[i],{height:"-.25em",depth:"+.25em",width:"+.5ex",voffset:"-.25em",lspace:".5ex"}),YE(h,"prooflabel","right")),r&&i)d=[l,p,h],u="both";else if(r)d=[l,p],u="left";else{if(!i)return p;d=[p,h],u="right"}return p=t.create("node","mrow",d),YE(p,"labelledRule",u),p}function oy(t,e){if("$"!==t.GetNext())throw new gb("IllegalUseOfCommand","Use of %1 does not match its definition.",e);t.i++;const s=t.GetUpTo(e,"$");if(!s.includes("\\fCenter"))throw new gb("MissingProofCommand","Missing %1 in %2.","\\fCenter",e);const[r,i]=s.split("\\fCenter"),n=new yb(r,t.stack.env,t.configuration).mml(),o=new yb(i,t.stack.env,t.configuration).mml(),a=new yb("\\fCenter",t.stack.env,t.configuration).mml(),c=t.create("node","mtd",[n],{}),l=t.create("node","mtd",[a],{}),h=t.create("node","mtd",[o],{}),d=t.create("node","mtr",[c,l,h],{}),u=t.create("node","mtable",[d],{columnspacing:".5ex",columnalign:"center 2"});return YE(u,"sequent",!0),t.configuration.addNode("sequent",d),u}const ay={Prooftree(t,e){t.Push(e);return t.itemFactory.create("proofTree").setProperties({name:e.getName(),line:"solid",currentLine:"solid",rootAtTop:!1})},Axiom(t,e){const s=t.stack.Top();if("proofTree"!==s.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");const r=iy(t,t.GetArgument(e));YE(r,"axiom",!0),s.Push(r)},Inference(t,e,s){const r=t.stack.Top();if("proofTree"!==r.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(r.Size()<s)throw new gb("BadProofTree","Proof tree badly specified.");const i=r.getProperty("rootAtTop"),n=1!==s||r.Peek()[0].childNodes.length?s:0,o=[];do{o.length&&o.unshift(t.create("node","mtd",[],{})),o.unshift(t.create("node","mtd",[r.Pop()],{rowalign:i?"top":"bottom"})),s--}while(s>0);const a=t.create("node","mtr",o,{}),c=t.create("node","mtable",[a],{framespacing:"0 0"}),l=iy(t,t.GetArgument(e)),h=r.getProperty("currentLine");h!==r.getProperty("line")&&r.setProperty("currentLine",r.getProperty("line"));const d=ny(t,c,[l],r.getProperty("left"),r.getProperty("right"),h,i);r.setProperty("left",null),r.setProperty("right",null),YE(d,"inference",n),t.configuration.addNode("inference",d),r.Push(d)},Label(t,e,s){const r=t.stack.Top();if("proofTree"!==r.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");const i=Mb.internalMath(t,t.GetArgument(e),0),n=i.length>1?t.create("node","mrow",i,{}):i[0];r.setProperty(s,n)},SetLine(t,e,s,r){const i=t.stack.Top();if("proofTree"!==i.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");i.setProperty("currentLine",s),r&&i.setProperty("line",s)},RootAtTop(t,e,s){const r=t.stack.Top();if("proofTree"!==r.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");r.setProperty("rootAtTop",s)},AxiomF(t,e){const s=t.stack.Top();if("proofTree"!==s.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");const r=oy(t,e);YE(r,"axiom",!0),s.Push(r)},FCenter(t,e){},InferenceF(t,e,s){const r=t.stack.Top();if("proofTree"!==r.kind)throw new gb("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(r.Size()<s)throw new gb("BadProofTree","Proof tree badly specified.");const i=r.getProperty("rootAtTop"),n=1!==s||r.Peek()[0].childNodes.length?s:0,o=[];do{o.length&&o.unshift(t.create("node","mtd",[],{})),o.unshift(t.create("node","mtd",[r.Pop()],{rowalign:i?"top":"bottom"})),s--}while(s>0);const a=t.create("node","mtr",o,{}),c=t.create("node","mtable",[a],{framespacing:"0 0"}),l=oy(t,e),h=r.getProperty("currentLine");h!==r.getProperty("line")&&r.setProperty("currentLine",r.getProperty("line"));const d=ny(t,c,[l],r.getProperty("left"),r.getProperty("right"),h,i);r.setProperty("left",null),r.setProperty("right",null),YE(d,"inference",n),t.configuration.addNode("inference",d),r.Push(d)}};new Yb("Bussproofs-macros",{AxiomC:ay.Axiom,UnaryInfC:[ay.Inference,1],BinaryInfC:[ay.Inference,2],TrinaryInfC:[ay.Inference,3],QuaternaryInfC:[ay.Inference,4],QuinaryInfC:[ay.Inference,5],RightLabel:[ay.Label,"right"],LeftLabel:[ay.Label,"left"],AXC:ay.Axiom,UIC:[ay.Inference,1],BIC:[ay.Inference,2],TIC:[ay.Inference,3],RL:[ay.Label,"right"],LL:[ay.Label,"left"],noLine:[ay.SetLine,"none",!1],singleLine:[ay.SetLine,"solid",!1],solidLine:[ay.SetLine,"solid",!1],dashedLine:[ay.SetLine,"dashed",!1],alwaysNoLine:[ay.SetLine,"none",!0],alwaysSingleLine:[ay.SetLine,"solid",!0],alwaysSolidLine:[ay.SetLine,"solid",!0],alwaysDashedLine:[ay.SetLine,"dashed",!0],rootAtTop:[ay.RootAtTop,!0],alwaysRootAtTop:[ay.RootAtTop,!0],rootAtBottom:[ay.RootAtTop,!1],alwaysRootAtBottom:[ay.RootAtTop,!1],fCenter:ay.FCenter,Axiom:ay.AxiomF,UnaryInf:[ay.InferenceF,1],BinaryInf:[ay.InferenceF,2],TrinaryInf:[ay.InferenceF,3],QuaternaryInf:[ay.InferenceF,4],QuinaryInf:[ay.InferenceF,5]}),new Qb("Bussproofs-environments",Hx.environment,{prooftree:[ay.Prooftree,null,!1]});const cy=rx.create("bussproofs",{[hb.HANDLER]:{[db.MACRO]:["Bussproofs-macros"],[db.ENVIRONMENT]:["Bussproofs-environments"]},[hb.ITEMS]:{[ry.prototype.kind]:ry},[hb.PREPROCESSORS]:[[ey,1]],[hb.POSTPROCESSORS]:[[sy,3],[ty,2],[$E,1]]});MathJax.loader&&MathJax.loader.checkVersion("[tex]/bussproofs",jr,"tex-extension"),Vr({_:{input:{tex:{bussproofs:{BussproofsConfiguration:or,BussproofsItems:ir,BussproofsMethods:nr,BussproofsUtil:rr}}}}});const ly={"data-arrowhead":1,color:1,mathcolor:1,background:1,mathbackground:1,"data-padding":1,"data-thickness":1},hy={Enclose(t,e){const s=t.GetArgument(e).replace(/,/g," "),r=t.GetBrackets(e,""),i=t.ParseArg(e),n=Mb.keyvalOptions(r,ly);n.notation=s,t.Push(t.create("node","menclose",[i],n))}};new Yb("enclose",{enclose:hy.Enclose});const dy=rx.create("enclose",{[hb.HANDLER]:{[db.MACRO]:["enclose"]}}),uy={Cancel(t,e,s){const r=t.GetBrackets(e,""),i=t.ParseArg(e),n=Mb.keyvalOptions(r,ly);n.notation=s,t.Push(t.create("node","menclose",[i],n))},CancelTo(t,e){const s=t.GetBrackets(e,"");let r=t.ParseArg(e);const i=t.ParseArg(e),n=Mb.keyvalOptions(s,ly);n.notation=[Eb.Notation.UPDIAGONALSTRIKE,Eb.Notation.UPDIAGONALARROW,Eb.Notation.NORTHEASTARROW].join(" "),r=t.create("node","mpadded",[r],{depth:"-.1em",height:"+.1em",voffset:".1em"}),t.Push(t.create("node","msup",[t.create("node","menclose",[i],n),r]))}};new Yb("cancel",{cancel:[uy.Cancel,Eb.Notation.UPDIAGONALSTRIKE],bcancel:[uy.Cancel,Eb.Notation.DOWNDIAGONALSTRIKE],xcancel:[uy.Cancel,Eb.Notation.UPDIAGONALSTRIKE+" "+Eb.Notation.DOWNDIAGONALSTRIKE],cancelto:uy.CancelTo});const py=rx.create("cancel",{[hb.HANDLER]:{[db.MACRO]:["cancel"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/cancel",jr,"tex-extension"),Vr({_:{input:{tex:{cancel:{CancelConfiguration:cr}}}}});const my={splitOptions:(t,e=null)=>Mb.keyvalOptions(t,e,!0),columnCount(t){let e=0;for(const s of t.childNodes){const t=s.childNodes.length-(s.isKind("mlabeledtr")?1:0);t>e&&(e=t)}return e},cellBlock(t,e,s,r){const i=s.create("node","mpadded",[],{height:0,depth:0,voffset:"-1height"}),n=new yb(t,s.stack.env,s.configuration),o=n.mml();r&&n.configuration.tags.label&&(n.configuration.tags.currentTag.env=r,n.configuration.tags.getTag(!0));for(const t of o.isInferred?o.childNodes:[o])i.appendChild(t);return i.appendChild(s.create("node","mphantom",[s.create("node","mpadded",[e],{width:0})])),i},topRowTable(t,e){const s=Mb.copyNode(t,e);return s.setChildren(s.childNodes.slice(0,1)),s.attributes.set("align","baseline 1"),t.factory.create("mphantom",{},[e.create("node","mpadded",[s],{width:0})])},rowspanCell(t,e,s,r,i){t.appendChild(r.create("node","mpadded",[this.cellBlock(e,Mb.copyNode(s,r),r,i),this.topRowTable(s,r)],{height:0,depth:0,voffset:"height"}))},left(t,e,s,r,i=""){let n;t.attributes.set("columnalign","right "+t.attributes.get("columnalign")),t.attributes.set("columnspacing","0em "+t.attributes.get("columnspacing")),0===t.childNodes.length&&t.appendChild(r.create("node","mtr"));for(const e of t.childNodes.slice(0).reverse())n=r.create("node","mtd"),e.childNodes.unshift(n),n.parent=e,e.isKind("mlabeledtr")&&(e.childNodes[0]=e.childNodes[1],e.childNodes[1]=n);this.rowspanCell(n,s,e,r,i)},right(t,e,s,r,i=""){0===t.childNodes.length&&t.appendChild(r.create("node","mtr"));const n=t.childNodes[0],o=my.columnCount(t)+(n.isKind("mlabeledtr")?1:0);for(;n.childNodes.length<o;)n.appendChild(r.create("node","mtd"));const a=n.appendChild(r.create("node","mtd"));my.rowspanCell(a,s,e,r,i),t.attributes.set("columnalign",(t.attributes.get("columnalign")||"").split(/ /).slice(0,o).join(" ")+" left"),t.attributes.set("columnspacing",t.attributes.get("columnspacing").split(/ /).slice(0,o-1).join(" ")+" 0em")},adjustTable(t,e){const s=t.getProperty("left"),r=t.getProperty("right");if(s||r){const i=t.Last,n=Mb.copyNode(i,e);s&&this.left(i,n,s,e),r&&this.right(i,n,r,e)}},allowEnv:{equation:!0,align:!0,gather:!0,flalign:!0,alignat:!0,multline:!0},checkEnv(t){return Object.hasOwn(this.allowEnv,t.replace(/\*$/,""))||!1}};class fy extends Ex{get kind(){return"cases-begin"}checkItem(t){return t.isKind("end")&&t.getName()===this.getName()&&this.getProperty("end")?(this.setProperty("end",!1),[[],!0]):super.checkItem(t)}}class gy extends hE{constructor(){super(...arguments),this.subcounter=0}start(t,e,s){this.subcounter=0,super.start(t,e,s)}autoTag(){null==this.currentTag.tag&&("subnumcases"===this.currentTag.env?(0===this.subcounter&&this.counter++,this.subcounter++,this.tag(this.formatNumber(this.counter,this.subcounter),!1)):("numcases-left"!==this.currentTag.env&&this.counter++,this.tag(this.formatNumber(this.counter),!1)))}formatNumber(t,e=null){return t.toString()+(null===e?"":String.fromCharCode(96+e))}}const by={NumCases(t,e){if(t.stack.env.closing===e.getName()){delete t.stack.env.closing,t.Push(t.itemFactory.create("end").setProperty("name",e.getName()));const s=t.stack.Top(),r=s.Last,i=Mb.copyNode(r,t),n=s.getProperty("left");return my.left(r,i,n+"\\mmlToken{mo}{\\U{7B}}\\,",t,"numcases-left"),t.Push(t.itemFactory.create("end").setProperty("name",e.getName())),null}{const s=t.GetArgument("\\begin{"+e.getName()+"}");e.setProperty("left",s);const r=qx.EqnArray(t,e,!0,!0,"ll","tt");return r.arraydef.displaystyle=!1,r.arraydef.rowspacing=".2em",r.setProperty("numCases",!0),t.Push(e),r}},Entry(t,e){if(!t.stack.Top().getProperty("numCases"))return qx.Entry(t,e);t.Push(t.itemFactory.create("cell").setProperties({isEntry:!0,name:e}));const s=t.string;let r=0,i=t.i;const n=s.length;for(;i<n;){const t=s.charAt(i);if("{"===t)r++,i++;else if("}"===t){if(0===r)break;r--,i++}else{if("&"===t&&0===r)throw new gb("ExtraCasesAlignTab","Extra alignment tab in text for numcase environment");if("\\"===t&&0===r){const t=(s.slice(i+1).match(/^[a-z]+|./i)||[])[0];if("\\"===t||"cr"===t||"end"===t||"label"===t||void 0===t)break;i+=t.length}else i++}}const o=s.substring(t.i,i).replace(/^\s*/,"");return t.PushAll(Mb.internalMath(t,o,0)),t.i=i,null},environment(t,e,s,r){const i=t.itemFactory.create("cases-begin").setProperties({name:e,end:!0});t.Push(s(t,i,...r))}};new Qb("cases-env",by.environment,{numcases:[by.NumCases,"cases"],subnumcases:[by.NumCases,"cases"]}),new Kb("cases-macros",{"&":by.Entry});const xy=rx.create("cases",{[hb.HANDLER]:{[db.ENVIRONMENT]:["cases-env"],[db.CHARACTER]:["cases-macros"]},[hb.ITEMS]:{[fy.prototype.kind]:fy},[hb.TAGS]:{cases:gy}});function Ey({data:t}){for(const e of t.getList("centerOver")){const t=rb.getTexClass(e.childNodes[0].childNodes[0]);null!==t&&rb.setProperties(e.parent.parent.parent.parent.parent.parent,{texClass:t})}}MathJax.loader&&MathJax.loader.checkVersion("[tex]/cases",jr,"tex-extension"),Vr({_:{input:{tex:{cases:{CasesConfiguration:lr}}}}}),new Yb("centernot",{centerOver:function(t,e){const s="{"+t.GetArgument(e)+"}",r=t.ParseArg(e),i=new yb(s,t.stack.env,t.configuration).mml(),n=t.create("node","TeXAtom",[new yb(s,t.stack.env,t.configuration).mml(),t.create("node","mpadded",[t.create("node","mpadded",[r],{width:0,lspace:"-.5width"}),t.create("node","mphantom",[i])],{width:0,lspace:"-.5width"})]);t.configuration.addNode("centerOver",i),t.Push(n)},centernot:[qx.Macro,"\\centerOver{#1}{{\u29f8}}",1]});const yy=rx.create("centernot",{[hb.HANDLER]:{macro:["centernot"]},[hb.POSTPROCESSORS]:[Ey]});function Ny(t){const e=`+${t}`,s=t.replace(/^.*?([a-z]*)$/,"$1");return{width:`+${2*parseFloat(e)}${s}`,height:e,depth:e,lspace:t}}MathJax.loader&&MathJax.loader.checkVersion("[tex]/centernot",jr,"tex-extension"),Vr({_:{input:{tex:{centernot:{CenternotConfiguration:hr}}}}});const _y={Color(t,e){const s=t.GetBrackets(e,""),r=t.GetArgument(e),i=t.configuration.packageData.get("color").model.getColor(s,r),n=t.itemFactory.create("style").setProperties({styles:{mathcolor:i}});t.stack.env.color=i,t.Push(n)},TextColor(t,e){const s=t.GetBrackets(e,""),r=t.GetArgument(e),i=t.configuration.packageData.get("color").model.getColor(s,r),n=t.stack.env.color;t.stack.env.color=i;const o=t.ParseArg(e);n?t.stack.env.color=n:delete t.stack.env.color;const a=t.create("node","mstyle",[o],{mathcolor:i});t.Push(a)},DefineColor(t,e){const s=t.GetArgument(e),r=t.GetArgument(e),i=t.GetArgument(e);t.configuration.packageData.get("color").model.defineColor(r,s,i),t.Push(t.itemFactory.create("null"))},ColorBox(t,e){const s=t.GetBrackets(e,""),r=t.GetArgument(e),i=Mb.internalMath(t,t.GetArgument(e)),n=t.configuration.packageData.get("color").model,o=t.create("node","mpadded",i,{mathbackground:n.getColor(s,r)});rb.setProperties(o,Ny(t.options.color.padding)),t.Push(o)},FColorBox(t,e){const s=t.GetBrackets(e,""),r=t.GetArgument(e),i=t.GetBrackets(e,s),n=t.GetArgument(e),o=Mb.internalMath(t,t.GetArgument(e)),a=t.options.color,c=t.configuration.packageData.get("color").model,l=t.create("node","mpadded",o,{mathbackground:c.getColor(i,n),style:`border: ${a.borderWidth} solid ${c.getColor(s,r)}`});rb.setProperties(l,Ny(a.padding)),t.Push(l)}},vy=new Map([["Apricot","#FBB982"],["Aquamarine","#00B5BE"],["Bittersweet","#C04F17"],["Black","#221E1F"],["Blue","#2D2F92"],["BlueGreen","#00B3B8"],["BlueViolet","#473992"],["BrickRed","#B6321C"],["Brown","#792500"],["BurntOrange","#F7921D"],["CadetBlue","#74729A"],["CarnationPink","#F282B4"],["Cerulean","#00A2E3"],["CornflowerBlue","#41B0E4"],["Cyan","#00AEEF"],["Dandelion","#FDBC42"],["DarkOrchid","#A4538A"],["Emerald","#00A99D"],["ForestGreen","#009B55"],["Fuchsia","#8C368C"],["Goldenrod","#FFDF42"],["Gray","#949698"],["Green","#00A64F"],["GreenYellow","#DFE674"],["JungleGreen","#00A99A"],["Lavender","#F49EC4"],["LimeGreen","#8DC73E"],["Magenta","#EC008C"],["Mahogany","#A9341F"],["Maroon","#AF3235"],["Melon","#F89E7B"],["MidnightBlue","#006795"],["Mulberry","#A93C93"],["NavyBlue","#006EB8"],["OliveGreen","#3C8031"],["Orange","#F58137"],["OrangeRed","#ED135A"],["Orchid","#AF72B0"],["Peach","#F7965A"],["Periwinkle","#7977B8"],["PineGreen","#008B72"],["Plum","#92268F"],["ProcessBlue","#00B0F0"],["Purple","#99479B"],["RawSienna","#974006"],["Red","#ED1B23"],["RedOrange","#F26035"],["RedViolet","#A1246B"],["Rhodamine","#EF559F"],["RoyalBlue","#0071BC"],["RoyalPurple","#613F99"],["RubineRed","#ED017D"],["Salmon","#F69289"],["SeaGreen","#3FBC9D"],["Sepia","#671800"],["SkyBlue","#46C5DD"],["SpringGreen","#C6DC67"],["Tan","#DA9D76"],["TealBlue","#00AEB3"],["Thistle","#D883B7"],["Turquoise","#00B4CE"],["Violet","#58429B"],["VioletRed","#EF58A0"],["White","#FFFFFF"],["WildStrawberry","#EE2967"],["Yellow","#FFF200"],["YellowGreen","#98CC70"],["YellowOrange","#FAA21A"]]),wy=new Map;class Cy{constructor(){this.userColors=new Map}normalizeColor(t,e){if(!t||"named"===t){if(e.match(/;/))throw new gb("BadColorValue","Invalid color value");return e}if(wy.has(t)){return wy.get(t)(e)}throw new gb("UndefinedColorModel","Color model '%1' not defined",t)}getColor(t,e){return t&&"named"!==t?this.normalizeColor(t,e):this.getColorByName(e)}getColorByName(t){if(this.userColors.has(t))return this.userColors.get(t);if(vy.has(t))return vy.get(t);if(t.match(/;/))throw new gb("BadColorValue","Invalid color value");return t}defineColor(t,e,s){const r=this.normalizeColor(t,s);this.userColors.set(e,r)}}wy.set("rgb",function(t){const e=t.trim().split(/\s*,\s*/);let s="#";if(3!==e.length)throw new gb("ModelArg1","Color values for the %1 model require 3 numbers","rgb");for(const t of e){if(!t.match(/^(\d+(\.\d*)?|\.\d+)$/))throw new gb("InvalidDecimalNumber","Invalid decimal number");const e=parseFloat(t);if(e<0||e>1)throw new gb("ModelArg2","Color values for the %1 model must be between %2 and %3","rgb","0","1");let r=Math.floor(255*e).toString(16);r.length<2&&(r="0"+r),s+=r}return s}),wy.set("RGB",function(t){const e=t.trim().split(/\s*,\s*/);let s="#";if(3!==e.length)throw new gb("ModelArg1","Color values for the %1 model require 3 numbers","RGB");for(const t of e){if(!t.match(/^\d+$/))throw new gb("InvalidNumber","Invalid number");const e=parseInt(t);if(e>255)throw new gb("ModelArg2","Color values for the %1 model must be between %2 and %3","RGB","0","255");let r=e.toString(16);r.length<2&&(r="0"+r),s+=r}return s}),wy.set("gray",function(t){if(!t.match(/^\s*(\d+(\.\d*)?|\.\d+)\s*$/))throw new gb("InvalidDecimalNumber","Invalid decimal number");const e=parseFloat(t);if(e<0||e>1)throw new gb("ModelArg2","Color values for the %1 model must be between %2 and %3","gray","0","1");let s=Math.floor(255*e).toString(16);return s.length<2&&(s="0"+s),`#${s}${s}${s}`}),new Yb("color",{color:_y.Color,textcolor:_y.TextColor,definecolor:_y.DefineColor,colorbox:_y.ColorBox,fcolorbox:_y.FColorBox});const ky=rx.create("color",{[hb.HANDLER]:{[db.MACRO]:["color"]},[hb.OPTIONS]:{color:{padding:"5px",borderWidth:"2px"}},[hb.CONFIG]:function(t,e){e.parseOptions.packageData.set("color",{model:new Cy})}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/color",jr,"tex-extension"),Vr({_:{input:{tex:{color:{ColorConfiguration:mr,ColorConstants:ur,ColorMethods:dr,ColorUtil:pr}}}}});class Ay extends Mx{constructor(){super(...arguments),this.color={cell:"",row:"",col:[]},this.hasColor=!1}EndEntry(){super.EndEntry();const t=this.row[this.row.length-1],e=this.color.cell||this.color.row||this.color.col[this.row.length-1];e&&(t.attributes.set("mathbackground",e),this.color.cell="",this.hasColor=!0)}EndRow(){super.EndRow(),this.color.row=""}createMml(){const t=super.createMml();let e=t.isKind("mrow")?t.childNodes[1]:t;if(e.isKind("mstyle")&&(e=e.childNodes[0].childNodes[0]),e.isKind("menclose")&&(e=e.childNodes[0].childNodes[0]),this.hasColor){const t=e.attributes;"none"===t.get("frame")&&void 0===t.get("data-frame-styles")&&t.set("data-frame-styles","")}return t}}function Ty(t,e,s){const r=t.configuration.packageData.get("color").model,i=t.GetBrackets(e,""),n=r.getColor(i,t.GetArgument(e)),o=t.stack.Top();if(!(o instanceof Ay))throw new gb("UnsupportedTableColor","Unsupported use of %1",t.currentCS);if("col"===s){if(o.table.length&&o.color.col[o.row.length]!==n)throw new gb("ColumnColorNotTop","%1 must be in the top row or preamble",e);o.color.col[o.row.length]=n,t.GetBrackets(e,"")&&t.GetBrackets(e,"")}else if(o.color[s]=n,"row"===s&&(o.Size()||o.row.length))throw new gb("RowColorNotFirst","%1 must be at the beginning of a row",e)}new Yb("colortbl",{cellcolor:[Ty,"cell"],rowcolor:[Ty,"row"],columncolor:[Ty,"col"]});const My=rx.create("colortbl",{[hb.HANDLER]:{[db.MACRO]:["colortbl"]},[hb.ITEMS]:{array:Ay},[hb.PRIORITY]:10,[hb.CONFIG]:[function(t,e){e.parseOptions.packageData.has("color")||nx.get("color").config(t,e)},10]});MathJax.loader&&MathJax.loader.checkVersion("[tex]/colortbl",jr,"tex-extension"),Vr({_:{input:{tex:{colortbl:{ColortblConfiguration:fr}}}}});const Sy="configmacros-map",Ly="configmacros-active-map",Iy="configmacros-env-map";function Ry(t,e,s){const r=s.parseOptions.handlers.retrieve(e),i=s.parseOptions.options[t];for(const t of Object.keys(i)){const e="string"==typeof i[t]?[i[t]]:i[t],s=Array.isArray(e[2])?new Gb(t,aE.MacroWithTemplate,e.slice(0,2).concat(e[2])):new Gb(t,aE.Macro,e);r.add(t,s)}}const Oy=rx.create("configmacros",{[hb.INIT]:function(t){new Kb(Ly,{}),new Yb(Sy,{}),new Qb(Iy,Hx.environment,{}),t.append(rx.local({handler:{[db.CHARACTER]:[Ly],[db.MACRO]:[Sy],[db.ENVIRONMENT]:[Iy]},priority:3}))},[hb.CONFIG]:function(t,e){!function(t){Ry("active",Ly,t)}(e),function(t){Ry("macros",Sy,t)}(e),function(t){const e=t.parseOptions.handlers.retrieve(Iy),s=t.parseOptions.options.environments;for(const t of Object.keys(s))e.add(t,new Gb(t,aE.BeginEnv,[!0].concat(s[t])))}(e)},[hb.ITEMS]:{[nE.prototype.kind]:nE},[hb.OPTIONS]:{active:pi({}),macros:pi({}),environments:pi({})}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/configmacros",jr,"tex-extension"),Vr({_:{input:{tex:{configmacros:{ConfigMacrosConfiguration:gr}}}}}),MathJax.loader&&MathJax.loader.checkVersion("[tex]/enclose",jr,"tex-extension"),Vr({_:{input:{tex:{enclose:{EncloseConfiguration:ar}}}}});const Py={NewExtArrow(t,e){let s=t.GetArgument(e);const r=t.GetArgument(e),i=t.GetArgument(e);if(!s.match(/^\\([a-z]+|.)$/i))throw new gb("NewextarrowArg1","First argument to %1 must be a control sequence name",e);if(!r.match(/^(\d+),(\d+)$/))throw new gb("NewextarrowArg2","Second argument to %1 must be two integers separated by a comma",e);if(!i.match(/^(\d+|0x[0-9A-F]+)$/i))throw new gb("NewextarrowArg3","Third argument to %1 must be a unicode character number",e);s=s.substring(1);const n=r.split(",");eE.addMacro(t,s,Py.xArrow,[parseInt(i),parseInt(n[0]),parseInt(n[1])]),t.Push(t.itemFactory.create("null"))},xArrow:iE.xArrow};new Yb("extpfeil",{xtwoheadrightarrow:[Py.xArrow,8608,12,16],xtwoheadleftarrow:[Py.xArrow,8606,17,13],xmapsto:[Py.xArrow,8614,6,7],xlongequal:[Py.xArrow,61,7,7],xtofrom:[Py.xArrow,8644,12,12],Newextarrow:Py.NewExtArrow});const Dy=rx.create("extpfeil",{[hb.HANDLER]:{[db.MACRO]:["extpfeil"]},[hb.CONFIG]:cE});MathJax.loader&&MathJax.loader.checkVersion("[tex]/extpfeil",jr,"tex-extension"),Vr({_:{input:{tex:{extpfeil:{ExtpfeilConfiguration:br}}}}}),new $b("gensymb-symbols",function(t,e){const s=e.attributes||{};s.mathvariant=Eb.Variant.NORMAL,s.class="MathML-Unit";const r=t.create("token","mi",s,e.char);t.Push(r)},{ohm:"\u2126",degree:"\xb0",celsius:"\u2103",perthousand:"\u2030",micro:"\xb5"});const By=rx.create("gensymb",{[hb.HANDLER]:{[db.MACRO]:["gensymb-symbols"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/gensymb",jr,"tex-extension"),Vr({_:{input:{tex:{gensymb:{GensymbConfiguration:xr}}}}});const Fy=/[\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u;function qy(t){return!(t.match(/[\x00-\x1f\x7f-\x9f "'>/=]/)||t.match(Fy))}const jy={Data(t,e){const s=t.GetArgument(e),r=Uy(t,e),i=Mb.keyvalOptions(s);for(const t in i){if(!qy(t))throw new gb("InvalidHTMLAttr","Invalid HTML attribute: %1",`data-${t}`);rb.setAttribute(r,`data-${t}`,i[t])}t.Push(r)},Href(t,e){const s=t.GetArgument(e),r=Uy(t,e);rb.setAttribute(r,"href",s),t.Push(r)},Class(t,e){let s=t.GetArgument(e);const r=Uy(t,e),i=rb.getAttribute(r,"class");i&&(s=i+" "+s),rb.setAttribute(r,"class",s),t.Push(r)},Style(t,e){let s=t.GetArgument(e);const r=Uy(t,e);let i=rb.getAttribute(r,"style");i&&(";"!==i.charAt(s.length-1)&&(i+=";"),s=i+" "+s),rb.setAttribute(r,"style",s),t.Push(r)},Id(t,e){const s=t.GetArgument(e),r=Uy(t,e);rb.setAttribute(r,"id",s),t.Push(r)}},Uy=function(t,e){const s=t.ParseArg(e);if(!rb.isInferred(s))return s;const r=t.create("node","mrow");return rb.copyChildren(s,r),rb.copyAttributes(s,r),r},Hy=jy;new Yb("html_macros",{data:Hy.Data,href:Hy.Href,class:Hy.Class,style:Hy.Style,cssId:Hy.Id});const Gy=rx.create("html",{[hb.HANDLER]:{[db.MACRO]:["html_macros"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/html",jr,"tex-extension"),Vr({_:{input:{tex:{html:{HtmlConfiguration:yr,HtmlMethods:Er}}}}});const zy={setDisplayLevel(t,e){if(!e)return;const[s,r]=vi(e,{"\\displaystyle":[!0,0],"\\textstyle":[!1,0],"\\scriptstyle":[!1,1],"\\scriptscriptstyle":[!1,2]},[null,null]);null!==s&&(t.attributes.set("displaystyle",s),t.attributes.set("scriptlevel",r))},checkAlignment(t,e){const s=t.stack.Top();if(s.kind!==Sx.prototype.kind)throw new gb("NotInAlignment","%1 can only be used in aligment environments",e);return s},addPairedDelims(t,e,s){if(t.configuration.handlers.get(db.MACRO).contains(e))throw new gb("CommadExists","Command %1 already defined",`\\${e}`);eE.addMacro(t,e,Xy.PairedDelimiters,s)},spreadLines(t,e){if(!t.isKind("mtable"))return;let s=t.attributes.get("rowspacing");const r=pb.dimen2em(e);s=s.split(/ /).map(t=>pb.em(Math.max(0,pb.dimen2em(t)+r))).join(" "),t.attributes.set("rowspacing",s)},plusOrMinus(t,e){if(!(e=e.trim()).match(/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)$/))throw new gb("NotANumber","Argument to %1 is not a number",t);return e.match(/^[-+]/)?e:"+"+e},getScript(t,e,s){let r=pb.trimSpaces(t.GetArgument(e));if(""===r)return t.create("node","none");const i=t.options.mathtools[`prescript-${s}-format`];i&&(r=`${i}{${r}}`);const n=new yb(r,t.stack.env,t.configuration).mml();return n.isKind("TeXAtom")&&0===n.childNodes[0].childNodes.length?t.create("node","none"):n}},Wy={[db.MACRO]:["mathtools-legacycolonsymbols"]},Vy=Qr.DEFAULTPRIORITY-1,Xy={MtMatrix(t,e,s,r){const i=t.GetBrackets(`\\begin{${e.getName()}}`,"c");return Xy.Array(t,e,s,r,i)},MtSmallMatrix:(t,e,s,r,i)=>(i||(i=t.GetBrackets(`\\begin{${e.getName()}}`,t.options.mathtools["smallmatrix-align"])),Xy.Array(t,e,s,r,i,pb.em(1/3),".2em","S",1)),MtMultlined(t,e){const s=`\\begin{${e.getName()}}`;let r=t.options.mathtools["multlined-pos"]||"c",i=t.options.mathtools["multlined-width"]||"";if(!t.nextIsSpace()){const e=t.GetBrackets(s,r);if(e.match(/^[ctb]$/)?(r=e,i=t.nextIsSpace()?"":t.GetBrackets(s,"")):i=e,i&&!pb.matchDimen(i)[0])throw new gb("BadWidth","Width for %1 must be a dimension",s)}t.Push(e);const n=t.itemFactory.create("multlined",t,e);return n.arraydef={displaystyle:!0,rowspacing:".5em",width:i||"auto",columnwidth:"100%"},Mb.setArrayAlign(n,r)},HandleShove(t,e,s){const r=t.stack.Top();if("multline"!==r.kind&&"multlined"!==r.kind)throw new gb("CommandInMultlined","%1 can only appear within the multline or multlined environments",e);if(r.Size())throw new gb("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",e);r.setProperty("shove",s);const i=t.GetBrackets(e);let n=t.ParseArg(e);if(i){const e=t.create("node","mrow",[]),r=t.create("node","mspace",[],{width:i});"left"===s?(e.appendChild(r),e.appendChild(n)):(e.appendChild(n),e.appendChild(r)),n=e}t.Push(n)},SpreadLines(t,e){if(t.stack.env.closing===e.getName()){delete t.stack.env.closing;const e=t.stack.Pop(),s=e.toMml(),r=e.getProperty("spread");if(s.isInferred)for(const t of rb.getChildren(s))zy.spreadLines(t,r);else zy.spreadLines(s,r);t.Push(s)}else{const s=t.GetDimen(`\\begin{${e.getName()}}`);e.setProperty("spread",s),e.setProperty("nestStart",!0),Mb.checkEqnEnv(t),t.Push(e)}},Cases(t,e,s,r,i){const n=t.itemFactory.create("array").setProperty("casesEnv",e.getName());return n.arraydef={rowspacing:".2em",columnspacing:"1em",columnalign:"left"},"D"===i&&(n.arraydef.displaystyle=!0),n.setProperties({open:s,close:r}),t.Push(e),n},MathLap(t,e,s,r){const i=t.GetBrackets(e,"").trim(),n=t.create("node","mstyle",[t.create("node","mpadded",[t.ParseArg(e)],Object.assign({width:0},"r"===s?{}:{lspace:"l"===s?"-1width":"-.5width"}))],{"data-cramped":r});zy.setDisplayLevel(n,i),t.Push(t.create("node","TeXAtom",[n]))},Cramped(t,e){const s=t.GetBrackets(e,"").trim(),r=t.ParseArg(e),i=t.create("node","mstyle",[r],{"data-cramped":!0});zy.setDisplayLevel(i,s),t.Push(i)},MtLap(t,e,s){const r=Mb.internalMath(t,t.GetArgument(e),0),i=t.create("node","mpadded",r,{width:0});"r"!==s&&rb.setAttribute(i,"lspace","l"===s?"-1width":"-.5width"),t.Push(i)},MathMakeBox(t,e){const s=t.GetBrackets(e),r=t.GetBrackets(e,"c"),i=t.create("node","mpadded",[t.ParseArg(e)]);s&&rb.setAttribute(i,"width",s);const n=vi(r.toLowerCase(),{c:"center",r:"right"},"");n&&rb.setAttribute(i,"data-align",n),r.toLowerCase()!==r&&rb.setAttribute(i,"data-overflow","linebreak"),t.Push(i)},MathMBox(t,e){t.Push(t.create("node","mrow",[t.ParseArg(e)]))},UnderOverBracket(t,e){const s=Jo(t.GetBrackets(e,".1em"),.1),r=t.GetBrackets(e,".2em"),i=t.GetArgument(e),[n,o,a]="o"===e.charAt(1)?["over","accent","bottom"]:["under","accentunder","top"],c=Yo(s),l=new yb(i,t.stack.env,t.configuration).mml(),h=new yb(i,t.stack.env,t.configuration).mml(),d=t.create("node","mpadded",[t.create("node","mphantom",[h])],{style:`border: ${c} solid; border-${a}: none`,height:r,depth:0}),u=Mb.underOver(t,l,d,n,!0),p=rb.getChildAt(rb.getChildAt(u,0),0);rb.setAttribute(p,o,!0),t.Push(u)},Aboxed(t,e,s="boxed",r=!0){const i=zy.checkAlignment(t,e);i.row.length%2==1&&i.row.push(t.create("node","mtd",[]));const n=t.GetArgument(e),o=t.string.substring(t.i);t.string=n+"&&\\endAboxed",t.i=0;const a=t.GetUpTo(e,"&"),c=t.GetUpTo(e,"&");t.GetUpTo(e,"\\endAboxed");const[l,h]=r?["",""]:["$\\displaystyle{","}$"],d=Mb.substituteArgs(t,[a,c],`\\rlap{\\${s}{${l}#1{}#2${h}}}\\kern.267em\\phantom{#1}&\\phantom{{}#2}\\kern.267em`);t.string=d+o,t.i=0},MakeAboxedCommand(t,e){const s=t.GetStar(),r=eE.GetCSname(t,e),i=eE.GetCSname(t,e+"\\"+r),n=t.configuration.handlers;if(n.get(db.MACRO).lookup(r))throw new gb("AlreadyDefined","%1 is already defined","\\"+r);n.retrieve(Zx.NEW_COMMAND).add(r,new Gb(r,Xy.Aboxed,[i,s])),t.Push(t.itemFactory.create("null"))},ArrowBetweenLines(t,e){const s=zy.checkAlignment(t,e);if(s.Size()||s.row.length)throw new gb("BetweenLines","%1 must be on a row by itself",e);const r=t.GetStar(),i=t.GetBrackets(e,"\\Updownarrow");r&&(s.EndEntry(),s.EndEntry());const n=new yb(r?"\\quad"+i:i+"\\quad",t.stack.env,t.configuration).mml();t.Push(n),s.EndEntry(),s.EndRow()},VDotsWithin(t,e){const s="\\mmlToken{mi}{}"+t.GetArgument(e)+"\\mmlToken{mi}{}",r=new yb(s,t.stack.env,t.configuration).mml(),i=t.create("node","mpadded",[t.create("node","mpadded",[t.create("node","mo",[t.create("text","\u22ee")])],{width:0,lspace:"-.5width"}),t.create("node","mphantom",[r])],{lspace:".5width"});t.Push(i)},ShortVDotsWithin(t,e){const s=t.stack.Top(),r=t.GetStar();s.EndEntry&&(Xy.FlushSpaceAbove(t,"\\MTFlushSpaceAbove"),r||s.EndEntry()),Xy.VDotsWithin(t,"\\vdotswithin"),s.EndEntry&&(r&&s.EndEntry(),Xy.FlushSpaceBelow(t,"\\MTFlushSpaceBelow"))},FlushSpaceAbove(t,e){const s=zy.checkAlignment(t,e);s.table&&(s.setProperty("flushspaceabove",s.table.length),s.addRowSpacing("-"+t.options.mathtools.shortvdotsadjustabove))},FlushSpaceBelow(t,e){const s=zy.checkAlignment(t,e);s.table&&(s.Size()&&s.EndEntry(),s.EndRow(),s.addRowSpacing("-"+t.options.mathtools.shortvdotsadjustbelow))},PairedDelimiters(t,e,s,r,i="#1",n=1,o="",a=""){const c=t.GetStar(),l=c?"":t.GetBrackets(e),[h,d,u]=c?["\\mathopen{\\left","\\right","}\\mathclose{}"]:l?[l+"l",l+"r",""]:["","",""],p=c?"\\middle":l||"";if(n){const s=[];for(let r=s.length;r<n;r++)s.push(t.GetArgument(e));o=Mb.substituteArgs(t,s,o),i=Mb.substituteArgs(t,s,i),a=Mb.substituteArgs(t,s,a)}i=i.replace(/\\delimsize/g,p),t.string=[o,h,s,i,d,r,u,a,t.string.substring(t.i)].reduce((e,s)=>Mb.addArgs(t,e,s),""),t.i=0,Mb.checkMaxMacros(t)},DeclarePairedDelimiter(t,e){const s=eE.GetCsNameArgument(t,e),r=t.GetArgument(e),i=t.GetArgument(e);zy.addPairedDelims(t,s,[r,i]),t.Push(t.itemFactory.create("null"))},DeclarePairedDelimiterX(t,e){const s=eE.GetCsNameArgument(t,e),r=eE.GetArgCount(t,e),i=t.GetArgument(e),n=t.GetArgument(e),o=t.GetArgument(e);zy.addPairedDelims(t,s,[i,n,o,r]),t.Push(t.itemFactory.create("null"))},DeclarePairedDelimiterXPP(t,e){const s=eE.GetCsNameArgument(t,e),r=eE.GetArgCount(t,e),i=t.GetArgument(e),n=t.GetArgument(e),o=t.GetArgument(e),a=t.GetArgument(e),c=t.GetArgument(e);zy.addPairedDelims(t,s,[n,o,c,r,i,a]),t.Push(t.itemFactory.create("null"))},CenterColon(t,e,s,r=!1,i=!1){const n=t.options.mathtools;let o=t.create("token","mo",{},":");if(s&&(n.centercolon||r)){const e=n["centercolon-offset"];o=t.create("node","mpadded",[o],Object.assign({voffset:e,height:`+${e}`,depth:`-${e}`},i?{width:n["thincolon-dw"],lspace:n["thincolon-dx"]}:{}))}t.Push(o)},Relation(t,e,s,r){t.options.mathtools["use-unicode"]&&r?t.Push(t.create("token","mo",{texClass:Yi.REL},r)):(s="\\mathrel{"+s.replace(/:/g,"\\MTThinColon").replace(/-/g,"\\mathrel{-}")+"}",t.string=Mb.addArgs(t,s,t.string.substring(t.i)),t.i=0)},NArrow(t,e,s,r){t.Push(t.create("node","TeXAtom",[t.create("token","mtext",{},s),t.create("node","mpadded",[t.create("node","mpadded",[t.create("node","menclose",[t.create("node","mspace",[],{height:".2em",depth:0,width:".4em"})],{notation:"updiagonalstrike","data-thickness":".05em","data-padding":0})],{width:0,lspace:"-.5width",voffset:r}),t.create("node","mphantom",[t.create("token","mtext",{},s)])],{width:0,lspace:"-.5width"})],{texClass:Yi.REL}))},SplitFrac(t,e,s){const r=t.ParseArg(e),i=t.ParseArg(e);t.Push(t.create("node","mstyle",[t.create("node","mfrac",[t.create("node","mstyle",[r,t.create("token","mi"),t.create("token","mspace",{width:"1em"})],{scriptlevel:0}),t.create("node","mstyle",[t.create("token","mspace",{width:"1em"}),t.create("token","mi"),i],{scriptlevel:0})],{linethickness:0,numalign:"left",denomalign:"right"})],{displaystyle:s,scriptlevel:0}))},XMathStrut(t,e){let s=t.GetBrackets(e),r=t.GetArgument(e);r=zy.plusOrMinus(e,r),s=zy.plusOrMinus(e,s||r),t.Push(t.create("node","TeXAtom",[t.create("node","mpadded",[t.create("node","mphantom",[t.create("token","mo",{stretchy:!1},"(")])],{width:0,height:r+"height",depth:s+"depth"})],{texClass:Yi.ORD}))},Prescript(t,e){const s=zy.getScript(t,e,"sup"),r=zy.getScript(t,e,"sub"),i=zy.getScript(t,e,"arg");if(rb.isType(s,"none")&&rb.isType(r,"none"))return void t.Push(i);const n=t.create("node","mmultiscripts",[i]);rb.getChildren(n).push(null,null),rb.appendChildren(n,[t.create("node","mprescripts"),r,s]),n.setProperty("fixPrescript",!0),t.Push(n)},NewTagForm(t,e,s=!1){const r=t.tags;if(!("mtFormats"in r))throw new gb("TagsNotMT","%1 can only be used with ams or mathtools tags",e);const i=t.GetArgument(e).trim();if(!i)throw new gb("InvalidTagFormID","Tag form name can't be empty");const n=t.GetBrackets(e,""),o=t.GetArgument(e),a=t.GetArgument(e);if(!s&&r.mtFormats.has(i))throw new gb("DuplicateTagForm","Duplicate tag form: %1",i);r.mtFormats.set(i,[o,a,n]),t.Push(t.itemFactory.create("null"))},UseTagForm(t,e){const s=t.tags;if(!("mtFormats"in s))throw new gb("TagsNotMT","%1 can only be used with ams or mathtools tags",e);const r=t.GetArgument(e).trim();if(!r)return s.mtCurrent=null,void t.Push(t.itemFactory.create("null"));if(!s.mtFormats.has(r))throw new gb("UndefinedTagForm","Undefined tag form: %1",r);s.mtCurrent=s.mtFormats.get(r),t.Push(t.itemFactory.create("null"))},SetOptions(t,e){const s=t.options.mathtools;if(!s["allow-mathtoolsset"])throw new gb("ForbiddenMathtoolsSet","%1 is disabled",e);const r={};Object.keys(s).forEach(t=>{"pariedDelimiters"!==t&&"tagforms"!==t&&"allow-mathtoolsset"!==t&&(r[t]=1)});const i=t.GetArgument(e),n=Mb.keyvalOptions(i,r,!0);for(const e of Object.keys(n))"legacycolonsymbols"===e&&s[e]!==n[e]&&(s[e]?t.configuration.handlers.remove(Wy,{}):t.configuration.handlers.add(Wy,{},Vy)),s[e]=n[e];t.Push(t.itemFactory.create("null"))},Array:qx.Array,Macro:qx.Macro,xArrow:iE.xArrow,HandleRef:iE.HandleRef,AmsEqnArray:iE.AmsEqnArray,MacroWithTemplate:aE.MacroWithTemplate};new Yb("mathtools-macros",{shoveleft:[Xy.HandleShove,Eb.Align.LEFT],shoveright:[Xy.HandleShove,Eb.Align.RIGHT],xleftrightarrow:[Xy.xArrow,8596,10,10],xLeftarrow:[Xy.xArrow,8656,12,7],xRightarrow:[Xy.xArrow,8658,7,12],xLeftrightarrow:[Xy.xArrow,8660,12,12],xhookleftarrow:[Xy.xArrow,8617,10,5],xhookrightarrow:[Xy.xArrow,8618,5,10],xmapsto:[Xy.xArrow,8614,10,10],xrightharpoondown:[Xy.xArrow,8641,5,10],xleftharpoondown:[Xy.xArrow,8637,10,5],xrightleftharpoons:[Xy.xArrow,8652,10,10],xrightharpoonup:[Xy.xArrow,8640,5,10],xleftharpoonup:[Xy.xArrow,8636,10,5],xleftrightharpoons:[Xy.xArrow,8651,10,10],xlongrightarrow:[Xy.xArrow,10230,7,12,1.45],xlongleftarrow:[Xy.xArrow,10229,12,7,1.45],xLongrightarrow:[Xy.xArrow,10233,7,12,1.45],xLongleftarrow:[Xy.xArrow,10232,12,7,1.45],mathllap:[Xy.MathLap,"l",!1],mathrlap:[Xy.MathLap,"r",!1],mathclap:[Xy.MathLap,"c",!1],clap:[Xy.MtLap,"c"],textllap:[Xy.MtLap,"l"],textrlap:[Xy.MtLap,"r"],textclap:[Xy.MtLap,"c"],cramped:Xy.Cramped,crampedllap:[Xy.MathLap,"l",!0],crampedrlap:[Xy.MathLap,"r",!0],crampedclap:[Xy.MathLap,"c",!0],crampedsubstack:[Xy.Macro,"\\begin{crampedsubarray}{c}#1\\end{crampedsubarray}",1],mathmbox:Xy.MathMBox,mathmakebox:Xy.MathMakeBox,overbracket:Xy.UnderOverBracket,underbracket:Xy.UnderOverBracket,refeq:Xy.HandleRef,MoveEqLeft:[Xy.Macro,"\\hspace{#1em}&\\hspace{-#1em}",1,"2"],Aboxed:Xy.Aboxed,MakeAboxedCommand:Xy.MakeAboxedCommand,ArrowBetweenLines:Xy.ArrowBetweenLines,vdotswithin:Xy.VDotsWithin,shortvdotswithin:Xy.ShortVDotsWithin,MTFlushSpaceAbove:Xy.FlushSpaceAbove,MTFlushSpaceBelow:Xy.FlushSpaceBelow,DeclarePairedDelimiter:Xy.DeclarePairedDelimiter,DeclarePairedDelimiterX:Xy.DeclarePairedDelimiterX,DeclarePairedDelimiterXPP:Xy.DeclarePairedDelimiterXPP,DeclarePairedDelimiters:Xy.DeclarePairedDelimiter,DeclarePairedDelimitersX:Xy.DeclarePairedDelimiterX,DeclarePairedDelimitersXPP:Xy.DeclarePairedDelimiterXPP,vcentercolon:[Xy.CenterColon,!0,!0],ordinarycolon:[Xy.CenterColon,!1],MTThinColon:[Xy.CenterColon,!0,!0,!0],coloneqq:[Xy.Relation,":=","\u2254"],Coloneqq:[Xy.Relation,"::=","\u2a74"],coloneq:[Xy.Relation,":=","\u2254"],Coloneq:[Xy.Relation,"::=","\u2a7a"],eqqcolon:[Xy.Relation,"=:","\u2255"],Eqqcolon:[Xy.Relation,"=::"],eqcolon:[Xy.Relation,"=:","\u2255"],Eqcolon:[Xy.Relation,"=::"],colonapprox:[Xy.Relation,":\\approx"],Colonapprox:[Xy.Relation,"::\\approx"],colonsim:[Xy.Relation,":\\sim"],Colonsim:[Xy.Relation,"::\\sim"],dblcolon:[Xy.Relation,"::","\u2237"],approxcolon:[Xy.Relation,"\\approx:"],Approxcolon:[Xy.Relation,"\\approx::"],simcolon:[Xy.Relation,"\\sim:"],Simcolon:[Xy.Relation,"\\sim::"],colondash:[Xy.Relation,":-"],Colondash:[Xy.Relation,"::-"],dashcolon:[Xy.Relation,"-:","\u2239"],Dashcolon:[Xy.Relation,"-::"],nuparrow:[Xy.NArrow,"\u2191",".06em"],ndownarrow:[Xy.NArrow,"\u2193",".25em"],bigtimes:[Xy.Macro,"\\mathop{\\Large\\kern-.1em\\boldsymbol{\\times}\\kern-.1em}"],splitfrac:[Xy.SplitFrac,!1],splitdfrac:[Xy.SplitFrac,!0],xmathstrut:Xy.XMathStrut,prescript:Xy.Prescript,newtagform:[Xy.NewTagForm,!1],renewtagform:[Xy.NewTagForm,!0],usetagform:Xy.UseTagForm,adjustlimits:[Xy.MacroWithTemplate,"\\mathop{{#1}\\vphantom{{#3}}}_{{#2}\\vphantom{{#4}}}\\mathop{{#3}\\vphantom{{#1}}}_{{#4}\\vphantom{{#2}}}",4,,"_",,"_"],mathtoolsset:Xy.SetOptions}),new Yb("mathtools-legacycolonsymbols",{coloneq:[Xy.Relation,":-"],Coloneq:[Xy.Relation,"::-"],eqcolon:[Xy.Relation,"-:","\u2239"],Eqcolon:[Xy.Relation,"-::"]}),new Qb("mathtools-environments",Hx.environment,{dcases:[Xy.Array,null,"\\{","","ll",null,".2em","D"],rcases:[Xy.Array,null,"","\\}","ll",null,".2em"],drcases:[Xy.Array,null,"","\\}","ll",null,".2em","D"],"dcases*":[Xy.Cases,null,"{","","D"],"rcases*":[Xy.Cases,null,"","}"],"drcases*":[Xy.Cases,null,"","}","D"],"cases*":[Xy.Cases,null,"{",""],"matrix*":[Xy.MtMatrix,null,null,null],"pmatrix*":[Xy.MtMatrix,null,"(",")"],"bmatrix*":[Xy.MtMatrix,null,"[","]"],"Bmatrix*":[Xy.MtMatrix,null,"\\{","\\}"],"vmatrix*":[Xy.MtMatrix,null,"\\vert","\\vert"],"Vmatrix*":[Xy.MtMatrix,null,"\\Vert","\\Vert"],"smallmatrix*":[Xy.MtSmallMatrix,null,null,null],psmallmatrix:[Xy.MtSmallMatrix,null,"(",")","c"],"psmallmatrix*":[Xy.MtSmallMatrix,null,"(",")"],bsmallmatrix:[Xy.MtSmallMatrix,null,"[","]","c"],"bsmallmatrix*":[Xy.MtSmallMatrix,null,"[","]"],Bsmallmatrix:[Xy.MtSmallMatrix,null,"\\{","\\}","c"],"Bsmallmatrix*":[Xy.MtSmallMatrix,null,"\\{","\\}"],vsmallmatrix:[Xy.MtSmallMatrix,null,"\\vert","\\vert","c"],"vsmallmatrix*":[Xy.MtSmallMatrix,null,"\\vert","\\vert"],Vsmallmatrix:[Xy.MtSmallMatrix,null,"\\Vert","\\Vert","c"],"Vsmallmatrix*":[Xy.MtSmallMatrix,null,"\\Vert","\\Vert"],crampedsubarray:[Xy.Array,null,null,null,null,"0em","0.1em","S'",1],multlined:Xy.MtMultlined,spreadlines:[Xy.SpreadLines,!0],lgathered:[Xy.AmsEqnArray,null,null,null,"l","t",null,".5em","D"],rgathered:[Xy.AmsEqnArray,null,null,null,"r","t",null,".5em","D"]}),new Jb("mathtools-delimiters",Hx.delimiter,{"\\lparen":"(","\\rparen":")"}),new Yb("mathtools-characters",{":":[Xy.CenterColon,!0]});let $y=0;function Jy(t,e){const s=e.parseOptions.options.tags;"base"!==s&&Object.hasOwn(t.tags,s)&&Ub.add(s,t.tags[s]);const r=Ub.create(e.parseOptions.options.tags).constructor;$y++;const i="MathtoolsTags-"+$y;Ub.add(i,class extends r{constructor(){super(),this.mtFormats=new Map,this.mtCurrent=null;const t=e.parseOptions.options.mathtools.tagforms;for(const e of Object.keys(t)){if(!Array.isArray(t[e])||3!==t[e].length)throw new gb("InvalidTagFormDef",'The tag form definition for "%1" should be an array of three strings',e);this.mtFormats.set(e,t[e])}}formatTag(t){if(this.mtCurrent){const[e,s,r]=this.mtCurrent;return r?`${e}${r}{${t}}${s}`:`${e}${t}${s}`}return super.formatTag(t)}}),e.parseOptions.options.tags=i}class Ky extends Yx{get kind(){return"multlined"}EndTable(){if((this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.table.length>1){const t=this.factory.configuration.options.mathtools,e=t["multlined-gap"],s=t["firstline-afterskip"]||e,r=t["lastline-preskip"]||e,i=rb.getChildren(this.table[0])[0];rb.getAttribute(i,"columnalign")!==Eb.Align.RIGHT&&i.appendChild(this.create("node","mspace",[],{width:s}));const n=rb.getChildren(this.table[this.table.length-1])[0];if(rb.getAttribute(n,"columnalign")!==Eb.Align.LEFT){const t=rb.getChildren(n)[0];t.childNodes.unshift(null);const e=this.create("node","mspace",[],{width:r});rb.setChild(t,0,e)}}super.EndTable.call(this)}}function Yy({data:t}){for(const e of t.getList("mmultiscripts")){if(!e.getProperty("fixPrescript"))continue;const s=rb.getChildren(e);let r=0;for(const i of[1,2])s[i]||(rb.setChild(e,i,t.nodeFactory.create("node","none")),r++);2===r&&s.splice(1,2)}}const Qy=rx.create("mathtools",{[hb.HANDLER]:{macro:["mathtools-macros","mathtools-delimiters"],[db.ENVIRONMENT]:["mathtools-environments"],[db.DELIMITER]:["mathtools-delimiters"],[db.CHARACTER]:["mathtools-characters"]},[hb.ITEMS]:{[Ky.prototype.kind]:Ky},[hb.CONFIG]:function(t,e){cE(0,e);const s=e.parseOptions,r=s.options.mathtools.pairedDelimiters,i=t.handlers.retrieve(Zx.NEW_COMMAND);for(const[t,e]of Object.entries(r))i.add(t,new Gb(t,Xy.PairedDelimiters,e));s.options.mathtools.legacycolonsymbols&&t.handlers.add(Wy,{},Vy),Jy(t,e)},[hb.POSTPROCESSORS]:[[Yy,-6]],[hb.OPTIONS]:{mathtools:{"multlined-gap":"1em","multlined-pos":"c","multlined-width":"","firstline-afterskip":"","lastline-preskip":"","smallmatrix-align":"c",shortvdotsadjustabove:".2em",shortvdotsadjustbelow:".2em",centercolon:!1,"centercolon-offset":".04em","thincolon-dx":"-.04em","thincolon-dw":"-.08em","use-unicode":!1,legacycolonsymbols:!1,"prescript-sub-format":"","prescript-sup-format":"","prescript-arg-format":"","allow-mathtoolsset":!0,pairedDelimiters:pi({}),tagforms:pi({})}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/mathtools",jr,"tex-extension"),Vr({_:{input:{tex:{mathtools:{MathtoolsConfiguration:Cr,MathtoolsItems:wr,MathtoolsMethods:_r,MathtoolsTags:vr,MathtoolsUtil:Nr}}}}});
/*!
 *************************************************************************
 *
 *  mhchemParser.ts
 *  4.2.1
 *
 *  Parser for the \ce command and \pu command for MathJax and Co.
 *
 *  mhchem's \ce is a tool for writing beautiful chemical equations easily.
 *  mhchem's \pu is a tool for writing physical units easily.
 *
 *  ----------------------------------------------------------------------
 *
 *  Copyright (c) 2015-2023 Martin Hensel
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 *  ----------------------------------------------------------------------
 *
 *  https://github.com/mhchem/mhchemParser
 *
 */
class Zy{static toTex(t,e){return sN.go(eN.go(t,e),"tex"!==e)}}function tN(t){let e,s,r={};for(e in t)for(s in t[e]){let i=s.split("|");t[e][s].stateArray=i;for(let t=0;t<i.length;t++)r[i[t]]=[]}for(e in t)for(s in t[e]){let i=t[e][s].stateArray||[];for(let n=0;n<i.length;n++){const o=t[e][s];o.action_=[].concat(o.action_);for(let t=0;t<o.action_.length;t++)"string"==typeof o.action_[t]&&(o.action_[t]={type_:o.action_[t]});const a=e.split("|");for(let t=0;t<a.length;t++)if("*"===i[n]){let e;for(e in r)r[e].push({pattern:a[t],task:o})}else r[i[n]].push({pattern:a[t],task:o})}}return r}const eN={go:function(t,e){if(!t)return[];void 0===e&&(e="ce");let s,r="0",i={};i.parenthesisLevel=0,t=(t=(t=t.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");let n=10,o=[];for(;;){s!==t?(n=10,s=t):n--;let a=eN.stateMachines[e],c=a.transitions[r]||a.transitions["*"];t:for(let e=0;e<c.length;e++){let s=eN.patterns.match_(c[e].pattern,t);if(s){const n=c[e].task;for(let t=0;t<n.action_.length;t++){let e;if(a.actions[n.action_[t].type_])e=a.actions[n.action_[t].type_](i,s.match_,n.action_[t].option);else{if(!eN.actions[n.action_[t].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+n.action_[t].type_+")"];e=eN.actions[n.action_[t].type_](i,s.match_,n.action_[t].option)}eN.concatArray(o,e)}if(r=n.nextState||r,!(t.length>0))return o;if(n.revisit||(t=s.remainder),!n.toContinue)break t}}if(n<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Array.isArray(e))for(let s=0;s<e.length;s++)t.push(e[s]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){const e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/,"state of aggregation $":function(t){const e=eN.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;const s=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return s?{match_:s[0],remainder:t.substr(s[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". __* ":/^([.\u22C5\u00B7\u2022]|[*])\s*/,"...":/^\.\.\.(?=$|[^.])/,"^{(...)}":function(t){return eN.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return eN.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return eN.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return eN.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return eN.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return eN.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return eN.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return eN.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}^":/^\{\}(?=\^)/,"{}":/^\{\}/,"{...}":function(t){return eN.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return eN.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return eN.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$__$(...)$":function(t){return eN.patterns.findObserveGroups(t,"${","","","}$")||eN.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return eN.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return eN.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return eN.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")||eN.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\ce{","","","}")},"\\pu{(...)}":function(t){return eN.patterns.findObserveGroups(t,"\\pu{","","","}")},oxidation$:/^(?:[+-][IVX]+|(?:\\pm|\$\\pm\$|\+-|\+\/-)\s*0)$/,"d-oxidation$":/^(?:[+-]?[IVX]+|(?:\\pm|\$\\pm\$|\+-|\+\/-)\s*0)$/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){let e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};const s=eN.patterns.findObserveGroups(t,"","$","$","");return s&&(e=s.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;const e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,s,r,i,n,o,a,c,l){const h=function(t,e){if("string"==typeof e)return 0!==t.indexOf(e)?null:e;{const s=t.match(e);return s?s[0]:null}};let d=h(t,e);if(null===d)return null;if(t=t.substr(d.length),d=h(t,s),null===d)return null;const u=function(t,e,s){let r=0;for(;e<t.length;){let i=t.charAt(e);const n=h(t.substr(e),s);if(null!==n&&0===r)return{endMatchBegin:e,endMatchEnd:e+n.length};if("{"===i)r++;else if("}"===i){if(0===r)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];r--}e++}return null}(t,d.length,r||i);if(null===u)return null;const p=t.substring(0,r?u.endMatchEnd:u.endMatchBegin);if(n||o){const e=this.findObserveGroups(t.substr(u.endMatchEnd),n,o,a,c);if(null===e)return null;const s=[p,e.match_];return{match_:l?s.join(""):s,remainder:e.remainder}}return{match_:p,remainder:t.substr(u.endMatchEnd)}},match_:function(t,e){const s=eN.patterns.patterns[t];if(void 0===s)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if("function"==typeof s)return eN.patterns.patterns[t](e);{const t=e.match(s);return t?t.length>2?{match_:t.slice(1),remainder:e.substr(t[0].length)}:{match_:t[1]||t[0],remainder:e.substr(t[0].length)}:null}}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"o=+p1":function(t,e,s){t.o=(t.o||"")+s},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,s){return{type_:s}},"insert+p1":function(t,e,s){return{type_:s,p1:e}},"insert+p1+p2":function(t,e,s){return{type_:s,p1:e[0],p2:e[1]}},copy:function(t,e){return e},write:function(t,e,s){return s},rm:function(t,e){return{type_:"rm",p1:e}},text:function(t,e){return eN.go(e,"text")},"tex-math":function(t,e){return eN.go(e,"tex-math")},"tex-math tight":function(t,e){return eN.go(e,"tex-math tight")},bond:function(t,e,s){return{type_:"bond",kind_:s||e}},"color0-output":function(t,e){return{type_:"color0",color:e}},ce:function(t,e){return eN.go(e,"ce")},pu:function(t,e){return eN.go(e,"pu")},"1/2":function(t,e){let s=[];e.match(/^[+\-]/)&&(s.push(e.substr(0,1)),e=e.substr(1));const r=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return r[1]=r[1].replace(/\$/g,""),s.push({type_:"frac",p1:r[1],p2:r[2]}),r[3]&&(r[3]=r[3].replace(/\$/g,""),s.push({type_:"tex-math",p1:r[3]})),s},"9,9":function(t,e){return eN.go(e,"9,9")}},stateMachines:{tex:{transitions:tN({empty:{0:{action_:"copy"}},"\\ce{(...)}":{0:{action_:[{type_:"write",option:"{"},"ce",{type_:"write",option:"}"}]}},"\\pu{(...)}":{0:{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},else:{0:{action_:"copy"}}}),actions:{}},ce:{transitions:tN({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{action_:[]}},space:{a:{action_:[],nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". __* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{action_:[]}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}^":{"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"tinySkip"}],nextState:"1"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}],nextState:"3"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){let s;if((t.d||"").match(/^[1-9][0-9]*$/)){const e=t.d;t.d=void 0,s=this.output(t),s.push({type_:"tinySkip"}),t.b=e}else s=this.output(t);return eN.actions["o="](t,e),s},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){let s=[];return eN.concatArray(s,this.output(t)),eN.concatArray(s,eN.actions.bond(t,e,"-")),s}t.d=e},"- after o/d":function(t,e,s){let r=eN.patterns.match_("orbital",t.o||"");const i=eN.patterns.match_("one lowercase greek letter $",t.o||""),n=eN.patterns.match_("one lowercase latin letter $",t.o||""),o=eN.patterns.match_("$one lowercase latin letter$ $",t.o||""),a="-"===e&&(r&&""===r.remainder||i||n||o);!a||t.a||t.b||t.p||t.d||t.q||r||!n||(t.o="$"+t.o+"$");let c=[];return a?(eN.concatArray(c,this.output(t)),c.push({type_:"hyphen"})):(r=eN.patterns.match_("digits",t.d||""),s&&r&&""===r.remainder?(eN.concatArray(c,eN.actions["d="](t,e)),eN.concatArray(c,this.output(t))):(eN.concatArray(c,this.output(t)),eN.concatArray(c,eN.actions.bond(t,e,"-")))),c},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:eN.go(e,"o")}},comma:function(t,e){const s=e.replace(/\s*$/,"");return s!==e&&0===t.parenthesisLevel?{type_:"comma enumeration L",p1:s}:{type_:"comma enumeration M",p1:s}},output:function(t,e,s){let r;if(t.r){let e,s;e="M"===t.rdt?eN.go(t.rd,"tex-math"):"T"===t.rdt?[{type_:"text",p1:t.rd||""}]:eN.go(t.rd,"ce"),s="M"===t.rqt?eN.go(t.rq,"tex-math"):"T"===t.rqt?[{type_:"text",p1:t.rq||""}]:eN.go(t.rq,"ce"),r={type_:"arrow",r:t.r,rd:e,rq:s}}else r=[],(t.a||t.b||t.p||t.o||t.q||t.d||s)&&(t.sb&&r.push({type_:"entitySkip"}),t.o||t.q||t.d||t.b||t.p||2===s?t.o||t.q||t.d||!t.b&&!t.p?t.o&&"kv"===t.dType&&eN.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&"kv"===t.dType&&!t.q&&(t.dType=void 0):(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):(t.o=t.a,t.a=void 0),r.push({type_:"chemfive",a:eN.go(t.a,"a"),b:eN.go(t.b,"bd"),p:eN.go(t.p,"pq"),o:eN.go(t.o,"o"),q:eN.go(t.q,"pq"),d:eN.go(t.d,"oxidation"===t.dType?"oxidation":"bd"),dType:t.dType}));for(const e in t)"parenthesisLevel"!==e&&"beginsWithBond"!==e&&delete t[e];return r},"oxidation-output":function(t,e){let s=["{"];return eN.concatArray(s,eN.go(e,"oxidation")),s.push("}"),s},"frac-output":function(t,e){return{type_:"frac-ce",p1:eN.go(e[0],"ce"),p2:eN.go(e[1],"ce")}},"overset-output":function(t,e){return{type_:"overset",p1:eN.go(e[0],"ce"),p2:eN.go(e[1],"ce")}},"underset-output":function(t,e){return{type_:"underset",p1:eN.go(e[0],"ce"),p2:eN.go(e[1],"ce")}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:eN.go(e[0],"ce"),p2:eN.go(e[1],"ce")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:eN.go(e[1],"ce")}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,s){return{type_:"operator",kind_:s||e}}}},a:{transitions:tN({empty:{"*":{action_:[]}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"1",revisit:!0}},"${(...)}$__$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:tN({empty:{"*":{action_:[]}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:[{type_:"write",option:"{"},"text",{type_:"write",option:"}"}]}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:tN({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){let e={type_:"text",p1:t.text_};for(const e in t)delete t[e];return e}}}},pq:{transitions:tN({empty:{"*":{action_:[]}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{action_:[],nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{action_:[],nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"!f",revisit:!0}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}":{"*":{action_:"color-output"}},"\\color{(...)}":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:eN.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:eN.go(e[1],"pq")}}}},bd:{transitions:tN({empty:{"*":{action_:[]}},x$:{0:{action_:[],nextState:"!f",revisit:!0}},formula$:{0:{action_:[],nextState:"f",revisit:!0}},else:{0:{action_:[],nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}":{"*":{action_:"color-output"}},"\\color{(...)}":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:eN.go(e[1],"bd")}}}},oxidation:{transitions:tN({empty:{"*":{action_:"roman-numeral"}},"pm-operator":{"*":{action_:{type_:"o=+p1",option:"\\pm"}}},else:{"*":{action_:"o="}}}),actions:{"roman-numeral":function(t){return{type_:"roman numeral",p1:t.o||""}}}},"tex-math":{transitions:tN({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){let e={type_:"tex-math",p1:t.o};for(const e in t)delete t[e];return e}}}},"tex-math tight":{transitions:tN({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){let e={type_:"tex-math",p1:t.o};for(const e in t)delete t[e];return e}}}},"9,9":{transitions:tN({empty:{"*":{action_:[]}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:tN({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{action_:[]}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){let s=[];return"+-"===e[0]||"+/-"===e[0]?s.push("\\pm "):e[0]&&s.push(e[0]),e[1]&&(eN.concatArray(s,eN.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?eN.concatArray(s,eN.go(e[2],"pu-9,9")):s.push(e[2])),(e[3]||e[4])&&("e"===e[3]||"*"===e[4]?s.push({type_:"cdot"}):s.push({type_:"times"}))),e[5]&&s.push("10^{"+e[5]+"}"),s},"number^":function(t,e){let s=[];return"+-"===e[0]||"+/-"===e[0]?s.push("\\pm "):e[0]&&s.push(e[0]),eN.concatArray(s,eN.go(e[1],"pu-9,9")),s.push("^{"+e[2]+"}"),s},operator:function(t,e,s){return{type_:"operator",kind_:s||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){let e;const s=eN.patterns.match_("{(...)}",t.d||"");s&&""===s.remainder&&(t.d=s.match_);const r=eN.patterns.match_("{(...)}",t.q||"");if(r&&""===r.remainder&&(t.q=r.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");const s={d:eN.go(t.d,"pu"),q:eN.go(t.q,"pu")};"//"===t.o?e={type_:"pu-frac",p1:s.d,p2:s.q}:(e=s.d,s.d.length>1||s.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),eN.concatArray(e,s.q))}else e=eN.go(t.d,"pu-2");for(const e in t)delete t[e];return e}}},"pu-2":{transitions:tN({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){let e=[];if(t.rm){const s=eN.patterns.match_("{(...)}",t.rm||"");e=s&&""===s.remainder?eN.go(s.match_,"pu"):{type_:"rm",p1:t.rm}}for(const e in t)delete t[e];return e}}},"pu-9,9":{transitions:tN({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){let e=[];if(t.text_=t.text_||"",t.text_.length>4){let s=t.text_.length%3;0===s&&(s=3);for(let s=t.text_.length-3;s>0;s-=3)e.push(t.text_.substr(s,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,s)),e.reverse()}else e.push(t.text_);for(const e in t)delete t[e];return e},"output-o":function(t){let e=[];if(t.text_=t.text_||"",t.text_.length>4){const s=t.text_.length-3;let r;for(r=0;r<s;r+=3)e.push(t.text_.substr(r,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(r))}else e.push(t.text_);for(const e in t)delete t[e];return e}}}}},sN={go:function(t,e){if(!t)return"";let s="",r=!1;for(let e=0;e<t.length;e++){const i=t[e];"string"==typeof i?s+=i:(s+=sN._go2(i),"1st-level escape"===i.type_&&(r=!0))}return e&&!r&&s&&(s="{"+s+"}"),s},_goInner:function(t){return sN.go(t,!1)},_go2:function(t){let e;switch(t.type_){case"chemfive":e="";const s={a:sN._goInner(t.a),b:sN._goInner(t.b),p:sN._goInner(t.p),o:sN._goInner(t.o),q:sN._goInner(t.q),d:sN._goInner(t.d)};s.a&&(s.a.match(/^[+\-]/)&&(s.a="{"+s.a+"}"),e+=s.a+"\\,"),(s.b||s.p)&&(e+="{\\vphantom{A}}",e+="^{\\hphantom{"+(s.b||"")+"}}_{\\hphantom{"+(s.p||"")+"}}",e+="\\mkern-1.5mu",e+="{\\vphantom{A}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(s.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(s.p||"")+"}}}"),s.o&&(s.o.match(/^[+\-]/)&&(s.o="{"+s.o+"}"),e+=s.o),"kv"===t.dType?((s.d||s.q)&&(e+="{\\vphantom{A}}"),s.d&&(e+="^{"+s.d+"}"),s.q&&(e+="_{\\smash[t]{"+s.q+"}}")):"oxidation"===t.dType?(s.d&&(e+="{\\vphantom{A}}",e+="^{"+s.d+"}"),s.q&&(e+="{\\vphantom{A}}",e+="_{\\smash[t]{"+s.q+"}}")):(s.q&&(e+="{\\vphantom{A}}",e+="_{\\smash[t]{"+s.q+"}}"),s.d&&(e+="{\\vphantom{A}}",e+="^{"+s.d+"}"));break;case"rm":case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+sN._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+sN._goInner(t.p1);break;case"bond":if(e=sN._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":const r="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"pu-frac":const i="\\frac{"+sN._goInner(t.p1)+"}{"+sN._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":case"1st-level escape":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+sN._goInner(t.p1)+"}{"+sN._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+sN._goInner(t.p1)+"}{"+sN._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+sN._goInner(t.p1)+"}{"+sN._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+sN._goInner(t.p1)+"}_{"+sN._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+sN._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":const n={rd:sN._goInner(t.rd),rq:sN._goInner(t.rq)};let o=sN._getArrow(t.r);n.rd||n.rq?"<=>"===t.r||"<=>>"===t.r||"<<=>"===t.r||"<--\x3e"===t.r?(o="\\long"+o,n.rd&&(o="\\overset{"+n.rd+"}{"+o+"}"),n.rq&&(o="<--\x3e"===t.r?"\\underset{\\lower2mu{"+n.rq+"}}{"+o+"}":"\\underset{\\lower6mu{"+n.rq+"}}{"+o+"}"),o=" {}\\mathrel{"+o+"}{} "):(n.rq&&(o+="[{"+n.rq+"}]"),o+="{"+n.rd+"}",o=" {}\\mathrel{\\x"+o+"}{} "):o=" {}\\mathrel{\\long"+o+"}{} ",e=o;break;case"operator":e=sN._getOperator(t.kind_);break;case"space":e=" ";break;case"tinySkip":e="\\mkern2mu";break;case"entitySkip":case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":case"\u2192":case"\u27f6":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"leftrightarrows";case"<=>":case"\u21cc":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};const rN={relmo(t,e){const s=Object.assign({stretchy:!0,texClass:Yi.REL,mathvariant:"-mhchem"},e.attributes||{}),r=t.create("token","mo",s,e.char);t.Push(r)}},iN=new Map([["\\mhchemx$3[$1]{$2}",/\\underset{\\lower2mu{(.*?)}}{\\overset{(.*?)}{\\long(.*?)}}/g],["\\mhchemx$2{$1}",/\\overset{(.*?)}{\\long(.*?)}/g],["\\mhchemBondTD",/\\rlap\{\\lower\.1em\{-\}\}\\raise\.1em\{\\tripledash\}/g],["\\mhchemBondTDD",/\\rlap\{\\lower\.2em\{-\}\}\\rlap\{\\raise\.2em\{\\tripledash\}\}-/g],["\\mhchemBondDTD",/\\rlap\{\\lower\.2em\{-\}\}\\rlap\{\\raise.2em\{-\}\}\\tripledash/g],["\\mhchem$1",/\\(x?(?:long)?(?:left|right|[Ll]eftright|[Rr]ightleft)(?:arrow|harpoons))/g]]),nN={Machine(t,e,s){const r=t.GetArgument(e);let i;try{i=Zy.toTex(r,s);for(const[t,e]of iN.entries())i=i.replace(e,t)}catch(t){throw new gb(t[0],t[1])}t.string=i+t.string.substring(t.i),t.i=0},Macro:qx.Macro,xArrow:iE.xArrow};new Yb("mhchem",{ce:[nN.Machine,"ce"],pu:[nN.Machine,"pu"],mhchemxrightarrow:[nN.xArrow,58409,5,9],mhchemxleftarrow:[nN.xArrow,58408,9,5],mhchemxleftrightarrow:[nN.xArrow,58410,9,9],mhchemxleftrightarrows:[nN.xArrow,58411,9,9],mhchemxrightleftharpoons:[nN.xArrow,58376,5,9],mhchemxRightleftharpoons:[nN.xArrow,58377,5,9],mhchemxLeftrightharpoons:[nN.xArrow,58378,9,11]}),new $b("mhchem-chars",rN.relmo,{tripledash:["\ue410",{stretchy:!1}],mhchemBondTD:["\ue411",{stretchy:!1}],mhchemBondTDD:["\ue412",{stretchy:!1}],mhchemBondDTD:["\ue413",{stretchy:!1}],mhchemlongleftarrow:"\ue428",mhchemlongrightarrow:"\ue429",mhchemlongleftrightarrow:"\ue42a",mhchemlongrightleftharpoons:"\ue408",mhchemlongRightleftharpoons:"\ue409",mhchemlongLeftrightharpoons:"\ue40a",mhchemlongleftrightarrows:"\ue42b",mhchemrightarrow:"\ue42c",mhchemleftarrow:"\ue42d",mhchemleftrightarrow:"\ue42e"});const oN=rx.create("mhchem",{[hb.HANDLER]:{[db.MACRO]:["mhchem","mhchem-chars"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/mhchem",jr,"tex-extension"),Vr({_:{input:{tex:{mhchem:{MhchemConfiguration:kr}}}}}),function(t,e,s=`@mathjax/${e}`){if(MathJax.loader){const r=$r?`https://cdn.jsdelivr.net/npm/${s}`:s,i=e.replace(/-font-extension$/,"-extension"),n=MathJax.config?.startup?.output||"chtml";Wr(MathJax.config.loader,"paths",{[i]:r}),Wr(MathJax.config.loader,"dependencies",{[`[${i}]/${n}`]:[`output/${n}`]}),MathJax.loader.addPackageData(t,{extraLoads:[`[${i}]/${n}`],rendererExtensions:[i]})}}("[tex]/mhchem","mathjax-mhchem-font-extension"),MathJax.loader&&MathJax.loader.checkVersion("[tex]/newcommand",jr,"tex-extension"),Vr({_:{input:{tex:{newcommand:{NewcommandConfiguration:Xs,NewcommandItems:Ws,NewcommandMethods:Vs,NewcommandUtil:Gs}}}}});const aN=rx.create("noerrors",{[hb.NODES]:{error:function(t,e,s,r){const i=t.create("token","mtext",{},r.replace(/\n/g," "));return t.create("node","merror",[i],{"data-mjx-error":e,title:e})}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/noerrors",jr,"tex-extension"),Vr({_:{input:{tex:{noerrors:{NoErrorsConfiguration:Ar}}}}});const cN=rx.create("noundefined",{[hb.FALLBACK]:{[db.MACRO]:function(t,e){const s=t.create("text","\\"+e),r=t.options.noundefined,i={};for(const t of["color","background","size"])r[t]&&(i["math"+t]=r[t]);t.Push(t.create("node","mtext",[],i,s))}},[hb.OPTIONS]:{noundefined:{color:"red",background:"",size:""}},[hb.PRIORITY]:3});MathJax.loader&&MathJax.loader.checkVersion("[tex]/noundefined",jr,"tex-extension"),Vr({_:{input:{tex:{noundefined:{NoUndefinedConfiguration:Tr}}}}});class lN extends xb{constructor(){super(...arguments),this.openCount=0}get kind(){return"auto open"}get isOpen(){return!0}toMml(t=!0,e){if(!t)return super.toMml(t,e);const s=this.factory.configuration.parser,r=this.getProperty("right");if(this.getProperty("smash")){const t=super.toMml(),e=s.create("node","mpadded",[t],{height:0,depth:0});this.Clear(),this.Push(s.create("node","TeXAtom",[e]))}r&&this.Push(new yb(r,s.stack.env,s.configuration).mml());const i=Mb.fenced(this.factory.configuration,this.getProperty("open"),super.toMml(),this.getProperty("close"),this.getProperty("big"));return rb.removeProperties(i,"open","close","texClass"),i}closing(t){return t===this.getProperty("close")&&!this.openCount--}checkItem(t){if(t.getProperty("pre-autoclose"))return xb.fail;if(t.getProperty("autoclose"))return this.getProperty("ignore")?(this.Clear(),[[],!0]):[[this.toMml()],!0];if(t.isKind("mml")&&1===t.Size()){const e=t.toMml();e.isKind("mo")&&e.getText()===this.getProperty("open")&&this.openCount++}return super.checkItem(t)}}lN.errors=Object.assign(Object.create(xb.errors),{stop:["ExtraOrMissingDelims","Extra open or missing close delimiter"]});const hN={"(":")","[":"]","{":"}","|":"|"},dN=/^(b|B)i(g{1,2})$/,uN=[65,90],pN=[97,122],mN=[913,937],fN=[945,969],gN=[48,57];function bN(t,e){return t>=e[0]&&t<=e[1]}function xN(t,e,s,r){const i=t.configuration.parser,n=wb.createToken(t,e,s,r),o=r.codePointAt(0);return 1===r.length&&!i.stack.env.font&&i.stack.env.vectorFont&&(bN(o,uN)||bN(o,pN)||bN(o,mN)||bN(o,gN)||bN(o,fN)&&i.stack.env.vectorStar||rb.getAttribute(n,"accent"))&&rb.setAttribute(n,"mathvariant",i.stack.env.vectorFont),n}function EN(t,e,s,r,i){const n=new yb(r,t.stack.env,t.configuration).mml();t.Push(t.itemFactory.create(e,n));const o=t.GetNext(),a=hN[o];if(!a)return;let c="",l="",h="";const d=i.includes(o);if("{"===o){h=t.GetArgument(s),c=d?"\\left\\{":"",l=d?"\\right\\}":"";const e=`${c} ${h} ${l}`;return t.string=e+t.string.slice(t.i),void(t.i=0)}d&&(t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:o,close:a})))}function yN([t,e,s],r,i){return r&&i?`\\left\\langle{${t}}\\middle\\vert{${e}}\\middle\\vert{${s}}\\right\\rangle`:r?`\\langle{${t}}\\vert{${e}}\\vert{${s}}\\rangle`:`\\left\\langle{${t}}\\right\\vert{${e}}\\left\\vert{${s}}\\right\\rangle`}const NN={Quantity(t,e,s="(",r=")",i=!1,n="",o=""){const a=!!i&&t.GetStar();let c=t.GetNext();const l=t.i;let h=null;if("\\"===c){if(t.i++,h=t.GetCS(),!h.match(dN)){const e=t.create("node","mrow");return t.Push(Mb.fenced(t.configuration,s,e,r)),void(t.i=l)}c=t.GetNext()}let d=hN[c];if(i&&"{"!==c)throw new gb("MissingArgFor","Missing argument for %1",t.currentCS);if(!d){const e=t.create("node","mrow");return t.Push(Mb.fenced(t.configuration,s,e,r)),void(t.i=l)}if(n){const e=t.create("token","mi",{texClass:Yi.OP},n);o&&rb.setAttribute(e,"mathvariant",o),t.Push(t.itemFactory.create("fn",e))}if("{"===c){let n=t.GetArgument(e);return c=i?s:"\\{",d=i?r:"\\}",n=a?`${c} ${n} ${d}`:h?`\\${h}l${c} ${n} \\${h}r${d}`:`\\left${c} ${n} \\right${d}`,void t.Push(new yb(n,t.stack.env,t.configuration).mml())}t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:c,close:d,big:h}))},Eval(t,e){const s=t.GetStar(),r=t.GetNext();if("("===r||"["===r)return t.i++,void t.Push(t.itemFactory.create("auto open").setProperties({open:r,close:"|",smash:s,right:"\\vphantom{\\int}"}));let i="\\left.\\vphantom{\\int}\\right|";if("{"===r){const r=t.GetArgument(e);i=`\\left.${s?`\\smash{${r}}`:r}\\vphantom{\\int}\\right|`}t.string=t.string.substring(0,t.i)+i+t.string.slice(t.i)},Commutator(t,e,s="[",r="]"){const i=t.GetStar();let n=t.GetNext(),o=null;if("\\"===n){if(t.i++,o=t.GetCS(),!o.match(dN))throw new gb("MissingArgFor","Missing argument for %1",t.currentCS);n=t.GetNext()}if("{"!==n)throw new gb("MissingArgFor","Missing argument for %1",t.currentCS);let a=t.GetArgument(e)+","+t.GetArgument(e);a=i?`${s} ${a} ${r}`:o?`\\${o}l${s} ${a} \\${o}r${r}`:`\\left${s} ${a} \\right${r}`,t.Push(new yb(a,t.stack.env,t.configuration).mml())},VectorBold(t,e){const s=t.GetStar(),r=t.GetArgument(e),i=t.configuration.nodeFactory.get("token"),n=t.stack.env.font;delete t.stack.env.font,t.configuration.nodeFactory.set("token",xN),t.stack.env.vectorFont=s?"bold-italic":"bold",t.stack.env.vectorStar=s;const o=new yb(r,t.stack.env,t.configuration).mml();n&&(t.stack.env.font=n),delete t.stack.env.vectorFont,delete t.stack.env.vectorStar,t.configuration.nodeFactory.set("token",i),t.Push(o)},StarMacro(t,e,s,...r){const i=t.GetStar(),n=[];if(s)for(let r=n.length;r<s;r++)n.push(t.GetArgument(e));let o=r.join(i?"*":"");o=Mb.substituteArgs(t,n,o),t.string=Mb.addArgs(t,o,t.string.slice(t.i)),t.i=0,Mb.checkMaxMacros(t)},OperatorApplication(t,e,s,...r){EN(t,"fn",e,s,r)},VectorOperator(t,e,s,...r){EN(t,"mml",e,s,r)},Expression(t,e,s=!0,r=""){r=r||e.slice(1);const i=s?t.GetBrackets(e):null;let n=t.create("token","mi",{texClass:Yi.OP},r);if(i){const e=new yb(i,t.stack.env,t.configuration).mml();n=t.create("node","msup",[n,e])}t.Push(t.itemFactory.create("fn",n)),"("===t.GetNext()&&(t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:"(",close:")"})))},Qqtext(t,e,s){const r=(t.GetStar()?"":"\\quad")+"\\text{"+(s||t.GetArgument(e))+"}\\quad ";t.string=t.string.slice(0,t.i)+r+t.string.slice(t.i)},Differential(t,e,s){const r=t.GetBrackets(e),i=null!=r?"^{"+r+"}":" ",n="("===t.GetNext(),o="{"===t.GetNext();let a=s+i;if(!n&&!o){a+=t.GetArgument(e,!0)||"";const s=new yb(a,t.stack.env,t.configuration).mml();return void t.Push(s)}if(o){a+=t.GetArgument(e);const s=new yb(a,t.stack.env,t.configuration).mml();return void t.Push(t.create("node","TeXAtom",[s],{texClass:Yi.OP}))}t.Push(new yb(a,t.stack.env,t.configuration).mml()),t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:"(",close:")"}))},Derivative(t,e,s,r){const i=t.GetStar(),n=t.GetBrackets(e);let o=1;const a=[];for(a.push(t.GetArgument(e));"{"===t.GetNext()&&o<s;)a.push(t.GetArgument(e)),o++;let c=!1,l=" ",h=" ";s>2&&a.length>2?(l="^{"+(a.length-1)+"}",c=!0):null!=n&&(s>2&&a.length>1&&(c=!0),l=`^{${n}}`,h=l);const d=i?"\\flatfrac":"\\frac",u=a.length>1?a[0]:"",p=a.length>1?a[1]:a[0];let m="";for(let t,e=2;t=a[e];e++)m+=r+" "+t;const f=`${d}{${r}${l}${u}}{${r} ${p}${h} ${m}}`;t.Push(new yb(f,t.stack.env,t.configuration).mml()),"("===t.GetNext()&&(t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:"(",close:")",ignore:c})))},Bra(t,e){const s=t.GetStar(),r=t.GetArgument(e);let i="",n=!1,o=!1;if("\\"===t.GetNext()){let e=t.i;t.i++;const s=t.GetCS(),r=t.lookup(db.MACRO,s);r&&"ket"===r.token?(n=!0,e=t.i,o=t.GetStar(),"{"===t.GetNext()?i=t.GetArgument(s,!0):(t.i=e,o=!1)):t.i=e}let a="";a=n?s||o?`\\langle{${r}}\\vert{${i}}\\rangle`:`\\left\\langle{${r}}\\middle\\vert{${i}}\\right\\rangle`:s?`\\langle{${r}}\\vert`:`\\left\\langle{${r}}\\right\\vert{${i}}`,t.Push(new yb(a,t.stack.env,t.configuration).mml())},Ket(t,e){const s=t.GetStar(),r=t.GetArgument(e),i=s?`\\vert{${r}}\\rangle`:`\\left\\vert{${r}}\\right\\rangle`;t.Push(new yb(i,t.stack.env,t.configuration).mml())},BraKet(t,e){const s=t.GetStar(),r=t.GetArgument(e);let i=null;"{"===t.GetNext()&&(i=t.GetArgument(e,!0));let n="";n=null==i?s?`\\langle{${r}}\\vert{${r}}\\rangle`:`\\left\\langle{${r}}\\middle\\vert{${r}}\\right\\rangle`:s?`\\langle{${r}}\\vert{${i}}\\rangle`:`\\left\\langle{${r}}\\middle\\vert{${i}}\\right\\rangle`,t.Push(new yb(n,t.stack.env,t.configuration).mml())},KetBra(t,e){const s=t.GetStar(),r=t.GetArgument(e);let i=null;"{"===t.GetNext()&&(i=t.GetArgument(e,!0));let n="";n=null==i?s?`\\vert{${r}}\\rangle\\!\\langle{${r}}\\vert`:`\\left\\vert{${r}}\\middle\\rangle\\!\\middle\\langle{${r}}\\right\\vert`:s?`\\vert{${r}}\\rangle\\!\\langle{${i}}\\vert`:`\\left\\vert{${r}}\\middle\\rangle\\!\\middle\\langle{${i}}\\right\\vert`,t.Push(new yb(n,t.stack.env,t.configuration).mml())},Expectation(t,e){const s=t.GetStar(),r=s&&t.GetStar(),i=t.GetArgument(e);let n=null;"{"===t.GetNext()&&(n=t.GetArgument(e,!0));const o=i&&n?yN([n,i,n],s,r):s?`\\langle {${i}} \\rangle`:`\\left\\langle {${i}} \\right\\rangle`;t.Push(new yb(o,t.stack.env,t.configuration).mml())},MatrixElement(t,e){const s=t.GetStar(),r=s&&t.GetStar(),i=yN([t.GetArgument(e),t.GetArgument(e),t.GetArgument(e)],s,r);t.Push(new yb(i,t.stack.env,t.configuration).mml())},MatrixQuantity(t,e,s){const r=t.GetStar(),i=s?"smallmatrix":"array";let n="",o="",a="";switch(t.GetNext()){case"{":n=t.GetArgument(e);break;case"(":t.i++,o=r?"\\lgroup":"(",a=r?"\\rgroup":")",n=t.GetUpTo(e,")");break;case"[":t.i++,o="[",a="]",n=t.GetUpTo(e,"]");break;case"|":t.i++,o="|",a="|",n=t.GetUpTo(e,"|");break;default:o="(",a=")"}const c=(o?"\\left":"")+`${o}\\begin{${i}}{} ${n}\\end{${i}}`+(o?"\\right":"")+a;t.Push(new yb(c,t.stack.env,t.configuration).mml())},IdentityMatrix(t,e){const s=t.GetArgument(e),r=parseInt(s,10);if(isNaN(r))throw new gb("InvalidNumber","Invalid number");if(r<=1)return t.string="1"+t.string.slice(t.i),void(t.i=0);const i=Array(r).fill("0"),n=[];for(let t=0;t<r;t++){const e=i.slice();e[t]="1",n.push(e.join(" & "))}t.string=n.join("\\\\ ")+t.string.slice(t.i),t.i=0},XMatrix(t,e){const s=t.GetStar(),r=t.GetArgument(e),i=t.GetArgument(e),n=t.GetArgument(e);let o=parseInt(i,10),a=parseInt(n,10);if(isNaN(o)||isNaN(a)||a.toString()!==n||o.toString()!==i)throw new gb("InvalidNumber","Invalid number");if(o=o<1?1:o,a=a<1?1:a,!s){const e=Array(a).fill(r).join(" & "),s=Array(o).fill(e).join("\\\\ ");return t.string=s+t.string.slice(t.i),void(t.i=0)}let c="";if(1===o&&1===a)c=r;else if(1===o){const t=[];for(let e=1;e<=a;e++)t.push(`${r}_{${e}}`);c=t.join(" & ")}else if(1===a){const t=[];for(let e=1;e<=o;e++)t.push(`${r}_{${e}}`);c=t.join("\\\\ ")}else{const t=[];for(let e=1;e<=o;e++){const s=[];for(let t=1;t<=a;t++)s.push(`${r}_{{${e}}{${t}}}`);t.push(s.join(" & "))}c=t.join("\\\\ ")}t.string=c+t.string.slice(t.i),t.i=0},PauliMatrix(t,e){const s=t.GetArgument(e);let r=s.slice(1);switch(s[0]){case"0":r+=" 1 & 0\\\\ 0 & 1";break;case"1":case"x":r+=" 0 & 1\\\\ 1 & 0";break;case"2":case"y":r+=" 0 & -i\\\\ i & 0";break;case"3":case"z":r+=" 1 & 0\\\\ 0 & -1"}t.string=r+t.string.slice(t.i),t.i=0},DiagonalMatrix(t,e,s){if("{"!==t.GetNext())return;const r=t.i;t.GetArgument(e);const i=t.i;t.i=r+1;const n=[];let o="",a=t.i;for(;a<i;){try{o=t.GetUpTo(e,",")}catch(e){t.i=i,n.push(t.string.slice(a,i-1));break}a=t.i,n.push(o)}t.string=function(t,e){const s=t.length,r=[];for(let i=0;i<s;i++)r.push(Array(e?s-i:i+1).join("&")+`\\mqty{${t[i]}}`);return r.join("\\\\ ")}(n,s)+t.string.slice(i),t.i=0},AutoClose(t,e,s){let r=t.stack.Top();if(r.isKind("over")&&(r=t.stack.Top(2)),!r.isKind("auto open")||!r.closing(e))return!1;const i=t.create("token","mo",{texClass:s},e);return t.Push(t.itemFactory.create("close").setProperties({"pre-autoclose":!0})),t.Push(t.itemFactory.create("mml",i).setProperties({autoclose:!0})),!0},Vnabla(t,e){const s=t.options.physics.arrowdel?"\\vec{\\gradientnabla}":"{\\gradientnabla}";return t.Push(new yb(s,t.stack.env,t.configuration).mml())},DiffD(t,e){const s=t.options.physics.italicdiff?"d":"{\\rm d}";return t.Push(new yb(s,t.stack.env,t.configuration).mml())},Macro:qx.Macro,NamedFn:qx.NamedFn,Array:qx.Array},_N=NN;new Yb("Physics-automatic-bracing-macros",{quantity:_N.Quantity,qty:_N.Quantity,pqty:[_N.Quantity,"(",")",!0],bqty:[_N.Quantity,"[","]",!0],vqty:[_N.Quantity,"|","|",!0],Bqty:[_N.Quantity,"\\{","\\}",!0],absolutevalue:[_N.Quantity,"|","|",!0],abs:[_N.Quantity,"|","|",!0],norm:[_N.Quantity,"\\|","\\|",!0],evaluated:_N.Eval,eval:_N.Eval,order:[_N.Quantity,"(",")",!0,"O",Eb.Variant.CALLIGRAPHIC],commutator:_N.Commutator,comm:_N.Commutator,anticommutator:[_N.Commutator,"\\{","\\}"],acomm:[_N.Commutator,"\\{","\\}"],poissonbracket:[_N.Commutator,"\\{","\\}"],pb:[_N.Commutator,"\\{","\\}"]}),new $b("Physics-vector-mo",Hx.mathchar0mo,{dotproduct:["\u22c5",{mathvariant:Eb.Variant.BOLD}],vdot:["\u22c5",{mathvariant:Eb.Variant.BOLD}],crossproduct:"\xd7",cross:"\xd7",cp:"\xd7",gradientnabla:["\u2207",{mathvariant:Eb.Variant.BOLD}],divsymbol:"\xf7",divisionsymbol:"\xf7"}),new $b("Physics-vector-mi",Hx.mathchar0mi,{real:["\u211c",{mathvariant:Eb.Variant.NORMAL}],imaginary:["\u2111",{mathvariant:Eb.Variant.NORMAL}]}),new Yb("Physics-vector-macros",{vnabla:_N.Vnabla,vectorbold:_N.VectorBold,vb:_N.VectorBold,vectorarrow:[_N.StarMacro,1,"\\vec{\\vb","{#1}}"],va:[_N.StarMacro,1,"\\vec{\\vb","{#1}}"],vectorunit:[_N.StarMacro,1,"\\hat{\\vb","{#1}}"],vu:[_N.StarMacro,1,"\\hat{\\vb","{#1}}"],gradient:[_N.OperatorApplication,"\\vnabla","(","["],grad:[_N.OperatorApplication,"\\vnabla","(","["],divergence:[_N.VectorOperator,"\\vnabla\\vdot","(","["],div:[_N.VectorOperator,"\\vnabla\\vdot","(","["],curl:[_N.VectorOperator,"\\vnabla\\crossproduct","(","["],laplacian:[_N.OperatorApplication,"\\nabla^2","(","["]}),new Yb("Physics-expressions-macros",{sin:_N.Expression,sinh:_N.Expression,arcsin:_N.Expression,asin:_N.Expression,cos:_N.Expression,cosh:_N.Expression,arccos:_N.Expression,acos:_N.Expression,tan:_N.Expression,tanh:_N.Expression,arctan:_N.Expression,atan:_N.Expression,csc:_N.Expression,csch:_N.Expression,arccsc:_N.Expression,acsc:_N.Expression,sec:_N.Expression,sech:_N.Expression,arcsec:_N.Expression,asec:_N.Expression,cot:_N.Expression,coth:_N.Expression,arccot:_N.Expression,acot:_N.Expression,exp:[_N.Expression,!1],log:_N.Expression,ln:_N.Expression,det:[_N.Expression,!1],Pr:[_N.Expression,!1],tr:[_N.Expression,!1],trace:[_N.Expression,!1,"tr"],Tr:[_N.Expression,!1],Trace:[_N.Expression,!1,"Tr"],rank:_N.NamedFn,erf:[_N.Expression,!1],Residue:[_N.Macro,"\\mathrm{Res}"],Res:[_N.OperatorApplication,"\\Residue","(","[","{"],principalvalue:[_N.OperatorApplication,"{\\cal P}"],pv:[_N.OperatorApplication,"{\\cal P}"],PV:[_N.OperatorApplication,"{\\rm P.V.}"],Re:[_N.OperatorApplication,"\\mathrm{Re}","{"],Im:[_N.OperatorApplication,"\\mathrm{Im}","{"],sine:[_N.NamedFn,"sin"],hypsine:[_N.NamedFn,"sinh"],arcsine:[_N.NamedFn,"arcsin"],asine:[_N.NamedFn,"asin"],cosine:[_N.NamedFn,"cos"],hypcosine:[_N.NamedFn,"cosh"],arccosine:[_N.NamedFn,"arccos"],acosine:[_N.NamedFn,"acos"],tangent:[_N.NamedFn,"tan"],hyptangent:[_N.NamedFn,"tanh"],arctangent:[_N.NamedFn,"arctan"],atangent:[_N.NamedFn,"atan"],cosecant:[_N.NamedFn,"csc"],hypcosecant:[_N.NamedFn,"csch"],arccosecant:[_N.NamedFn,"arccsc"],acosecant:[_N.NamedFn,"acsc"],secant:[_N.NamedFn,"sec"],hypsecant:[_N.NamedFn,"sech"],arcsecant:[_N.NamedFn,"arcsec"],asecant:[_N.NamedFn,"asec"],cotangent:[_N.NamedFn,"cot"],hypcotangent:[_N.NamedFn,"coth"],arccotangent:[_N.NamedFn,"arccot"],acotangent:[_N.NamedFn,"acot"],exponential:[_N.NamedFn,"exp"],logarithm:[_N.NamedFn,"log"],naturallogarithm:[_N.NamedFn,"ln"],determinant:[_N.NamedFn,"det"],Probability:[_N.NamedFn,"Pr"]}),new Yb("Physics-quick-quad-macros",{qqtext:_N.Qqtext,qq:_N.Qqtext,qcomma:[_N.Macro,"\\qqtext*{,}"],qc:[_N.Macro,"\\qqtext*{,}"],qcc:[_N.Qqtext,"c.c."],qif:[_N.Qqtext,"if"],qthen:[_N.Qqtext,"then"],qelse:[_N.Qqtext,"else"],qotherwise:[_N.Qqtext,"otherwise"],qunless:[_N.Qqtext,"unless"],qgiven:[_N.Qqtext,"given"],qusing:[_N.Qqtext,"using"],qassume:[_N.Qqtext,"assume"],qsince:[_N.Qqtext,"since"],qlet:[_N.Qqtext,"let"],qfor:[_N.Qqtext,"for"],qall:[_N.Qqtext,"all"],qeven:[_N.Qqtext,"even"],qodd:[_N.Qqtext,"odd"],qinteger:[_N.Qqtext,"integer"],qand:[_N.Qqtext,"and"],qor:[_N.Qqtext,"or"],qas:[_N.Qqtext,"as"],qin:[_N.Qqtext,"in"]}),new Yb("Physics-derivative-macros",{diffd:_N.DiffD,flatfrac:[_N.Macro,"\\left.#1\\middle/#2\\right.",2],differential:[_N.Differential,"\\diffd"],dd:[_N.Differential,"\\diffd"],variation:[_N.Differential,"\\delta"],var:[_N.Differential,"\\delta"],derivative:[_N.Derivative,2,"\\diffd"],dv:[_N.Derivative,2,"\\diffd"],partialderivative:[_N.Derivative,3,"\\partial"],pderivative:[_N.Derivative,3,"\\partial"],pdv:[_N.Derivative,3,"\\partial"],functionalderivative:[_N.Derivative,2,"\\delta"],fderivative:[_N.Derivative,2,"\\delta"],fdv:[_N.Derivative,2,"\\delta"]}),new Yb("Physics-bra-ket-macros",{bra:_N.Bra,ket:_N.Ket,innerproduct:_N.BraKet,ip:_N.BraKet,braket:_N.BraKet,outerproduct:_N.KetBra,dyad:_N.KetBra,ketbra:_N.KetBra,op:_N.KetBra,expectationvalue:_N.Expectation,expval:_N.Expectation,ev:_N.Expectation,matrixelement:_N.MatrixElement,matrixel:_N.MatrixElement,mel:_N.MatrixElement}),new Yb("Physics-matrix-macros",{matrixquantity:_N.MatrixQuantity,mqty:_N.MatrixQuantity,pmqty:[_N.Macro,"\\mqty(#1)",1],Pmqty:[_N.Macro,"\\mqty*(#1)",1],bmqty:[_N.Macro,"\\mqty[#1]",1],vmqty:[_N.Macro,"\\mqty|#1|",1],smallmatrixquantity:[_N.MatrixQuantity,!0],smqty:[_N.MatrixQuantity,!0],spmqty:[_N.Macro,"\\smqty(#1)",1],sPmqty:[_N.Macro,"\\smqty*(#1)",1],sbmqty:[_N.Macro,"\\smqty[#1]",1],svmqty:[_N.Macro,"\\smqty|#1|",1],matrixdeterminant:[_N.Macro,"\\vmqty{#1}",1],mdet:[_N.Macro,"\\vmqty{#1}",1],smdet:[_N.Macro,"\\svmqty{#1}",1],identitymatrix:_N.IdentityMatrix,imat:_N.IdentityMatrix,xmatrix:_N.XMatrix,xmat:_N.XMatrix,zeromatrix:[_N.Macro,"\\xmat{0}{#1}{#2}",2],zmat:[_N.Macro,"\\xmat{0}{#1}{#2}",2],paulimatrix:_N.PauliMatrix,pmat:_N.PauliMatrix,diagonalmatrix:_N.DiagonalMatrix,dmat:_N.DiagonalMatrix,antidiagonalmatrix:[_N.DiagonalMatrix,!0],admat:[_N.DiagonalMatrix,!0]}),new Qb("Physics-aux-envs",Hx.environment,{smallmatrix:[_N.Array,null,null,null,"c","0.333em",".2em","S",1]}),new Kb("Physics-characters",{"|":[_N.AutoClose,Yi.ORD],")":_N.AutoClose,"]":_N.AutoClose});const vN=rx.create("physics",{[hb.HANDLER]:{macro:["Physics-automatic-bracing-macros","Physics-vector-macros","Physics-vector-mo","Physics-vector-mi","Physics-derivative-macros","Physics-expressions-macros","Physics-quick-quad-macros","Physics-bra-ket-macros","Physics-matrix-macros"],[db.CHARACTER]:["Physics-characters"],[db.ENVIRONMENT]:["Physics-aux-envs"]},[hb.ITEMS]:{[lN.prototype.kind]:lN},[hb.OPTIONS]:{physics:{italicdiff:!1,arrowdel:!1}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/physics",jr,"tex-extension"),Vr({_:{input:{tex:{physics:{PhysicsConfiguration:Lr,PhysicsItems:Mr,PhysicsMethods:Sr}}}}});let wN=0;function CN(t,e){const s=e.parseOptions.options.tags;"base"!==s&&Object.hasOwn(t.tags,s)&&Ub.add(s,t.tags[s]);const r=Ub.create(e.parseOptions.options.tags).constructor;wN++;const i="configTags-"+wN;Ub.add(i,class extends r{formatNumber(t){return e.parseOptions.options.tagformat.number(t)}formatTag(t){return e.parseOptions.options.tagformat.tag(t)}formatRef(t){const s=e.parseOptions.options.tagformat.ref;return s?s(t):this.formatTag(t)}formatId(t){return e.parseOptions.options.tagformat.id(t)}formatUrl(t,s){return e.parseOptions.options.tagformat.url(t,s)}}),e.parseOptions.options.tags=i}const kN=rx.create("tagformat",{[hb.CONFIG]:[CN,10],[hb.OPTIONS]:{tagformat:{number:t=>t.toString(),tag:t=>"("+t+")",ref:"",id:t=>"mjx-eqn:"+t.replace(/\s/g,"_"),url:(t,e)=>e+"#"+encodeURIComponent(t)}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/tagformat",jr,"tex-extension"),Vr({_:{input:{tex:{tagformat:{TagFormatConfiguration:Ir}}}}});const AN={Comment(t,e){for(;t.i<t.string.length&&"\n"!==t.string.charAt(t.i);)t.i++;t.i++},Math(t,e){t.saveText();const s=t.i;let r,i,n=0;for(;i=t.GetNext();)switch(r=t.i++,i){case"\\":")"===t.GetCS()&&(i="\\(");case"$":if(0===n&&e===i){const e=t.texParser.configuration,i=new yb(t.string.substring(s,r),t.stack.env,e).mml();return void t.PushMath(i)}break;case"{":n++;break;case"}":0===n&&t.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),n--}t.Error("MathNotTerminated","Math mode is not properly terminated")},MathModeOnly(t,e){t.Error("MathModeOnly","'%1' allowed only in math mode",e)},Misplaced(t,e){t.Error("Misplaced","Misplaced '%1'",e)},OpenBrace(t,e){const s=t.stack.env;t.envStack.push(s),t.stack.env=Object.assign({},s)},CloseBrace(t,e){t.envStack.length?(t.saveText(),t.stack.env=t.envStack.pop()):t.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote(t,e){t.string.charAt(t.i)===e?(t.text+="\u201c",t.i++):t.text+="\u2018"},CloseQuote(t,e){t.string.charAt(t.i)===e?(t.text+="\u201d",t.i++):t.text+="\u2019"},Tilde(t,e){t.text+="\xa0"},Space(t,e){t.text+=" ",t.GetNext()},SelfQuote(t,e){t.text+=e.substring(1)},Insert(t,e,s){t.text+=s},Accent(t,e,s){const r=t.ParseArg(e),i=t.create("token","mo",{},s);t.addAttributes(i),t.Push(t.create("node","mover",[r,i]))},Emph(t,e){const s="-tex-mathit"===t.stack.env.mathvariant?"normal":"-tex-mathit";t.Push(t.ParseTextArg(e,{mathvariant:s}))},TextFont(t,e,s){t.saveText(),t.Push(t.ParseTextArg(e,{mathvariant:s}))},SetFont(t,e,s){t.saveText(),t.stack.env.mathvariant=s},SetSize(t,e,s){t.saveText(),t.stack.env.mathsize=s},CheckAutoload(t,e){const s=t.configuration.packageData.get("autoload"),r=t.texParser;e=e.slice(1);const i=r.lookup(db.MACRO,e);if(!i||s&&i._func===s.Autoload){if(r.parse(db.MACRO,[r,e]),!i)return;xo(Promise.resolve())}r.parse(db.MACRO,[t,e])},Macro:qx.Macro,Spacer:qx.Spacer,Hskip:qx.Hskip,rule:qx.rule,Rule:qx.Rule,HandleRef:qx.HandleRef,UnderOver:qx.UnderOver,Lap:qx.Lap,Phantom:qx.Phantom,Smash:qx.Smash,MmlToken:qx.MmlToken};class TN extends yb{get texParser(){return this.configuration.packageData.get("textmacros").texParser}get tags(){return this.texParser.tags}constructor(t,e,s,r){super(t,e,s),this.level=r}mml(){return this.copyLists(),this.configuration.popParser(),null!=this.level?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):1===this.nodes.length?this.nodes[0]:this.create("node","mrow",this.nodes)}copyLists(){const t=this.texParser.configuration;for(const[e,s]of Object.entries(this.configuration.nodeLists))for(const r of s)t.addNode(e,r);this.configuration.nodeLists={}}Parse(){this.text="",this.nodes=[],this.envStack=[],super.Parse()}saveText(){if(this.text){const t=this.stack.env.mathvariant,e=Mb.internalText(this,this.text,t?{mathvariant:t}:{});this.text="",this.Push(e)}}Push(t){if(this.text&&this.saveText(),t instanceof cx)return super.Push(t);t instanceof Nx?this.stack.env.mathcolor=this.stack.env.color:t instanceof rn&&(this.addAttributes(t),this.nodes.push(t))}PushMath(t){const e=this.stack.env;for(const s of["mathsize","mathcolor"])e[s]&&!t.attributes.hasExplicit(s)&&(t.isToken||t.isKind("mstyle")||(t=this.create("node","mstyle",[t])),rb.setAttribute(t,s,e[s]));t.isInferred&&(t=this.create("node","mrow",t.childNodes)),t.isKind("TeXAtom")||(t=this.create("node","TeXAtom",[t])),this.nodes.push(t)}addAttributes(t){const e=this.stack.env;if(t.isToken)for(const s of["mathsize","mathcolor","mathvariant"])e[s]&&!t.attributes.hasExplicit(s)&&rb.setAttribute(t,s,e[s])}ParseTextArg(t,e){const s=this.GetArgument(t);return e=Object.assign(Object.assign({},this.stack.env),e),new TN(s,e,this.configuration).mml()}ParseArg(t){return new TN(this.GetArgument(t),this.stack.env,this.configuration).mml()}Error(t,e,...s){throw new gb(t,e,...s)}}function MN(t,e,s,r){if(t instanceof TN){if(!r)return void AN.Insert(t,e,s);t.saveText()}t.Push(Mb.internalText(t,s,r?{mathvariant:r}:{}))}new Yb("textcomp-macros",{textasciicircum:[MN,"^"],textasciitilde:[MN,"~"],textasteriskcentered:[MN,"*"],textbackslash:[MN,"\\"],textbar:[MN,"|"],textbraceleft:[MN,"{"],textbraceright:[MN,"}"],textbullet:[MN,"\u2022"],textdagger:[MN,"\u2020"],textdaggerdbl:[MN,"\u2021"],textellipsis:[MN,"\u2026"],textemdash:[MN,"\u2014"],textendash:[MN,"\u2013"],textexclamdown:[MN,"\xa1"],textgreater:[MN,">"],textless:[MN,"<"],textordfeminine:[MN,"\xaa"],textordmasculine:[MN,"\xba"],textparagraph:[MN,"\xb6"],textperiodcentered:[MN,"\xb7"],textquestiondown:[MN,"\xbf"],textquotedblleft:[MN,"\u201c"],textquotedblright:[MN,"\u201d"],textquoteleft:[MN,"\u2018"],textquoteright:[MN,"\u2019"],textsection:[MN,"\xa7"],textunderscore:[MN,"_"],textvisiblespace:[MN,"\u2423"],textacutedbl:[MN,"\u02dd"],textasciiacute:[MN,"\xb4"],textasciibreve:[MN,"\u02d8"],textasciicaron:[MN,"\u02c7"],textasciidieresis:[MN,"\xa8"],textasciimacron:[MN,"\xaf"],textgravedbl:[MN,"\u02f5"],texttildelow:[MN,"\u02f7"],textbaht:[MN,"\u0e3f"],textcent:[MN,"\xa2"],textcolonmonetary:[MN,"\u20a1"],textcurrency:[MN,"\xa4"],textdollar:[MN,"$"],textdong:[MN,"\u20ab"],texteuro:[MN,"\u20ac"],textflorin:[MN,"\u0192"],textguarani:[MN,"\u20b2"],textlira:[MN,"\u20a4"],textnaira:[MN,"\u20a6"],textpeso:[MN,"\u20b1"],textsterling:[MN,"\xa3"],textwon:[MN,"\u20a9"],textyen:[MN,"\xa5"],textcircledP:[MN,"\u2117"],textcompwordmark:[MN,"\u200c"],textcopyleft:[MN,"\u{1f12f}"],textcopyright:[MN,"\xa9"],textregistered:[MN,"\xae"],textservicemark:[MN,"\u2120"],texttrademark:[MN,"\u2122"],textbardbl:[MN,"\u2016"],textbigcircle:[MN,"\u25ef"],textblank:[MN,"\u2422"],textbrokenbar:[MN,"\xa6"],textdiscount:[MN,"\u2052"],textestimated:[MN,"\u212e"],textinterrobang:[MN,"\u203d"],textinterrobangdown:[MN,"\u2e18"],textmusicalnote:[MN,"\u266a"],textnumero:[MN,"\u2116"],textopenbullet:[MN,"\u25e6"],textpertenthousand:[MN,"\u2031"],textperthousand:[MN,"\u2030"],textrecipe:[MN,"\u211e"],textreferencemark:[MN,"\u203b"],textlangle:[MN,"\u2329"],textrangle:[MN,"\u232a"],textlbrackdbl:[MN,"\u27e6"],textrbrackdbl:[MN,"\u27e7"],textlquill:[MN,"\u2045"],textrquill:[MN,"\u2046"],textcelsius:[MN,"\u2103"],textdegree:[MN,"\xb0"],textdiv:[MN,"\xf7"],textdownarrow:[MN,"\u2193"],textfractionsolidus:[MN,"\u2044"],textleftarrow:[MN,"\u2190"],textlnot:[MN,"\xac"],textmho:[MN,"\u2127"],textminus:[MN,"\u2212"],textmu:[MN,"\xb5"],textohm:[MN,"\u2126"],textonehalf:[MN,"\xbd"],textonequarter:[MN,"\xbc"],textonesuperior:[MN,"\xb9"],textpm:[MN,"\xb1"],textrightarrow:[MN,"\u2192"],textsurd:[MN,"\u221a"],textthreequarters:[MN,"\xbe"],textthreesuperior:[MN,"\xb3"],texttimes:[MN,"\xd7"],texttwosuperior:[MN,"\xb2"],textuparrow:[MN,"\u2191"],textborn:[MN,"*"],textdied:[MN,"\u2020"],textdivorced:[MN,"\u26ae"],textmarried:[MN,"\u26ad"],textcentoldstyle:[MN,"\xa2",Eb.Variant.OLDSTYLE],textdollaroldstyle:[MN,"$",Eb.Variant.OLDSTYLE],textzerooldstyle:[MN,"0",Eb.Variant.OLDSTYLE],textoneoldstyle:[MN,"1",Eb.Variant.OLDSTYLE],texttwooldstyle:[MN,"2",Eb.Variant.OLDSTYLE],textthreeoldstyle:[MN,"3",Eb.Variant.OLDSTYLE],textfouroldstyle:[MN,"4",Eb.Variant.OLDSTYLE],textfiveoldstyle:[MN,"5",Eb.Variant.OLDSTYLE],textsixoldstyle:[MN,"6",Eb.Variant.OLDSTYLE],textsevenoldstyle:[MN,"7",Eb.Variant.OLDSTYLE],texteightoldstyle:[MN,"8",Eb.Variant.OLDSTYLE],textnineoldstyle:[MN,"9",Eb.Variant.OLDSTYLE]}),rx.create("text-textcomp",{[hb.PARSER]:"text",[hb.HANDLER]:{[db.MACRO]:["textcomp-macros"]}});const SN=rx.create("textcomp",{[hb.HANDLER]:{macro:["textcomp-macros"]},config(t,e){const s=e.parseOptions.packageData.get("textmacros");s&&(s.parseOptions.options.textmacros.packages.push("text-textcomp"),s.textConf.add("text-textcomp",e,{}))}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/textcomp",jr,"tex-extension"),Vr({_:{input:{tex:{textcomp:{TextcompConfiguration:Pr}}}}});const LN=Eb.Variant;new Kb("text-special",{$:AN.Math,"%":AN.Comment,"^":AN.MathModeOnly,_:AN.MathModeOnly,"&":AN.Misplaced,"#":AN.Misplaced,"~":AN.Tilde," ":AN.Space,"\t":AN.Space,"\r":AN.Space,"\n":AN.Space,"\xa0":AN.Tilde,"{":AN.OpenBrace,"}":AN.CloseBrace,"`":AN.OpenQuote,"'":AN.CloseQuote}),new Yb("text-macros",{"(":AN.Math,$:AN.SelfQuote,_:AN.SelfQuote,"%":AN.SelfQuote,"{":AN.SelfQuote,"}":AN.SelfQuote," ":AN.SelfQuote,"&":AN.SelfQuote,"#":AN.SelfQuote,"\\":[AN.Macro,"$\\\\$"],"'":[AN.Accent,"\xb4"],"\u2019":[AN.Accent,"\xb4"],"`":[AN.Accent,"`"],"\u2018":[AN.Accent,"`"],"^":[AN.Accent,"^"],'"':[AN.Accent,"\xa8"],"~":[AN.Accent,"~"],"=":[AN.Accent,"\xaf"],".":[AN.Accent,"\u02d9"],u:[AN.Accent,"\u02d8"],v:[AN.Accent,"\u02c7"],emph:AN.Emph,rm:[AN.SetFont,LN.NORMAL],mit:[AN.SetFont,LN.ITALIC],oldstyle:[AN.SetFont,LN.OLDSTYLE],cal:[AN.SetFont,LN.CALLIGRAPHIC],it:[AN.SetFont,"-tex-mathit"],bf:[AN.SetFont,LN.BOLD],sf:[AN.SetFont,LN.SANSSERIF],tt:[AN.SetFont,LN.MONOSPACE],frak:[AN.TextFont,LN.FRAKTUR],Bbb:[AN.TextFont,LN.DOUBLESTRUCK],tiny:[AN.SetSize,.5],Tiny:[AN.SetSize,.6],scriptsize:[AN.SetSize,.7],small:[AN.SetSize,.85],normalsize:[AN.SetSize,1],large:[AN.SetSize,1.2],Large:[AN.SetSize,1.44],LARGE:[AN.SetSize,1.73],huge:[AN.SetSize,2.07],Huge:[AN.SetSize,2.49],textnormal:[AN.Macro,"{\\rm #1}",1],textup:[AN.Macro,"{\\rm #1}",1],textrm:[AN.Macro,"{\\rm #1}",1],textit:[AN.Macro,"{\\it #1}",1],textbf:[AN.Macro,"{\\bf #1}",1],textsf:[AN.Macro,"{\\sf #1}",1],texttt:[AN.Macro,"{\\tt #1}",1],dagger:[AN.Insert,"\u2020"],ddagger:[AN.Insert,"\u2021"],S:[AN.Insert,"\xa7"],AA:[AN.Insert,"\u212b"],ldots:[AN.Insert,"\u2026"],vdots:[AN.Insert,"\u22ee"],",":[AN.Spacer,$o.thinmathspace],":":[AN.Spacer,$o.mediummathspace],">":[AN.Spacer,$o.mediummathspace],";":[AN.Spacer,$o.thickmathspace],"!":[AN.Spacer,$o.negativethinmathspace],enspace:[AN.Spacer,.5],quad:[AN.Spacer,1],qquad:[AN.Spacer,2],thinspace:[AN.Spacer,$o.thinmathspace],negthinspace:[AN.Spacer,$o.negativethinmathspace],hskip:AN.Hskip,hspace:AN.Hskip,kern:AN.Hskip,mskip:AN.Hskip,mspace:AN.Hskip,mkern:AN.Hskip,rule:AN.rule,Rule:[AN.Rule],Space:[AN.Rule,"blank"],color:AN.CheckAutoload,textcolor:AN.CheckAutoload,colorbox:AN.CheckAutoload,fcolorbox:AN.CheckAutoload,href:AN.CheckAutoload,style:AN.CheckAutoload,class:AN.CheckAutoload,data:AN.CheckAutoload,cssId:AN.CheckAutoload,unicode:AN.CheckAutoload,U:AN.CheckAutoload,char:AN.CheckAutoload,ref:[AN.HandleRef,!1],eqref:[AN.HandleRef,!0],underline:[AN.UnderOver,"2015"],llap:AN.Lap,rlap:AN.Lap,phantom:AN.Phantom,vphantom:[AN.Phantom,1,0],hphantom:[AN.Phantom,0,1],smash:AN.Smash,mmlToken:AN.MmlToken});const IN=rx.create("text-base",{[hb.PARSER]:"text",[hb.PRIORITY]:1,[hb.HANDLER]:{[db.CHARACTER]:["command","text-special"],[db.MACRO]:["text-macros"]},[hb.FALLBACK]:{[db.CHARACTER]:(t,e)=>{t.text+=e},[db.MACRO]:(t,e)=>{const s=t.texParser,r=s.lookup(db.MACRO,e);r&&r._func!==AN.Macro&&t.Error("MathMacro","%1 is only supported in math mode","\\"+e),s.parse(db.MACRO,[t,e])}},[hb.ITEMS]:{[ax.prototype.kind]:ax,[cx.prototype.kind]:cx,[wx.prototype.kind]:wx,[Nx.prototype.kind]:Nx}});function RN(t,e,s,r){const i=t.configuration.packageData.get("textmacros");return t instanceof TN||(i.texParser=t),i.parseOptions.clear(),[new TN(e,r?{mathvariant:r}:{},i.parseOptions,s).mml()]}const ON=rx.create("textmacros",{[hb.PRIORITY]:1,[hb.CONFIG]:(t,e)=>{const s=new ox(e.parseOptions.options.textmacros.packages,["tex","text"]);s.init();const r=new Rb(s,[]);r.options=e.parseOptions.options,s.config(e),Ub.addTags(s.tags),r.tags=Ub.getDefault(),r.tags.configuration=r,r.packageData=e.parseOptions.packageData,r.packageData.set("textmacros",{textConf:s,parseOptions:r,jax:e,texParser:null}),r.options.internalMath=RN},[hb.PREPROCESSORS]:[t=>{const e=t.data.packageData.get("textmacros");e.parseOptions.nodeFactory.setMmlFactory(e.jax.mmlFactory)}],[hb.OPTIONS]:{textmacros:{packages:["text-base"]}}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/textmacros",jr,"tex-extension"),Vr({_:{input:{tex:{textmacros:{TextMacrosConfiguration:Dr,TextMacrosMethods:Rr,TextParser:Or}}}}});const PN={},DN={Unicode(t,e){const s=t.GetBrackets(e);let r=null,i="";if(s&&(s.replace(/ /g,"").match(/^(\d+(\.\d*)?|\.\d+),(\d+(\.\d*)?|\.\d+)$/)?(r=s.replace(/ /g,"").split(/,/),i=t.GetBrackets(e)||""):i=s),i.match(/;/))throw new gb("BadFont","Font name for %1 can't contain semicolons",t.currentCS);const n=pb.trimSpaces(t.GetArgument(e)).replace(/^0x/,"x");if(!n.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/))throw new gb("BadUnicode","Argument to %1 must be a number",t.currentCS);const o=parseInt(n.match(/^x/)?"0"+n:n);PN[o]?i||(i=PN[o][2]):PN[o]=[800,200,i,o],r&&(PN[o][0]=Math.floor(1e3*parseFloat(r[0])),PN[o][1]=Math.floor(1e3*parseFloat(r[1])));const a=t.stack.env.font,c={};i?(PN[o][2]=c.fontfamily=i.replace(/'/g,"'"),a&&(a.match(/bold/)&&(c.fontweight="bold"),a.match(/italic|-mathit/)&&(c.fontstyle="italic"))):a&&(c.mathvariant=a);const l=t.create("token","mtext",c,aa(n));rb.setProperty(l,"unicode",!0),t.Push(l)},RawUnicode(t,e){const s=t.GetArgument(e).trim();if(!s.match(/^[0-9A-F]{1,6}$/))throw new gb("BadRawUnicode","Argument to %1 must a hexadecimal number with 1 to 6 digits",t.currentCS);const r=parseInt(s,16);t.string=String.fromCodePoint(r)+t.string.substring(t.i),t.i=0},Char(t,e){let s;const r=t.GetNext();let i="";const n=t.string.substring(t.i);if("'"===r)s=n.match(/^'([0-7]{1,7}) ?/u),s&&(i=String.fromCodePoint(parseInt(s[1],8)));else if('"'===r)s=n.match(/^"([0-9A-F]{1,6}) ?/),s&&(i=String.fromCodePoint(parseInt(s[1],16)));else if("`"===r){if(s=n.match(/^`(?:(\\\S)|(.))/u),s)if(s[2])i=s[2];else{t.i+=2;const e=[...t.GetCS()];if(e.length>1)throw new gb("InvalidAlphanumeric","Invalid alphanumeric constant for %1",t.currentCS);i=e[0],s=[""]}}else s=n.match(/^([0-9]{1,7}) ?/),s&&(i=String.fromCodePoint(parseInt(s[1])));if(!i)throw new gb("MissingNumber","Missing numeric constant for %1",t.currentCS);t.i+=s[0].length,i>="0"&&i<="9"?t.Push(t.create("token","mn",{},i)):i.match(/[A-Za-z]/)?t.Push(t.create("token","mi",{},i)):Vx(t,i)}};new Yb("unicode",{unicode:DN.Unicode,U:DN.RawUnicode,char:DN.Char});const BN=rx.create("unicode",{[hb.HANDLER]:{[db.MACRO]:["unicode"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/unicode",jr,"tex-extension"),Vr({_:{input:{tex:{unicode:{UnicodeConfiguration:Br}}}}}),new $b("upgreek",function(t,e){const s=e.attributes||{};s.mathvariant=Eb.Variant.NORMAL;const r=t.create("token","mi",s,e.char);t.Push(r)},{upalpha:"\u03b1",upbeta:"\u03b2",upgamma:"\u03b3",updelta:"\u03b4",upepsilon:"\u03f5",upzeta:"\u03b6",upeta:"\u03b7",uptheta:"\u03b8",upiota:"\u03b9",upkappa:"\u03ba",uplambda:"\u03bb",upmu:"\u03bc",upnu:"\u03bd",upxi:"\u03be",upomicron:"\u03bf",uppi:"\u03c0",uprho:"\u03c1",upsigma:"\u03c3",uptau:"\u03c4",upupsilon:"\u03c5",upphi:"\u03d5",upchi:"\u03c7",uppsi:"\u03c8",upomega:"\u03c9",upvarepsilon:"\u03b5",upvartheta:"\u03d1",upvarpi:"\u03d6",upvarrho:"\u03f1",upvarsigma:"\u03c2",upvarphi:"\u03c6",Upgamma:"\u0393",Updelta:"\u0394",Uptheta:"\u0398",Uplambda:"\u039b",Upxi:"\u039e",Uppi:"\u03a0",Upsigma:"\u03a3",Upupsilon:"\u03a5",Upphi:"\u03a6",Uppsi:"\u03a8",Upomega:"\u03a9"});const FN=rx.create("upgreek",{[hb.HANDLER]:{[db.MACRO]:["upgreek"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/upgreek",jr,"tex-extension"),Vr({_:{input:{tex:{upgreek:{UpgreekConfiguration:Fr}}}}});new Yb("verb",{verb:{Verb(t,e){const s=t.GetNext(),r=++t.i;if(""===s)throw new gb("MissingArgFor","Missing argument for %1",e);for(;t.i<t.string.length&&t.string.charAt(t.i)!==s;)t.i++;if(t.i===t.string.length)throw new gb("NoClosingDelim","Can't find closing delimiter for %1",t.currentCS);const i=t.string.slice(r,t.i).replace(/ /g,"\xa0");t.i++,t.Push(t.create("token","mtext",{mathvariant:Eb.Variant.MONOSPACE},i))}}.Verb});const qN=rx.create("verb",{[hb.HANDLER]:{[db.MACRO]:["verb"]}});MathJax.loader&&MathJax.loader.checkVersion("[tex]/verb",jr,"tex-extension"),Vr({_:{input:{tex:{verb:{VerbConfiguration:qr}}}}}),ii.preLoaded("loader","startup","core","input/tex-base","input/mml","output/chtml","ui/menu","[tex]/ams","[tex]/action","[tex]/amscd","[tex]/bbox","[tex]/boldsymbol","[tex]/braket","[tex]/bussproofs","[tex]/cancel","[tex]/cases","[tex]/centernot","[tex]/color","[tex]/colortbl","[tex]/configmacros","[tex]/enclose","[tex]/extpfeil","[tex]/gensymb","[tex]/html","[tex]/mathtools","[tex]/mhchem","[tex]/newcommand","[tex]/noerrors","[tex]/noundefined","[tex]/physics","[tex]/tagformat","[tex]/textcomp","[tex]/textmacros","[tex]/unicode","[tex]/upgreek","[tex]/verb"),Kx(["base","ams","action","amscd","bbox","boldsymbol","braket","bussproofs","cancel","cases","centernot","color","colortbl","configmacros","enclose","extpfeil","gensymb","html","mathtools","mhchem","newcommand","noerrors","noundefined","physics","tagformat","textcomp","textmacros","unicode","upgreek","verb"]),ii.saveVersion("tex-mml-full"),function(t,e){rh.loadFont(t,"chtml",Ql,e)}(function(t){return ii.load(...oi.load).then(()=>(t||function(){})()).then(()=>oi.ready()).catch(t=>oi.failed(t))},!0)})()})();